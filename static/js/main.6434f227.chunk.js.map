{"version":3,"sources":["assets/images/car-marker.png","actions/vehicles.js","reducers/vehicles.js","reducers/index.js","strengthchart.js","speedchart.js","signalMeter.js","datepickers.js","MapControlsManager.js","map.js","mediaControl.js","appBar.js","pagesAnalytics.js","pagesMedia.js","pagesChat.js","config.js","Arm6DOFController.js","ArmJoystickController.js","DriveControls.js","DpadController.js","SixDoFArm.js","ControlsManager.js","videoDeviceOpp.js","DeviceForm.js","geotrackmaindashboard.js","DeviceManager.js","ServerSettings.js","containers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","UPDATE_VEHICLES","RT_UPDATE_VEHICLES","REALTIME","CLEAR_DEVICES","vehicleId","fetchVehicles","dtFrom","dtTo","dispatch","axios","get","params","since","until","then","response","devices","data","updateVehicles","console","warn","concat","catch","error","vehicles","type","rtUpdateVehicles","initialState","vehiclesReducer","state","arguments","length","undefined","action","_objectSpread","rootReducer","combineReducers","StrengthChart","_Component","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","pos","_inherits","_createClass","key","value","nextProps","setState","React","createElement","ResponsiveContainer","width","height","LineChart","syncId","ReferenceLine","x","stroke","label","XAxis","dataKey","tick","YAxis","CartesianGrid","vertical","strokeDasharray","Tooltip","Line","Component","connect","str","SignalMeter","barStyle","bar","borderRadius","background","strength","react_default","a","style","padding","marginLeft","display","alignItems","justifyContent","DatePickers","_React$Component","handleChangedtFrom","date","handleChangedtTo","open","format","Date","selectedDate","bind","_assertThisInitialized","_this2","_this$state","classes","className","container","noValidate","Fragment","InlineDateTimePicker","onChange","textField","id","Button","color","onClick","submit","variant","button","withStyles","theme","spacing","unit","marginBottom","margin","leftIcon","marginRight","rightIcon","iconSmall","fontSize","txtField","controlConfig","name","MapControlsManager","_getPrototypeOf2","_len","args","Array","_key","apply","handleClickOpen","handleClose","handleToggle","controlId","_this$props","visibleControls","onVisibilityChange","_this$props2","IconButton","managerButton","SettingsIcon","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","dialogContent","List","map","control","ListItem","ListItemText","primary","ListItemSecondaryAction","Switch","checked","DialogActions","position","bottom","right","zIndex","backgroundColor","&:hover","minWidth","L","Icon","iconUrl","require","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","shadowUrl","shadowSize","shadowAnchor","cover","MapCard","handleZoom","event","_event$target$getCent","target","getCenter","lat","lng","zoom","getZoom","onTogglePlay","alert","play","handleControlVisibilityChange","isVisible","prevState","_defineProperty","mapRef","createRef","waypoints","deviceManager","infoPanel","videoPlayer","current","leafletElement","remove","e","positions","curMark","curSpeed","curSignal","Marker","Popup","popupsize","Player","playsInline","poster","src","Map","ref","center","handleClick","zoomControl","attributionControl","onzoom","TileLayer","url","attribution","ZoomControl","Polyline","weight","opacity","Portal","aria-label","onOpenDeviceManager","MemoryIcon","marginTop","vehicle","index","timestamp","_classes","AppCss","marker","bus","divIcon","classnames","html","CircleMarker","circle","long","radius","speed","root","flexGrow","overflow","backgroud","maxWidth","MediaControlCard","handleSlideChange","clear","showPlay","click","handlePlayStop","boo","MediaControlChange","btn","_React$createElement","max","step","Card","card","details","Slider","slider","min","thumbIconWrapper","PanoramaVertical","controls","handlePlaybuttons","direction","SkipNextIcon","SkipPreviousIcon","FastForwardIcon","FastRewindIcon","PlayArrowIcon","playIcon","StopIcon","flexDirection","content","flex","thumbIcon","withTheme","TopBar","anchorEl","mobileMoreAnchorEl","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","toggleDrawer","handleRealTimeClick","realtimeclick","realtime","isMenuOpen","Boolean","isMobileMenuOpen","sideList","list","text","ListItemIcon","InboxIcon","MailIcon","Divider","onOpenServerSettings","SettingsApplicationsIcon","renderMenu","Menu","anchorOrigin","horizontal","transformOrigin","MenuItem","renderMobileMenu","Badge","badgeContent","NotificationsIcon","AccountCircle","AppBar","Toolbar","menuButton","MenuIcon","Typography","title","noWrap","Drawer","tabIndex","role","onKeyDown","grow","sectionDesktop","RssFeedIcon","aria-owns","aria-haspopup","sectionMobile","MoreIcon","breakpoints","up","drawerTitle","paddingLeft","paddingRight","search","shape","fade","palette","common","white","searchIcon","pointerEvents","inputRoot","inputInput","paddingTop","paddingBottom","transition","transitions","create","AnalyticsPage","ts","grd","Paper","paper","gutterBottom","SpeedChart","left","textAlign","secondary","MediaPage","Grid","device","item","xs","sm","videoPaper","BigPlayButton","substring","from","placeholder","placeholderContent","VideocamOffIcon","icon","overflowY","grey","top","ChatPage","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","handleChangeMessage","message","msg","dt","getTime","handleSendMessage","messages","toConsumableArray","pad","number","dtnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","chatList","count","demo","Paper_default","cheight","msgDiv","TextField_default","helperText","fullWidth","InputLabelProps","shrink","Button_default","SAMPLE_SERVER_BASE_URL","APPLICATION_ID","SESSION_ID","TOKEN","MQTT_HOST","MQTT_OPTIONS","username","password","path","DRIVE_MQTT_TOPIC","ARM_MQTT_TOPIC","GRIPPER_MQTT_TOPIC","MQTT_PUBLISH_OPTIONS","qos","retain","Arm6DOFController","base","shoulder","elbow","wristPitch","wristRoll","gripper","handleChange","joint","log","sliderContainer","renderSlider","boxSizing","ArmJoystickController","handleDragStart","joystick","isDragging","preventDefault","window","addEventListener","handleDragMove","passive","handleDragEnd","getPointerPositionInSVG","svg","y","clientX","touches","clientY","rect","getBoundingClientRect","viewBox","baseVal","scaleX","scaleY","handleGripperDragStart","handleGripperDragMove","handleGripperDragEnd","newX","Math","abs","updateGripperValue","removeEventListener","newValue","parseFloat","toFixed","gripperValue","gripperCommand","publish","config","lastPosition","node","gripperNode","stick","querySelector","_this$getPointerPosit2","dx","dy","distance","sqrt","angle","atan2","cos","newY","sin","setAttribute","normalizedX","normalizedY","armPosition","offset","leftClawCx","rightClawCx","joystickContainer","joystickBase","cx","cy","r","fill","cursor","gripperContainer","rx","gripperTrack","gripperClaw","strokeWidth","joystickStick","DriveControls","classList","contains","hasDragged","isManuallyStopped","handleArrowClick","lockedArrowDirection","lastArrowClick","time","now","forw","back","handleStop","handleStickClick","lastDirection","_this$getPointerPosit","maxDistance","stickColor","x1","y1","x2","y2","joystickAxis","stopButton","DpadController","handleStopClick","dpadContainer","arrowButtonContainer","gridColumn","gridRow","arrowButton","ArrowUpward","ArrowBack","ArrowForward","ArrowDownward","gridTemplateColumns","gridTemplateRows","justifyItems","SixDoFArm","handleEEDragStart","dragging","document","_onEEMouseMove","_onEEUp","handlePointerDown","idx","touch","startDrag","reset","angles","svgRef","_onMouseMove","_onMouseUp","lengths","points","ax","ay","cum","i","nx","ny","push","pivot","computePositions","mouseX","mouseY","startMouseAngle","startAngle","pivotClient","_this$state$dragging","delta","prev","slice","targetX","targetY","solveIK","numJoints","iter","endEffector","vecToEE","vecToTarget","angleToEE","jointRadius","pts","links","strokeLinecap","jointCircles","_loop","pivotPoint","jointPoint","onMouseDown","onTouchStart","ee","ReplayIcon","stroke-opacity","defaultProps","ControlsManager","VideoDeviceOpp","handleError","initializeSession","OT","session","initSession","on","subscribe","stream","insertMode","publisher","initPublisher","resolution","frameRate","publishVideo","isPublishing","sessionStarted","initializeMqtt","mqtt","mqttClient","err","publishMqtt","topic","connected","handlePublishVideo","shouldPublish","togglePublisherWindow","showPublisher","armJoystick","arm6DOF","sixDoFArm","dpad","driveControls","disconnect","end","videos","subscriber","publisherContainer","sidePanel","sidePanelButton","PowerSettingsNewIcon","controlsContainer","backgroundImage","backgroundSize","backgroundPosition","border","connectContainer","transform","deviceTypes","DeviceForm","getInitialState","vehicleID","location","field","handleSave","prevProps","isEditing","TextField","disabled","select","option","socket","DeviceManager","formOpen","deviceToEdit","deviceId","handleEdit","handleDelete","confirm","handleAdd","handleFormClose","deviceMap","forEach","set","uniqueDevices","values","toLocaleString","defaultChecked","EditIcon","DeleteIcon","addButton","AddIcon","CONFIG_STORAGE_KEY","ServerSettings","loadSettings","storedSettings","localStorage","getItem","JSON","parse","defaultConfig","MQTT_USERNAME","MQTT_PASSWORD","MQTT_PATH","setItem","stringify","sectionTitle","multiline","Dashboard","handleDrawerOpen","handleDrawerClose","handleTabChange","handleSubmit","getISODateString","trim","actions","handleReset","stopPlayMap","handleRealTime","isRealTime","handleSlideClick","setMarker","handleMediaControlChange","num","len","playMap","handleDeviceManagerOpen","deviceManagerOpen","handleDeviceManagerClose","handleServerSettingsOpen","serverSettingsOpen","handleServerSettingsClose","rtcolor","toISOString","vLength","didMount","io","arr","getHours","getMinutes","getSeconds","_this3","currentValue","nextFrame","setLoop","setInterval","clearInterval","pageContainer","CssBaseline","mapContainer","videoContainer","rside","Tabs","tabs1","scrollButtons","centered","indicatorColor","textColor","Tab","InsertChart","VideoCam","Chat","minHeight","bullet","toolbar","toolbarIcon","mixins","chartContainer","tableContainer","h5","bindActionCreators","vehicleActions","createMuiTheme","teal","main","store","createStore","reducers","applyMiddleware","thunk","AppProvider","floor","random","MuiThemeProvider","MuiPickersUtilsProvider","utils","DateFnsUtils","Provider","Geomaindashboard","Main","ReactDOM","render","containers"],"mappings":"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","file":"static/js/main.6434f227.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car-marker.c37c7a43.png\";","import axios from 'axios';\n\nexport const UPDATE_VEHICLES = 'UPDATE_VEHICLES';\nexport const RT_UPDATE_VEHICLES = 'RT_UPDATE_VEHICLES'; // RealTime\nexport const REALTIME = 'SET_REALTIME';\nexport const CLEAR_DEVICES = 'CLEAR_DEVICES';\n\n// This points to a local JSON file for development/testing.\nconst apiUrl_local = './data.json';\n\n// This appears to be a hardcoded ID for a specific vehicle.\nconst vehicleId = 'dd7295fa-6c65-484d-b38d-30df3bc31c0c';\n\n/**\n * Fetches vehicle history data from a local JSON file.\n * @param {string} dtFrom - The start date/time for the data range.\n * @param {string} dtTo - The end date/time for the data range.\n */\nexport const fetchVehicles = (dtFrom, dtTo) => {\n  return (dispatch) => {\n    return axios.get(apiUrl_local, { params: { since: dtFrom, until: dtTo } })\n      .then(response => {\n        const devices = response.data && response.data.devices;\n        if (devices && devices[vehicleId]) {\n          dispatch(updateVehicles(devices[vehicleId]));\n        } else {\n          console.warn(`Vehicle data not found for ID: ${vehicleId}`);\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching vehicle data:', error);\n        throw(error);\n      });\n  };\n};\n/**\n * Creates a Redux action to update the vehicles in the store.\n * @param {Array} vehicles - The array of vehicle data points.\n */\nexport const updateVehicles = (vehicles) => {\n  return {\n    type: UPDATE_VEHICLES,\n    vehicles\n  };\n};\n\n/**\n * Creates a Redux action for real-time vehicle updates.\n * @param {Object} vehicles - The real-time vehicle data.\n */\nexport const rtUpdateVehicles = (vehicles) => {\n  return {\n    type: RT_UPDATE_VEHICLES,\n    vehicles\n  };\n};","import { UPDATE_VEHICLES, RT_UPDATE_VEHICLES ,CLEAR_DEVICES } from \"../actions/vehicles\";\nconst initialState = {\n      vehicles : [] // stores devices and data points\n  };\n\nconst vehiclesReducer = (state = initialState, action) => { \n  switch (action.type) {\n    case UPDATE_VEHICLES:\n      return { \n        ...state,\n        vehicles : state.vehicles.concat(action.vehicles) ,\n      };\n    case RT_UPDATE_VEHICLES:\n      return {\n        ...state,\n        vehicles: state.vehicles.concat(action.vehicles) ,\n      };\n    case CLEAR_DEVICES:\n      return {...state, \n        vehicles: []\n      };\n    default:\n      return state \n  }\n}\n\nexport default vehiclesReducer;","import { combineReducers } from \"redux\";\n\nimport vehicles from \"./vehicles\";\n\nconst rootReducer = combineReducers({\n  vehicles\n})\n\nexport default rootReducer;","import React, { Component } from 'react';\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer';\nimport LineChart from 'recharts/lib/chart/LineChart';\nimport Line from 'recharts/lib/cartesian/Line';\nimport XAxis from 'recharts/lib/cartesian/XAxis';\nimport YAxis from 'recharts/lib/cartesian/YAxis';\nimport CartesianGrid from 'recharts/lib/cartesian/CartesianGrid';\nimport Tooltip from 'recharts/lib/component/Tooltip';\nimport Legend from 'recharts/lib/component/Legend';\nimport ReferenceLine from 'recharts/lib/cartesian/ReferenceLine';\n\n\nimport { connect } from \"react-redux\";\n\n// import { number } from 'prop-types'; \n// import { scalePoint } from 'd3-scale';\n// const scale = scalePoint().base(Math.E);\n\nclass StrengthChart extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      pos: 0.\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.pos !== this.props.pos) {\n      this.setState({ pos: nextProps.pos });\n    }\n  } \n\n  render() {\n  \n      return (\n\n         <ResponsiveContainer width=\"99%\" height=\"80%\"> \n          <LineChart data={this.props.vehicles.vehicles} syncId=\"anyId\">\n            <ReferenceLine x={this.props.pos} stroke=\"red\" label=\"\" />\n            <XAxis dataKey=\"timestamp\"    tick={false} />\n            <YAxis />\n            <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n            <Tooltip />  \n            <Line type=\"monotone\" dataKey=\"rssi\" stroke=\"#82ca9d\" />\n          </LineChart> \n    </ResponsiveContainer>\n\n     \n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    vehicles: state.vehicles\n  }\n}\n\nexport default connect(mapStateToProps)(StrengthChart);\n","import React from 'react';\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer';\nimport LineChart from 'recharts/lib/chart/LineChart';\nimport Line from 'recharts/lib/cartesian/Line';\nimport XAxis from 'recharts/lib/cartesian/XAxis';\nimport YAxis from 'recharts/lib/cartesian/YAxis';\nimport CartesianGrid from 'recharts/lib/cartesian/CartesianGrid';\nimport Tooltip from 'recharts/lib/component/Tooltip';\nimport Legend from 'recharts/lib/component/Legend';\nimport ReferenceLine from 'recharts/lib/cartesian/ReferenceLine';\n \nimport { connect } from \"react-redux\";\n \nfunction SpeedChart(props) {\n  let str =  props.pos;\n   // 99% per https://github.com/recharts/recharts/issues/172\n   \n  return (\n    <ResponsiveContainer width=\"99%\" height=\"80%\">\n\n      <LineChart data={props.vehicles.vehicles} syncId=\"anyId\">\n        <XAxis label=\"Time\" dataKey=\"timestamp\" tick={false} />\n        <YAxis />\n        <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n        <Tooltip />\n        {/* <Legend  /> */}\n        <ReferenceLine  x={str} stroke=\"red\"  />\n        <Line type=\"monotone\" dataKey=\"speed\" stroke=\"#82ca9d\" />\n      </LineChart>\n    </ResponsiveContainer>\n  );\n}\n\n\nconst mapStateToProps = (state) => {\n  return { \n    vehicles: state.vehicles\n  }\n}\n\nexport default connect(mapStateToProps)(SpeedChart);\n","import React from 'react'\nimport PropTypes from 'prop-types';\n\nfunction SignalMeter (props) {\n  var containerStyle = {\n    width: 50,\n    height: 20,\n    padding: '5px',\n    marginLeft: '10px',\n    display: 'flex',\n    alignItems: 'flex-end',\n    justifyContent: 'space-between',\n    borderRadius: 2,\n    // background: '#eeeeee',\n  };\n\n  function barStyle(bar) {\n    return {\n      borderRadius: 2,\n      width: '20%',\n      height: `${25 * bar}%`,\n      background: props.strength >= 25 * (bar - 1) + 10 ? 'red' : 'lightgrey',\n    }\n  }\n\n  return (\n    <div style={containerStyle}>\n      <div style={barStyle(1)} />\n      <div style={barStyle(2)} />\n      <div style={barStyle(3)} />\n      <div style={barStyle(4)} />\n    </div>\n  )\n}\n\nSignalMeter.propTypes = {\n  strength: PropTypes.number.isRequired,\n}\n\nexport default SignalMeter","import React, { Fragment, PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { format } from 'date-fns'; \n\nimport { DateTimePicker, InlineDateTimePicker } from 'material-ui-pickers';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex', \n    padding: theme.spacing.unit,\n    marginBottom: 1, \n    width: \"100%\"\n  }, \n  button: {\n    margin: theme.spacing.unit,\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n  rightIcon: {\n    marginLeft: theme.spacing.unit,\n  },\n  iconSmall: {\n    fontSize: 20,\n  },\n  label: {\n    padding: 5,\n    marginBottom: theme.spacing.unit,\n  },\n  txtField: { \n    marginLeft: theme.spacing.unit,\n    marginRight: theme.spacing.unit,\n    width: 200,\n    color: 'white',\n  }\n});\n\nclass DatePickers extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      dtFrom: format(new Date('2018-12-05T03:17-08:00'), \"MM/dd/yyyy hh:mm a\"),\n      dtTo: format(new Date('2018-12-17T03:45-08:00'), \"MM/dd/yyyy hh:mm a\"),\n      selectedDate: new Date('2018-01-01T00:00:00.000Z'),\n    };\n\n    this.handleChangedtFrom = this.handleChangedtFrom.bind(this);\n    this.handleChangedtTo = this.handleChangedtTo.bind(this);\n  }\n\n  handleChangedtFrom = date => {\n    this.setState({ dtFrom: date });\n  };\n\n  handleChangedtTo = date => {\n    this.setState({ dtTo: date });\n  }\n\n\n\n  render() {\n    const { selectedDate, dtFrom, dtTo } = this.state;\n    const { classes } = this.props;\n    \n    function pad(number) {\n      if (number < 10) {\n        return '0' + number;\n      }\n      return number;\n    };\n \n\n    return (\n      <form className={classes.container} noValidate>\n        <Fragment>\n          <div className=\"picker\">\n            <InlineDateTimePicker\n              value={dtFrom}\n              onChange={this.handleChangedtFrom}\n              className={classes.textField}\n              id=\"from\"\n              label=\"From\"\n              format=\"MM/dd/yyyy hh:mm a\"\n            />\n          </div>\n          <div className=\"picker\">\n            <InlineDateTimePicker\n              value={dtTo}\n              onChange={this.handleChangedtTo}\n              id=\"to\"\n              label=\"To\"\n              format=\"MM/dd/yyyy hh:mm a\"\n            />\n          </div>\n        </Fragment>\n        <div>\n          <Button color=\"secondary\" onClick={() => this.props.submit(this.state.dtFrom, this.state.dtTo)} variant=\"contained\" className={classes.button}>\n            Go\n      </Button> \n        </div>\n      </form>\n    );\n  }\n}\n\nDatePickers.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(DatePickers);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Switch from '@material-ui/core/Switch';\nimport IconButton from '@material-ui/core/IconButton';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst styles = theme => ({\n  managerButton: {\n    position: 'absolute',\n    bottom: theme.spacing.unit * 10, // Adjusted to not overlap with zoom controls\n    right: theme.spacing.unit,\n    zIndex: 1001, // Above other map controls\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    color: 'white',\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    },\n  },\n  dialogContent: {\n    minWidth: 300,\n  },\n});\n\nconst controlConfig = [\n  { id: 'deviceManager', name: 'Device Manager Button' },\n  { id: 'infoPanel', name: 'Info Panel (Speed/Signal)' },\n  { id: 'videoPlayer', name: 'Video Player' },\n];\n\nclass MapControlsManager extends React.Component {\n  state = {\n    open: false,\n  };\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleToggle = controlId => () => {\n    const { visibleControls, onVisibilityChange } = this.props;\n    onVisibilityChange(controlId, !visibleControls[controlId]);\n  };\n\n  render() {\n    const { classes, visibleControls } = this.props;\n    const { open } = this.state;\n\n    return (\n      <div>\n        <IconButton className={classes.managerButton} onClick={this.handleClickOpen}>\n          <SettingsIcon />\n        </IconButton>\n        <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"map-controls-manager-title\">\n          <DialogTitle id=\"map-controls-manager-title\">Manage Map Controls</DialogTitle>\n          <DialogContent className={classes.dialogContent}>\n            <List>\n              {controlConfig.map(control => (\n                <ListItem key={control.id}>\n                  <ListItemText primary={control.name} />\n                  <ListItemSecondaryAction>\n                    <Switch onChange={this.handleToggle(control.id)} checked={!!visibleControls[control.id]} />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">Close</Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nMapControlsManager.propTypes = {\n  classes: PropTypes.object.isRequired,\n  visibleControls: PropTypes.object.isRequired,\n  onVisibilityChange: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(MapControlsManager);","import React, { Component } from \"react\";\nimport classnames from \"classnames\";\nimport { connect } from \"react-redux\";\n// react-leaflet\nimport { Map, VideoOverlay, CircleMarker, Polyline, Marker, TileLayer, Popup, ZoomControl } from 'react-leaflet';\nimport L from 'leaflet';\n// import 'leaflet/dist/leaflet.css'; \nimport { Portal } from \"react-leaflet-portal\";\nimport IconButton from '@material-ui/core/IconButton';\nimport MemoryIcon from '@material-ui/icons/Memory';\nimport { divIcon, point } from \"leaflet\";\n\nimport map from \"lodash/map\";\nimport { withStyles } from '@material-ui/core/styles';\nimport AppCss from \"./containers/app.css\";\n// import LegendControl from \"./map_legend\";\nimport SignalMeter from \"./signalMeter\";\nimport DatePickers from './datepickers';\nimport MapControlsManager from './MapControlsManager';\n\nimport \"../node_modules/video-react/dist/video-react.css\";\nimport { Player } from 'video-react';\n\nexport const carMarker = new L.Icon({\n  iconUrl: require('./assets/images/car-marker.png'),\n  iconRetinaUrl: require('./assets/images/car-marker.png'),\n  iconAnchor: [20, 40],\n  popupAnchor: [0, -35],\n  iconSize: [40, 40],\n  shadowUrl: './assets/images/marker-shadow.png',\n  shadowSize: [29, 40],\n  shadowAnchor: [7, 40],\n})\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    display: 'flex',\n    // padding: theme.spacing.unit * 1,\n    // padding: theme.spacing.unit * 3,\n    height: '100vh',\n    overflow: 'auto',\n    height: '100%',\n\n  },\n  circle: {\n    color: 'green',\n    backgroud: 'white',\n\n  },\n  popupsize: {\n    maxWidth: '300px',\n    minWidth: '200px',\n  }\n});\n\nlet position = [\n  37.774304,\n  -122.441951,\n];\nconst cover = { position: 'relative', width: '100%', height: '100%' };\n\nclass MapCard extends Component {\n  constructor(props) {\n    super(props);\n    this.mapRef = React.createRef();\n\n    // this.onWaypointsChange = this.onWaypointsChange.bind(this);\n\n    this.state = {\n      waypoints: [],\n      // positions: [\n      //   [43.604403, 1.443373],\n      //   [43.613547, 1.308568]\n      // ],\n      zoom: 16,\n      play: false,\n      visibleControls: {\n        deviceManager: true,\n        infoPanel: true,\n        videoPlayer: true,\n      },\n    };\n  }\n  // static defaultProps = {\n  //   center: {\n  //     lat: 37.774304,\n  //     lng: -122.441951\n  //   },\n  //   zoom: 11,\n  // };\n\n  componentWillUnmount() {\n    if (this.mapRef.current && this.mapRef.current.leafletElement) {\n      this.mapRef.current.leafletElement.remove();\n    }\n  }\n\n  handleZoom = (event) => {\n    const { lat, lng } = event.target.getCenter();\n    this.setState({ lat, lng, zoom: event.target.getZoom() });\n    // alert(event.target.getZoom());\n  }\n\n  onTogglePlay = () => {\n    alert('play');\n    this.setState({ play: !this.state.play })\n  }\n  handleClick(e){\n    // This function is triggered on map clicks.\n    // The alert has been removed as requested.\n  }\n\n  handleControlVisibilityChange = (controlId, isVisible) => {\n    this.setState(prevState => ({\n      visibleControls: {\n        ...prevState.visibleControls,\n        [controlId]: isVisible,\n      },\n    }));\n  };\n\n  render() {\n    const vehicles = this.props.vehicles.vehicles || [];\n    const { zoom, visibleControls } = this.state;\n    const { classes } = this.props;\n\n    let positions = vehicles.map(function (x) {\n      return [x['lat'], x['long']];\n    });\n    // console.log('positions', positions[0]);\n    // const bounds = L.latLngBounds(positions);\n    {/* <CircleMarker  style={{  backgroundColor:\"#fff\"}}   center={[vehicle.lat, vehicle.long]} radius={8} attribution={index}> <Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup>\n                </CircleMarker> */}\n    let curMark = null;\n    let curSpeed = 0;\n    let curSignal = \"\"\n    if (positions[this.props.pos]) {\n      position = positions[this.props.pos];\n\n      curSpeed = vehicles[this.props.pos][\"speed\"];\n      curSignal = vehicles[this.props.pos][\"rssi\"];\n      // curMark = <Marker position={positions[this.props.pos]}  icon={carMarker} ></Marker>\n      curMark = <Marker position={positions[this.props.pos]}   >\n        <Popup className={classes.popupsize} >speed: {curSpeed}<br /> Signal: {curSignal}\n          <Player style={{ width: '400px', height: '300px' }}\n            playsInline\n            poster=\"/assets/poster.png\"\n            src=\"https://www.mapbox.com/bites/00188/patricia_nasa.mp4\"\n          />\n        </Popup>\n      </Marker>\n      // ts = new Date(  vehicles[this.props.pos][\"timestamp\"]);\n    }\n\n    //     var info = L.control();\n    // info.onAdd = function (Map) {\n    //     this._div = L.DomUtil.create('div', 'info'); // create a div with a class \"info\"\n    //     this.update();\n    //     return this._div;\n    // };\n\n    // // method that we will use to update the control based on feature properties passed\n    // info.update = function (props) {\n    //     this._div.innerHTML = '<h4>US Population Density</h4>' +  (props ?\n    //         '<b>' + props.name + '</b><br />' + props.density + ' people / mi<sup>2</sup>'\n    //         : 'Hover over a state');\n    // };\n\n    // info.addTo(Map);\n\n    return (\n\n      <Map ref={this.mapRef} center={position} zoom={zoom} onClick={this.handleClick} zoomControl={false} style={cover} attributionControl={false} onzoom={this.handleZoom}  >\n        <TileLayer\n          url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        <ZoomControl position=\"bottomright\" />\n        <Polyline\n          positions={positions}\n          color={'green'}\n          weight={3}\n          opacity={0.4}\n        />\n        {curMark}\n        <MapControlsManager\n          visibleControls={visibleControls}\n          onVisibilityChange={this.handleControlVisibilityChange}\n        />\n        <Portal position=\"topright\">\n          <div>\n            {visibleControls.deviceManager && (\n              <IconButton style={{ backgroundColor: 'rgba(255,255,255,0.7)' }} aria-label=\"Manage Devices\" onClick={this.props.onOpenDeviceManager}>\n                <MemoryIcon />\n              </IconButton>\n            )}\n            {visibleControls.infoPanel && (\n              <div style={{ backgroundColor: \"#000\", display: 'flex', width: \"150px\", fontSize: 14, color: \"#fff\", opacity: 0.7, padding: 6, marginTop: 8 }}>\n                <span  >{curSpeed} mph </span>\n                <SignalMeter strength={curSignal * 25} /> <span  >{curSignal} </span>\n              </div>\n            )}\n            {visibleControls.videoPlayer && (\n              <Player style={{ width: '200px', height: '200px', marginTop: 8 }}\n                playsInline\n                poster=\"/assets/poster.png\"\n                src=\"https://www.mapbox.com/bites/00188/patricia_nasa.mp4\"\n              />\n            )}\n          </div>\n        </Portal>\n\n        {\n          map(vehicles, (vehicle, index) => {\n            const { timestamp, type } = vehicle;\n            let classes = {\n              [AppCss.marker]: true,\n              [AppCss.bus]: true\n            }\n            // classes[AppCss.bus] = true;\n            // if (type == 'rail') {\n            //   classes[AppCss[`rail${timestamp}`]] = true;\n            // } else if (type == 'bus') {\n            //   classes[AppCss.bus] = true;\n            // }\n            const icon = divIcon({ className: classnames(classes), html: `<span>${index}</span>` });\n            //   const iconBtn=`<IconButton\n\n            // >\n            //   <AccountCircle />${index}\n            // </IconButton>`\n            //   const icon = divIcon({ className: classnames(classes), html: {iconBtn} });\n            return (\n              // <Marker   key={index} position={[vehicle.lat, vehicle.long]} ><Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup> </Marker>\n              <CircleMarker style={{ color: \"red\" }} className={classes.circle} key={index} center={[vehicle.lat, vehicle.long]} radius={5} attribution={index}   >\n                <Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup>\n              </CircleMarker>\n            )\n          })\n        }\n        {/* <VideoOverlay\n          bounds={[position, [ 37 ,  -122 ]]} onClick={this.onTogglePlay} \n          play={this.state.play}\n          url=  \"https://www.mapbox.com/bites/00188/patricia_nasa.mp4\"\n  /> */}\n      </Map>\n\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    vehicles: state.vehicles\n  }\n}\nexport default withStyles(styles)(connect(mapStateToProps)(MapCard));\n\n\n\n// --- With Google Maps \n// <div style={{ height: '100vh', width: '100%' }}>\n//           <GoogleMapReact\n//             bootstrapURLKeys={{ key: ' ' }}\n//             defaultCenter={position}\n//             defaultZoom={this.props.zoom}\n//           >\n//             <AnyReactComponent\n//               lat={59.955413}\n//               lng={30.337844}\n//               text={'Indo-mars.com/geotracker'}\n//             />\n//             {\n//               map(vehicles, (vehicle) => {\n//                 const { routeNumber, type } = vehicle;\n//                 let classes = {\n//                   [AppCss.marker]: true\n//                 }\n//                 if (type == 'rail') {\n//                   classes[AppCss[`rail${routeNumber}`]] = true;\n//                 } else if (type == 'bus') {\n//                   classes[AppCss.bus] = true;\n//                 }\n\n//                 const icon = divIcon({ className: classnames(classes), html: `<span>${routeNumber}</span>` });\n//                 return (\n//                   <Marker icon={icon} key={vehicle.vehicleID} position={[vehicle.latitude, vehicle.longitude]} />\n//                 )\n//               })\n//             }\n//           </GoogleMapReact>\n//         </div>","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport StopIcon from '@material-ui/icons/Stop';\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\nimport FastForwardIcon from '@material-ui/icons/FastForward';\nimport FastRewindIcon from '@material-ui/icons/FastRewind';\n\nimport Slider from '@material-ui/lab/Slider';\n// import LensIcon from '@material-ui/icons/LensOutlined';\nimport PanoramaVertical from '@material-ui/icons/PanoramaVertical';\n\nconst styles = theme => ({\n  card: {\n    // display: 'flex',\n    width: \"100%\"\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    // width: \"100%\",\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    width: '100%',\n  },\n  controls: {\n    width: '100%',\n    display: 'flex',\n    // alignItems: 'center',\n    justifyContent: 'center',\n    // paddingLeft: theme.spacing.unit * 3 ,\n    // paddingBottom: theme.spacing.unit,\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n  slider: {\n    padding: '22px 0px',\n  },\n  thumbIcon: {\n    borderRadius: '50%',\n  },\n  thumbIconWrapper: {\n    backgroundColor: '#fff',\n  },\n});\n\nclass MediaControlCard extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: 0,\n      showPlay: true,\n    };\n    // this.handleChange = this.handleChange.bind(this);\n    // this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  \n   \n  componentWillReceiveProps(nextProps) {  \n    // if(nextProps.value == 0){\n    // this.setState({ showPlay: true });}\n  }\n\n  handleSlideChange = (event, value) => {\n    console.clear('media value:', value);\n    this.setState({ showPlay: true });\n    this.props.click(value);\n  };\n\n  handlePlaybuttons(btn) {\n    switch (btn) {\n      case 0:\n      case -1:\n      case 1:\n      case 9:\n        this.props.MediaControlChange(btn);\n        this.setState({ showPlay: true })\n        break;\n    }\n  }\n\n  handlePlayStop = () => {\n    let boo = false;\n    if (this.state.showPlay) {\n      boo = false;\n      this.props.MediaControlChange(5);\n    } else {\n      boo = true;\n      this.props.MediaControlChange(-5);\n    }\n    this.setState({ showPlay: boo })\n\n  }\n\n\n\n  // function MediaControlCard(props) {\n  render() {\n    const { classes, theme, max, value } = this.props;\n    this.step = 1;\n    // let isPlay = this.state.isPlay;\n\n    return (\n\n      <Card className={classes.card}>\n\n        <div className={classes.details}>\n          <Slider\n            classes={{ container: classes.slider }}\n            value={value}\n            min={0}\n            max={max}\n            step={this.step}\n            aria-labelledby=\"slider-image\"\n            onChange={this.handleSlideChange}\n            classes={{\n              container: classes.slider,\n              thumbIconWrapper: classes.thumbIconWrapper,\n            }}\n            thumb={<PanoramaVertical style={{ color: '#2196f3' }} />}\n          />\n        </div>\n        <div className={classes.controls}>\n          <IconButton aria-label=\"First\" onClick={this.handlePlaybuttons.bind(this, 0)}  >\n            {theme.direction === 'rtl' ? <SkipNextIcon /> : <SkipPreviousIcon />}\n          </IconButton>\n          <IconButton aria-label=\"Previous\" onClick={this.handlePlaybuttons.bind(this, -1)} >\n            {theme.direction === 'rtl' ? <FastForwardIcon /> : <FastRewindIcon />}\n          </IconButton>\n          {(this.state.showPlay) ? (\n            <IconButton aria-label=\"Play/pause\" onClick={this.handlePlayStop} >\n              <PlayArrowIcon className={classes.playIcon} />\n            </IconButton>\n          ) : (\n              <IconButton aria-label=\"stop\" onClick={this.handlePlayStop} >\n                < StopIcon className={classes.playIcon} />\n              </IconButton>\n            )}\n          <IconButton aria-label=\"Next\" onClick={this.handlePlaybuttons.bind(this, 1)} >\n            {theme.direction === 'rtl' ? <FastRewindIcon /> : <FastForwardIcon />}\n          </IconButton>\n          <IconButton aria-label=\"Last\" onClick={this.handlePlaybuttons.bind(this, 9)} >\n            {theme.direction === 'rtl' ? <SkipPreviousIcon /> : <SkipNextIcon />}\n          </IconButton>\n        </div>\n\n      </Card>\n    );\n  };\n}\n\nMediaControlCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(MediaControlCard);\n\n\n//  <Typography component=\"h5\" variant=\"h5\">\n//               Live From Vehicle\n//           </Typography>\n//             <Typography variant=\"subtitle1\" color=\"textSecondary\">\n\n//             </Typography>","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport InputBase from '@material-ui/core/InputBase';\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport MailIcon from '@material-ui/icons/Mail';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport SettingsApplicationsIcon from '@material-ui/icons/SettingsApplications';\nimport RssFeedIcon from '@material-ui/icons/RssFeed';\n\nimport DatePickers from './datepickers';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  bar:{height:'48px'},\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  drawerTitle: {\n    paddingLeft: theme.spacing.unit * 2,\n    paddingRight: theme.spacing.unit * 2,\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginRight: theme.spacing.unit * 2,\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing.unit * 3,\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing.unit * 9,\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '100%',\n  },\n  inputInput: {\n    paddingTop: theme.spacing.unit,\n    paddingRight: theme.spacing.unit,\n    paddingBottom: theme.spacing.unit,\n    paddingLeft: theme.spacing.unit * 10,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: 200,\n    },\n  },\n  sectionDesktop: {\n    display: 'flex',\n    alignItems: 'center',\n    // [theme.breakpoints.up('md')]: {\n    //   display: 'flex',\n    // },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('md')]: {\n      display: 'none',\n    },\n  },\n});\n\nclass TopBar extends React.Component {\n  state = {\n    anchorEl: null,\n    mobileMoreAnchorEl: null,\n    open: false,\n  };\n\n  handleProfileMenuOpen = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleMenuClose = () => {\n    this.setState({ anchorEl: null });\n    this.handleMobileMenuClose();\n  };\n\n  handleMobileMenuOpen = event => {\n    this.setState({ mobileMoreAnchorEl: event.currentTarget });\n  };\n\n  handleMobileMenuClose = () => {\n    this.setState({ mobileMoreAnchorEl: null });\n  };\n\n  toggleDrawer = () => () => {\n    this.setState({\n      open: !this.state.open,\n    });\n  };\n\n  handleRealTimeClick = () => {\n    this.props.realtimeclick(!this.props.realtime);\n  };\n\n\n  render() {\n    const { anchorEl, mobileMoreAnchorEl } = this.state;\n    const { classes } = this.props;\n    const isMenuOpen = Boolean(anchorEl);\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n    const sideList = (\n      <div className={classes.list}>\n        <List>\n          {['Bookmarks', 'Filters', 'DataSources', 'Reports'].map((text, index) => (\n            <ListItem button key={text}>\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <List>\n          {['History', 'Settings'].map((text, index) => (\n            <ListItem button key={text}>\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <ListItem button onClick={this.props.onOpenServerSettings}>\n          <ListItemIcon><SettingsApplicationsIcon /></ListItemIcon>\n          <ListItemText primary=\"Server Settings\" />\n        </ListItem>\n      </div>\n    );\n\n    const renderMenu = (\n      <Menu\n        anchorEl={anchorEl}\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={isMenuOpen}\n        onClose={this.handleMenuClose}\n      >\n        <MenuItem onClick={this.handleMenuClose}>Profile</MenuItem>\n        <MenuItem onClick={this.handleMenuClose}>My account</MenuItem>\n      </Menu>\n    );\n\n    const renderMobileMenu = (\n      <Menu\n        anchorEl={mobileMoreAnchorEl}\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n        open={isMobileMenuOpen}\n        onClose={this.handleMobileMenuClose}\n      >\n        <MenuItem>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={4} color=\"secondary\">\n              <MailIcon />\n            </Badge>\n          </IconButton>\n          <p>Messages</p>\n        </MenuItem>\n        <MenuItem>\n          <IconButton color=\"inherit\">\n            <Badge badgeContent={11} color=\"secondary\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <p>Notifications</p>\n        </MenuItem>\n        <MenuItem onClick={this.handleProfileMenuOpen}>\n          <IconButton color=\"inherit\">\n            <AccountCircle />\n          </IconButton>\n          <p>Profile</p>\n        </MenuItem>\n      </Menu>\n    );\n\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"static\" className={classes.bar}>\n          <Toolbar className={classes.bar}>\n            <IconButton onClick={this.toggleDrawer('left', true)} className={classes.menuButton} color=\"inherit\" aria-label=\"Open drawer\">\n              <MenuIcon />\n            </IconButton>\n            <Typography className={classes.title} variant=\"h5\" color=\"inherit\" noWrap>\n              Mars Geo Tracker\n            </Typography>\n\n            <Drawer open={this.state.open} onClose={this.toggleDrawer('left', false)}>\n              <div\n                tabIndex={0}\n                role=\"button\"\n                onClick={this.toggleDrawer('left', true)}\n                onKeyDown={this.toggleDrawer('left', false)}>\n                <AppBar position=\"static\" color=\"primary\">\n                  <Toolbar>\n                    <Typography className={classes.title} variant=\"h8\" color=\"inherit\" noWrap>\n                      Mars Geo Tracker\n                    </Typography>\n                  </Toolbar>\n                </AppBar>\n                {sideList}\n              </div>\n            </Drawer>\n            {/* <div className={classes.search}>\n              <div className={classes.searchIcon}>\n                <SearchIcon />\n              </div>\n              <InputBase\n                placeholder=\"Search…\"\n                classes={{\n                  root: classes.inputRoot,\n                  input: classes.inputInput,\n                }}\n              />\n            </div> */}\n            <div className={classes.grow} />\n            <div className={classes.sectionDesktop}>\n\n              <DatePickers submit={this.props.submit} />\n\n              <IconButton\n                color=\"inherit\"\n                style={{ color: this.props.realtime ? 'red' : 'inherit' }}\n                onClick={this.handleRealTimeClick}>\n                <RssFeedIcon />\n              </IconButton>\n              {/* <IconButton color=\"inherit\">\n                <Badge badgeContent={4} color=\"secondary\">\n                  <MailIcon />\n                </Badge>\n              </IconButton>\n              <IconButton color=\"inherit\">\n                <Badge badgeContent={17} color=\"secondary\">\n                  <NotificationsIcon />\n                </Badge>\n              </IconButton> */}\n              <IconButton color=\"inherit\">\n                <Badge badgeContent={11} color=\"secondary\">\n                  <NotificationsIcon />\n                </Badge>\n              </IconButton>\n              <IconButton\n                aria-owns={isMenuOpen ? 'material-appbar' : undefined}\n                aria-haspopup=\"true\"\n                onClick={this.handleProfileMenuOpen}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n            </div>\n            <div className={classes.sectionMobile}>\n              <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen} color=\"inherit\">\n                <MoreIcon />\n              </IconButton>\n            </div>\n          </Toolbar>\n        </AppBar>\n        {renderMenu}\n        {renderMobileMenu}\n      </div>\n    );\n  }\n}\n\nTopBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  submit: PropTypes.func.isRequired,\n  realtime: PropTypes.bool.isRequired,\n  realtimeclick: PropTypes.func.isRequired,\n  onOpenServerSettings: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(TopBar);\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport StrengthChart from './strengthchart';\nimport SpeedChart from './speedchart';\nimport DatePickers from './datepickers';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\n// import * as vehicleActions from \"./actions/vehicles\";\n// import { bindActionCreators } from \"redux\";\n\nconst styles = theme => ({\n  \n  grd: {\n    height: '100%',\n    padding: theme.spacing.unit,\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  // center: {\n  //   textAlign: 'center',\n  // },\n  left: { textAlign: 'center', },\n  paper: { \n    flex: 1,\n    display: 'flex',\n    flexDirection: 'column',\n    textAlign: 'left',\n    color: theme.palette.text.secondary,\n    margin: '0 2px 2px',\n  },\n  // control: {\n  //   padding: theme.spacing.unit * 2,\n  // },\n  // card: {\n  //   minWidth: 2,\n  // },\n  // bullet: {\n  //   display: 'inline-block',\n  //   margin: '0 2px',\n  //   transform: 'scale(0.8)',\n  // },\n  // title: {\n  //   fontSize: 12,\n  // },\n  // pos: {\n  //   marginBottom: 12,\n  // },\n  // toolbar: {\n  //   paddingRight: 24, // keep right padding when drawer closed\n  // },\n  // toolbarIcon: {\n  //   display: 'flex',\n  //   alignItems: 'center',\n  //   justifyContent: 'flex-end',\n  //   padding: '0 8px',\n  //   ...theme.mixins.toolbar,\n  // }, \n  // chartContainer: {\n  //   marginLeft: -22,\n  // },\n  // tableContainer: {\n  //   width: '100%',\n  //   height: '70%',\n  // },\n  // h5: {\n  //   marginBottom: theme.spacing.unit * 2,\n  // },\n  // button: {\n  //   margin: theme.spacing.unit,\n  //   margin: '0 0 0 12px',\n  // },\n});\nclass AnalyticsPage extends React.Component { \n  render() {\n    const { pos, classes } = this.props;\n    let ts = pos;\n\n    return ( \n      <div className={classes.grd}>\n        <Paper className={classes.paper}>\n          <Typography variant=\"subtitle2\" gutterBottom   >\n            Signal Strength\n            </Typography>\n          <StrengthChart pos={ts} />\n        </Paper>\n        <Paper className={classes.paper}>\n          <Typography variant=\"subtitle2\" gutterBottom  >\n            Speed\n            </Typography>\n          <SpeedChart pos={ts} />\n        </Paper>\n        <Paper className={classes.paper}>\n          <Typography variant=\"subtitle2\" gutterBottom  >\n            Acceleration\n                  </Typography>\n          <SpeedChart pos={ts} />\n        </Paper> \n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    vehicles: state.vehicles\n  }\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(AnalyticsPage));\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport VideocamOffIcon from '@material-ui/icons/VideocamOff';\n\nimport \"../node_modules/video-react/dist/video-react.css\";\nimport { Player, BigPlayButton } from 'video-react';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    padding: theme.spacing.unit * 2,\n    height: '100%',\n    overflowY: 'auto',\n  },\n  videoPaper: {\n    padding: theme.spacing.unit,\n    textAlign: 'center',\n    color: theme.palette.text.secondary,\n  },\n  placeholder: {\n    width: '100%',\n    paddingTop: '56.25%', // 16:9 Aspect Ratio\n    backgroundColor: theme.palette.grey[200],\n    position: 'relative',\n  },\n  placeholderContent: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n    color: theme.palette.grey[500],\n  },\n  icon: {\n    fontSize: 48,\n    marginBottom: theme.spacing.unit,\n  },\n});\n\nclass MediaPage extends React.Component {\n  render() {\n    const { classes, vehicles } = this.props;\n    const deviceData = vehicles.vehicles || [];\n\n    // This logic currently assumes one device if any data is present.\n    // A more robust implementation would depend on having a dedicated list of all registered devices.\n    const hasDevices = deviceData.length > 0;\n    const devices = hasDevices ? [{ id: 'dd7295fa-6c65-4d-b38d-30df3bc31c0c', src: 'https://www.mapbox.com/bites/00188/patricia_nasa.mp4' }] : [];\n\n    const renderPlaceholders = () => {\n      return Array.from(new Array(4)).map((item, index) => (\n        <Grid item xs={12} sm={6} key={index}>\n          <Paper className={classes.videoPaper}>\n            <div className={classes.placeholder}>\n              <div className={classes.placeholderContent}>\n                <VideocamOffIcon className={classes.icon} />\n                <Typography variant=\"subtitle1\">No Device Feed</Typography>\n              </div>\n            </div>\n            <Typography variant=\"caption\" display=\"block\" gutterBottom>\n              Placeholder {index + 1}\n            </Typography>\n          </Paper>\n        </Grid>\n      ));\n    };\n\n    const renderVideoFeeds = () => {\n      return devices.map(device => (\n        <Grid item xs={12} sm={6} key={device.id}>\n          <Paper className={classes.videoPaper}>\n            <Player\n              playsInline\n              poster=\"/assets/poster.png\"\n              src={device.src}\n            >\n              <BigPlayButton position=\"center\" />\n            </Player>\n            <Typography variant=\"caption\" display=\"block\" gutterBottom>\n              Device: {device.id.substring(0, 8)}...\n            </Typography>\n          </Paper>\n        </Grid>\n      ));\n    };\n\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={16}>\n          {devices.length > 0 ? renderVideoFeeds() : renderPlaceholders()}\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    vehicles: state.vehicles\n  }\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(MediaPage));\n","import React, { Fragment, PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { format } from 'date-fns';\n// import {moment} from 'moment';\n\nimport { DateTimePicker, InlineDateTimePicker } from 'material-ui-pickers';\n\nconst styles = theme => ({\n  container: {\n    display: 'flex',\n    // flexWrap: 'wrap',\n    padding: theme.spacing.unit,\n    marginBottom: 1,\n    // justifyContent: 'center',\n    width: \"100%\",\n    height: '80%',\n  },\n  demo: {\n    // height: '100%',\n    width: \"100%\",\n    padding: theme.spacing.unit, \n  \n  },\n  // textField: {\n  //   marginLeft: theme.spacing.unit,\n  //   marginRight: theme.spacing.unit,\n  //   width: 220,\n  //   fontsize: 14,\n  // },\n  button: {\n    margin: theme.spacing.unit,\n  },\n  leftIcon: {\n    marginRight: theme.spacing.unit,\n  },\n  rightIcon: {\n    marginLeft: theme.spacing.unit,\n  },\n  iconSmall: {\n    fontSize: 20,\n  },\n  label: {\n    padding: 5,\n    marginBottom: theme.spacing.unit,\n  },\n  msgDiv: {\n    width: '100%', display: 'flex',\n  },\n  txtField: {\n\n  },\n  paper: {\n    // height: \"99%\",\n    // width: \"100%\",\n  },\n  cheight:   {\n    height: \"80%\", \n    overflowY: 'scroll',\n    // width: \"100%\",\n  },\n  name:   {\n    color: \"blue\", \n  },\n  message:   {\n    color: \"red\",  \n  },\n\n});\n\nclass ChatPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      messages:[],\n      message:{msg:\"\", dt:''},\n    };\n \n  }\n \n  getTime(){\n    \n    function pad(number) {\n      if (number < 10) {\n        return '0' + number;\n      }\n      return number;\n    };\n\n\n    let dtnow = new Date();\n    let dt = dtnow.getUTCFullYear() +\n      '-' + pad(dtnow.getUTCMonth() + 1) +\n      '-' + pad(dtnow.getUTCDate()) +\n      'T' + pad(dtnow.getUTCHours()) +\n      ':' + pad(dtnow.getUTCMinutes()) +\n      ':' + pad(dtnow.getUTCSeconds());\n    // '.' + (this.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\n    // 'Z';\n\n    // dt = dt.toISOString();\n    return dt;\n  }\n\n  handleChangeMessage = event => {\n    this.setState({ message: {msg: event.target.value ,  dt: this.getTime()} });\n  } \n  \n\n\n  handleSendMessage = (event) => { \n    this.setState({ messages: [...this.state.messages , this.state.message] });\n  };\n\n  render() {\n    const {messages, message } = this.state;\n    const { classes } = this.props; \n    \n   \n\n\n  \n    const chatList = messages.map((msg, count) => {\n      return <div  key ={count}> <span>{msg.dt}</span><br/><span className={classes.name }>You:</span> <br/> <span className={classes.message }>{msg.msg}</span> </div>\n    })\n\n    return (\n      <form className={classes.container } noValidate>\n       <div className={classes.demo}>\n\n        \n          <Paper className={classes.cheight}  >\n         \n          {chatList}\n          </Paper>\n          {/* </div> */}\n          {/* <Fragment> */}\n          <Paper   >\n          <div className={classes.msgDiv}>  \n            <TextField\n              id=\"Message\"\n              label=\"Message\"\n              style={{ margin: 8 }}\n              value={message.msg}\n              placeholder=\"Halo\"\n              helperText=\"\"\n              fullWidth\n              margin=\"normal\"\n              onChange={this.handleChangeMessage}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n            {/* <div className={classes.msgDiv}> */}\n            <Button color=\"secondary\" onClick={  this.handleSendMessage} variant=\"contained\" className={classes.button}>  Send </Button>\n         \n          {/* </Fragment> */}\n          </div> \n          </Paper>\n          </div>\n      </form>\n    );\n  }\n}\n\nChatPage.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ChatPage);","/* eslint-disable no-unused-vars */\n// Make a copy of this file and save it as config.js (in the js directory).\n\n// Set this to the base URL of your sample server, such as 'https://your-app-name.herokuapp.com'.\n// Do not include the trailing slash. See the README for more information:\n\nexport const SAMPLE_SERVER_BASE_URL = 'https://aec13c29c46a.ngrok-free.app';\n//'https://YOUR-SERVER-URL';\n\n// OR, if you have not set up a web server that runs the sample-video-php-learning_server code,\n// set these values to Vonage Application ID, a valid session ID, and a token for the session.\n// For test purposes, you can obtain these from https://tools.vonage.com/video/playground.\nexport const APPLICATION_ID = '';\n//\"4e514b30-eead-4972-a465-33fc7535da9a\";\nexport const SESSION_ID = '';\nexport const TOKEN = '';\n\nexport const MQTT_HOST = 'wss://c22d3035.ala.us-east-1.emqxsl.com:8084';\nexport const MQTT_OPTIONS = {\n  username: 'Botler',\n  password: 'Botler',\n  path: '/mqtt',\n};\nexport const DRIVE_MQTT_TOPIC = 'joystick/moves';\nexport const ARM_MQTT_TOPIC = 'robot/arm';\nexport const GRIPPER_MQTT_TOPIC = 'robot/gripper';\nexport const MQTT_PUBLISH_OPTIONS = {\n  qos: 1,\n  retain: false,\n};\n\nexport default {\n  SAMPLE_SERVER_BASE_URL,\n  APPLICATION_ID,\n  SESSION_ID,\n  TOKEN,\n  MQTT_HOST,\n  MQTT_OPTIONS,\n  DRIVE_MQTT_TOPIC,\n  ARM_MQTT_TOPIC,\n  GRIPPER_MQTT_TOPIC,\n  MQTT_PUBLISH_OPTIONS,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/lab/Slider';\n\nconst styles = theme => ({\n  root: {\n    width: 150,\n    color: 'white',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  sliderContainer: {\n    width: '100%',\n    padding: '0 10px',\n    boxSizing: 'border-box',\n  },\n  slider: {\n    padding: '10px 0',\n  },\n  label: {\n    fontSize: '0.75rem',\n    color: 'inherit',\n    textAlign: 'left',\n    width: '100%',\n  }\n});\n\nclass Arm6DOFController extends React.Component {\n  state = {\n    base: 90,\n    shoulder: 90,\n    elbow: 90,\n    wristPitch: 90,\n    wristRoll: 90,\n    gripper: 0,\n  };\n\n  handleChange = (joint) => (event, value) => {\n    this.setState({ [joint]: value });\n    // In a real implementation, you would send an MQTT message here\n    // e.g., this.props.onArmControlChange(joint, value);\n    console.log(`Arm Control - ${joint}: ${value}`);\n  };\n\n  renderSlider(label, joint, min = 0, max = 240) {\n    const { classes } = this.props;\n    return (\n      <div className={classes.sliderContainer}>\n        <Typography className={classes.label} id={`${joint}-label`}>{label}</Typography>\n        <Slider\n          className={classes.slider}\n          value={this.state[joint]}\n          min={min}\n          max={max}\n          onChange={this.handleChange(joint)}\n          aria-labelledby={`${joint}-label`}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <Typography variant=\"caption\" color=\"inherit\">6-DOF Arm</Typography>\n        {this.renderSlider('Base', 'base')}\n        {this.renderSlider('Shoulder', 'shoulder')}\n        {this.renderSlider('Elbow', 'elbow')}\n        {this.renderSlider('Wrist Pitch', 'wristPitch')}\n        {this.renderSlider('Wrist Roll', 'wristRoll')}\n        {this.renderSlider('Gripper', 'gripper', 0, 100)}\n      </div>\n    );\n  }\n}\n\nArm6DOFController.propTypes = {\n  classes: PropTypes.object.isRequired,\n  // onArmControlChange: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(Arm6DOFController);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport * as config from './config';\n\nconst styles = theme => ({\n  joystickContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    color: 'white',\n  },\n  joystick: {\n    width: 100,\n    height: 100,\n  },\n  joystickBase: {\n    fill: 'rgba(224, 224, 224, 0.4)',\n    stroke: 'rgba(189, 189, 189, 0.6)',\n    strokeWidth: 2,\n  },\n  joystickStick: {\n    fill: 'rgba(158, 158, 158, 0.7)',\n    cursor: 'pointer',\n  },\n  gripperContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    width: 120,\n  },\n  gripper: {\n    width: 120,\n    height: 24,\n    cursor: 'pointer',\n  },\n  gripperTrack: {\n    fill: 'rgba(224, 224, 224, 0.4)',\n    stroke: 'rgba(189, 189, 189, 0.6)',\n    strokeWidth: 1,\n  },\n  gripperClaw: {\n    fill: 'rgba(158, 158, 158, 0.9)',\n  },\n});\n\nclass ArmJoystickController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gripperValue: 0,\n    };\n    this.joystick = { ref: React.createRef(), isDragging: false, lastPosition: null };\n    this.gripper = { ref: React.createRef(), isDragging: false };\n\n    this.handleDragMove = this.handleDragMove.bind(this);\n    this.handleDragEnd = this.handleDragEnd.bind(this);\n    this.handleGripperDragMove = this.handleGripperDragMove.bind(this);\n    this.handleGripperDragEnd = this.handleGripperDragEnd.bind(this);\n  }\n\n  componentDidMount() {\n    const node = this.joystick.ref.current;\n    if (node) {\n      node.addEventListener('mousedown', this.handleDragStart);\n      node.addEventListener('touchstart', this.handleDragStart, { passive: false });\n    }\n    const gripperNode = this.gripper.ref.current;\n    if (gripperNode) {\n      gripperNode.addEventListener('mousedown', this.handleGripperDragStart);\n      gripperNode.addEventListener('touchstart', this.handleGripperDragStart, { passive: false });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('mousemove', this.handleDragMove);\n    window.removeEventListener('mouseup', this.handleDragEnd);\n    window.removeEventListener('touchmove', this.handleDragMove);\n    window.removeEventListener('touchend', this.handleDragEnd);\n    window.removeEventListener('touchcancel', this.handleDragEnd);\n    window.removeEventListener('mousemove', this.handleGripperDragMove);\n    window.removeEventListener('mouseup', this.handleGripperDragEnd);\n    window.removeEventListener('touchmove', this.handleGripperDragMove);\n    window.removeEventListener('touchend', this.handleGripperDragEnd);\n    window.removeEventListener('touchcancel', this.handleGripperDragEnd);\n  }\n\n  handleDragStart = (event) => {\n    this.joystick.isDragging = true;\n    if (event.type === 'touchstart') {\n      event.preventDefault();\n      window.addEventListener('touchmove', this.handleDragMove, { passive: false });\n      window.addEventListener('touchend', this.handleDragEnd);\n      window.addEventListener('touchcancel', this.handleDragEnd);\n    } else {\n      window.addEventListener('mousemove', this.handleDragMove);\n      window.addEventListener('mouseup', this.handleDragEnd);\n    }\n  };\n\n  getPointerPositionInSVG = (event, svg) => {\n    if (!svg) return { x: 0, y: 0 };\n    const clientX = event.touches ? event.touches[0].clientX : event.clientX;\n    const clientY = event.touches ? event.touches[0].clientY : event.clientY;\n    const rect = svg.getBoundingClientRect();\n    if (!svg.viewBox.baseVal) return { x: 0, y: 0 };\n    const scaleX = svg.viewBox.baseVal.width / rect.width;\n    const scaleY = svg.viewBox.baseVal.height / rect.height;\n    const x = (clientX - rect.left) * scaleX;\n    const y = (clientY - rect.top) * scaleY;\n    return { x, y };\n  };\n\n  handleDragMove(event) {\n    if (!this.joystick.isDragging) return;\n    if (event.type === 'touchmove') event.preventDefault();\n\n    const svg = this.joystick.ref.current;\n    if (!svg) return;\n    const stick = svg.querySelector('.joystick-stick');\n    if (!stick) return;\n\n    const { x, y } = this.getPointerPositionInSVG(event, svg);\n    const centerX = 50, centerY = 50, maxDistance = 20;\n    const dx = x - centerX, dy = y - centerY;\n    let distance = Math.sqrt(dx * dx + dy * dy);\n    const angle = Math.atan2(dy, dx);\n\n    if (distance > maxDistance) distance = maxDistance;\n\n    const newX = centerX + distance * Math.cos(angle);\n    const newY = centerY + distance * Math.sin(angle);\n\n    stick.setAttribute('cx', newX);\n    stick.setAttribute('cy', newY);\n\n    const normalizedX = parseFloat(((newX - centerX) / maxDistance).toFixed(2));\n    const normalizedY = parseFloat(((newY - centerY) / maxDistance).toFixed(2));\n    const armPosition = `a ${normalizedX} ${normalizedY}`;\n\n    if (armPosition !== this.joystick.lastPosition && armPosition !== 'a 0 0') {\n      this.props.publish(config.ARM_MQTT_TOPIC, armPosition);\n      this.joystick.lastPosition = armPosition;\n    }\n  }\n\n  handleDragEnd() {\n    if (!this.joystick.isDragging) return;\n    this.joystick.isDragging = false;\n\n    window.removeEventListener('mousemove', this.handleDragMove);\n    window.removeEventListener('mouseup', this.handleDragEnd);\n    window.removeEventListener('touchmove', this.handleDragMove);\n    window.removeEventListener('touchend', this.handleDragEnd);\n    window.removeEventListener('touchcancel', this.handleDragEnd);\n  }\n\n  handleGripperDragStart = (event) => {\n    this.gripper.isDragging = true;\n    if (event.type === 'touchstart') {\n      event.preventDefault();\n      window.addEventListener('touchmove', this.handleGripperDragMove, { passive: false });\n      window.addEventListener('touchend', this.handleGripperDragEnd);\n      window.addEventListener('touchcancel', this.handleGripperDragEnd);\n    } else {\n      window.addEventListener('mousemove', this.handleGripperDragMove);\n      window.addEventListener('mouseup', this.handleGripperDragEnd);\n    }\n  };\n\n  handleGripperDragMove = (event) => {\n    if (!this.gripper.isDragging) return;\n    if (event.type === 'touchmove') event.preventDefault();\n\n    const svg = this.gripper.ref.current;\n    if (!svg) return;\n\n    const { x } = this.getPointerPositionInSVG(event, svg);\n    const minX = 10, maxX = 90; // Corresponds to the edges of the track\n\n    let newX = x;\n    if (newX < minX) newX = minX;\n    if (newX > maxX) newX = maxX;\n\n    // The value is based on how far from the center the user drags\n    const centerX = 50;\n    const value = Math.abs(newX - centerX) / (maxX - centerX);\n\n    this.updateGripperValue(value);\n  };\n\n  handleGripperDragEnd = () => {\n    if (!this.gripper.isDragging) return;\n    this.gripper.isDragging = false;\n\n    window.removeEventListener('mousemove', this.handleGripperDragMove);\n    window.removeEventListener('mouseup', this.handleGripperDragEnd);\n    window.removeEventListener('touchmove', this.handleGripperDragMove);\n    window.removeEventListener('touchend', this.handleGripperDragEnd);\n    window.removeEventListener('touchcancel', this.handleGripperDragEnd);\n  };\n\n  updateGripperValue = (value) => {\n    const newValue = parseFloat(value.toFixed(2));\n    this.setState({ gripperValue: newValue });\n    const gripperCommand = `g ${newValue}`;\n    this.props.publish(config.GRIPPER_MQTT_TOPIC, gripperCommand);\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { gripperValue } = this.state;\n    const center = 50;\n    const maxOffset = 40; // 50 - 10\n    const offset = gripperValue * maxOffset;\n    const leftClawCx = center - offset;\n    const rightClawCx = center + offset;\n\n    return (\n      <div className={classes.joystickContainer}>\n        <Typography variant=\"caption\" color=\"inherit\">Arm</Typography>\n        <svg id=\"arm-joystick\" ref={this.joystick.ref} viewBox=\"0 0 100 100\" className={classes.joystick}>\n          <circle className={classes.joystickBase} cx=\"50\" cy=\"50\" r=\"40\" />\n          <circle className=\"joystick-stick\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"rgba(158, 158, 158, 0.7)\" cursor=\"pointer\" />\n        </svg>\n        <div className={classes.gripperContainer}>\n          <Typography variant=\"caption\" id=\"gripper-label\" color=\"inherit\">Gripper</Typography>\n          <svg ref={this.gripper.ref} viewBox=\"0 0 100 20\" className={classes.gripper}>\n            <rect x=\"10\" y=\"8\" width=\"80\" height=\"4\" rx=\"2\" className={classes.gripperTrack} />\n            <circle cx={leftClawCx} cy=\"10\" r=\"6\" className={classes.gripperClaw} />\n            <circle cx={rightClawCx} cy=\"10\" r=\"6\" className={classes.gripperClaw} />\n          </svg>\n        </div>\n      </div>\n    );\n  }\n}\n\nArmJoystickController.propTypes = {\n  classes: PropTypes.object.isRequired,\n  publish: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ArmJoystickController);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport * as config from './config';\n\nconst styles = theme => ({\n  joystickContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    color: 'white',\n  },\n  joystick: {\n    width: 100,\n    height: 100,\n  },\n  joystickBase: {\n    fill: 'rgba(224, 224, 224, 0.4)',\n    stroke: 'rgba(189, 189, 189, 0.6)',\n    strokeWidth: 2,\n  },\n  joystickAxis: {\n    stroke: 'rgba(255, 255, 255, 0.3)',\n    strokeWidth: 1,\n    strokeDasharray: '2 2',\n  },\n  joystickStick: {\n    fill: 'rgba(158, 158, 158, 0.7)',\n    cursor: 'pointer',\n  },\n  stopButton: {\n    backgroundColor: 'red',\n    color: 'white',\n    marginTop: theme.spacing.unit,\n    '&:hover': {\n      backgroundColor: '#d32f2f',\n    },\n  },\n});\n\nclass DriveControls extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isManuallyStopped: false,\n    };\n    this.joystick = { ref: React.createRef(), isDragging: false, lastDirection: null };\n    this.lastArrowClick = { direction: null, time: 0 };\n\n    this.handleDragMove = this.handleDragMove.bind(this);\n    this.handleDragEnd = this.handleDragEnd.bind(this);\n  }\n\n  componentDidMount() {\n    const node = this.joystick.ref.current;\n    if (node) {\n      node.addEventListener('mousedown', this.handleDragStart);\n      node.addEventListener('touchstart', this.handleDragStart, { passive: false });\n      // Add a click listener to the stick itself for the stop action\n      const stick = node.querySelector('.joystick-stick');\n      if (stick) {\n        stick.addEventListener('click', this.handleStickClick);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('mousemove', this.handleDragMove);\n    window.removeEventListener('mouseup', this.handleDragEnd);\n    window.removeEventListener('touchmove', this.handleDragMove);\n    window.removeEventListener('touchend', this.handleDragEnd);\n    window.removeEventListener('touchcancel', this.handleDragEnd);\n    const node = this.joystick.ref.current;\n    if (node) {\n      const stick = node.querySelector('.joystick-stick');\n      if (stick) {\n        stick.removeEventListener('click', this.handleStickClick);\n      }\n    }\n  }\n\n  handleDragStart = (event) => {\n    if (event.type === 'touchstart') {\n      event.preventDefault();\n      window.addEventListener('touchmove', this.handleDragMove, { passive: false });\n      window.addEventListener('touchend', this.handleDragEnd);\n      window.addEventListener('touchcancel', this.handleDragEnd);\n    } else {\n      window.addEventListener('mousemove', this.handleDragMove);\n      window.addEventListener('mouseup', this.handleDragEnd);\n    }\n    // Only start dragging if the event target is the stick\n    if (event.target.classList.contains('joystick-stick')) {\n      this.joystick.isDragging = true;\n      this.joystick.hasDragged = false; // Reset drag flag\n      this.setState({ isManuallyStopped: false });\n    }\n  };\n\n  getPointerPositionInSVG = (event, svg) => {\n    if (!svg) return { x: 0, y: 0 };\n    const clientX = event.touches ? event.touches[0].clientX : event.clientX;\n    const clientY = event.touches ? event.touches[0].clientY : event.clientY;\n    const rect = svg.getBoundingClientRect();\n    if (!svg.viewBox.baseVal) return { x: 0, y: 0 };\n    const scaleX = svg.viewBox.baseVal.width / rect.width;\n    const scaleY = svg.viewBox.baseVal.height / rect.height;\n    return { x: (clientX - rect.left) * scaleX, y: (clientY - rect.top) * scaleY };\n  };\n\n  handleDragMove(event) {\n    if (!this.joystick.isDragging) return;\n    this.joystick.hasDragged = true; // A drag has occurred\n    if (event.type === 'touchmove') event.preventDefault();\n\n    const svg = this.joystick.ref.current;\n    if (!svg) return;\n    const stick = svg.querySelector('.joystick-stick');\n    if (!stick) return;\n\n    const { x, y } = this.getPointerPositionInSVG(event, svg);\n    const centerX = 50, centerY = 50, maxDistance = 20, snapThreshold = 8;\n    const dx = x - centerX, dy = y - centerY;\n    let distance = Math.sqrt(dx * dx + dy * dy);\n    const angle = Math.atan2(dy, dx);\n\n    if (distance > maxDistance) distance = maxDistance;\n\n    let newX = centerX + distance * Math.cos(angle);\n    let newY = centerY + distance * Math.sin(angle);\n    let direction = null;\n\n    if (Math.abs(newX - centerX) < snapThreshold && distance > maxDistance / 4) {\n      newX = centerX; direction = (newY < centerY) ? 'forw' : 'back';\n    } else if (Math.abs(newY - centerY) < snapThreshold && distance > maxDistance / 4) {\n      newY = centerY; direction = (newX > centerX) ? 'right' : 'left';\n    }\n\n    stick.setAttribute('cx', newX);\n    stick.setAttribute('cy', newY);\n\n    if (direction && direction !== this.joystick.lastDirection) {\n      this.props.publish(config.DRIVE_MQTT_TOPIC, direction);\n      this.joystick.lastDirection = direction;\n    } else if (!direction && this.joystick.lastDirection !== null) {\n      this.props.publish(config.DRIVE_MQTT_TOPIC, 'stop');\n      this.joystick.lastDirection = null;\n    }\n  }\n\n  handleDragEnd() {\n    if (!this.joystick.isDragging) return;\n\n    this.joystick.isDragging = false;\n\n    const svg = this.joystick.ref.current;\n    if (svg) {\n      const stick = svg.querySelector('.joystick-stick');\n      if (stick) { stick.setAttribute('cx', 50); stick.setAttribute('cy', 50); }\n    }\n\n    this.joystick.lastDirection = null;\n\n    window.removeEventListener('mousemove', this.handleDragMove);\n    window.removeEventListener('mouseup', this.handleDragEnd);\n    window.removeEventListener('touchmove', this.handleDragMove);\n    window.removeEventListener('touchend', this.handleDragEnd);\n    window.removeEventListener('touchcancel', this.handleDragEnd);\n  }\n\n  handleArrowClick = (direction) => {\n    if (this.state.lockedArrowDirection === direction) {\n      this.setState({ lockedArrowDirection: null });\n      this.props.publish(config.DRIVE_MQTT_TOPIC, 'stop');\n      this.lastArrowClick = { direction: null, time: 0 };\n      return;\n    }\n\n    const now = Date.now();\n    if (this.lastArrowClick.direction === direction && (now - this.lastArrowClick.time) < 400) {\n      this.setState({ lockedArrowDirection: direction });\n      this.lastArrowClick = { direction: null, time: 0 };\n      const lockCommandMap = { 'forw': 'fwx', 'back': 'bax', 'left': 'lex', 'right': 'rtx' };\n      this.props.publish(config.DRIVE_MQTT_TOPIC, lockCommandMap[direction]);\n    } else {\n      this.lastArrowClick = { direction, time: now };\n      this.props.publish(config.DRIVE_MQTT_TOPIC, direction);\n    }\n  }\n\n  handleStop = () => {\n    this.setState({ lockedArrowDirection: null });\n    this.lastArrowClick = { direction: null, time: 0 };\n    this.props.publish(config.DRIVE_MQTT_TOPIC, 'stop');\n  }\n\n  handleStickClick = () => {\n    // Only treat as a click if no dragging happened\n    if (this.joystick.hasDragged) return;\n\n    this.setState({ isManuallyStopped: true });\n    this.props.publish(config.DRIVE_MQTT_TOPIC, 'drstp');\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { isManuallyStopped } = this.state;\n    const stickColor = isManuallyStopped ? 'rgba(211, 47, 47, 0.35)' : 'rgba(158, 158, 158, 0.7)';\n\n    return (\n      <React.Fragment>\n        <div className={classes.joystickContainer}>\n          <Typography variant=\"caption\" color=\"inherit\">Drive</Typography>\n          <svg ref={this.joystick.ref} viewBox=\"0 0 100 100\" className={classes.joystick}>\n            <circle className={classes.joystickBase} cx=\"50\" cy=\"50\" r=\"40\" />\n            <line x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\" className={classes.joystickAxis} />\n            <line x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\" className={classes.joystickAxis} />\n            <circle className=\"joystick-stick\" cx=\"50\" cy=\"50\" r=\"20\" fill={stickColor} cursor=\"pointer\" />\n          </svg>\n          <Button variant=\"contained\" className={classes.stopButton} onClick={this.handleStop}>STOP</Button>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nDriveControls.propTypes = {\n  classes: PropTypes.object.isRequired,\n  publish: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DriveControls);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowUpward from '@material-ui/icons/ArrowUpward';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport ArrowBack from '@material-ui/icons/ArrowBack';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\nimport StopIcon from '@material-ui/icons/Stop';\nimport Typography from '@material-ui/core/Typography';\nimport * as config from './config';\n\nconst styles = theme => ({\n  dpadContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    color: 'white',\n  },\n  arrowButtonContainer: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(3, 1fr)',\n    gridTemplateRows: 'repeat(3, 1fr)',\n    width: 120,\n    height: 120,\n    alignItems: 'center',\n    justifyItems: 'center',\n  },\n  arrowButton: {\n    color: '#9e9e9e', // Grey color similar to other controls\n    backgroundColor: 'rgba(0, 0, 0, 0.1)', // Default transparent background\n    // Provide a slightly more opaque background on hover for better feedback\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.2)',\n    },\n  },\n  stopButton: {\n    color: '#9e9e9e', // Grey color similar to other controls\n    backgroundColor: 'rgba(224, 224, 224, 0.4)', // Background like joystick base\n    '&:hover': {\n      // A slightly darker background on hover for feedback\n      backgroundColor: 'rgba(189, 189, 189, 0.6)',\n    },\n  },\n});\n\nclass DpadController extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // isManuallyStopped will be used if you want visual feedback on the stop button\n      isManuallyStopped: false,\n      lockedArrowDirection: null,\n    };\n    this.lastArrowClick = { direction: null, time: 0 };\n  }\n\n  handleArrowClick = (direction) => {\n    if (this.state.lockedArrowDirection === direction) {\n      this.setState({ lockedArrowDirection: null, isManuallyStopped: false });\n      this.props.publish(config.DRIVE_MQTT_TOPIC, 'stop');\n      this.lastArrowClick = { direction: null, time: 0 };\n      return;\n    }\n\n    const now = Date.now();\n    if (this.lastArrowClick.direction === direction && (now - this.lastArrowClick.time) < 400) {\n      this.setState({ lockedArrowDirection: direction, isManuallyStopped: false });\n      this.lastArrowClick = { direction: null, time: 0 };\n      const lockCommandMap = { 'forw': 'fwx', 'back': 'bax', 'left': 'lex', 'right': 'rtx' };\n      this.props.publish(config.DRIVE_MQTT_TOPIC, lockCommandMap[direction]);\n    } else {\n      this.setState({ isManuallyStopped: false });\n      this.lastArrowClick = { direction, time: now };\n      this.props.publish(config.DRIVE_MQTT_TOPIC, direction);\n    }\n  };\n\n  handleStopClick = () => {\n    this.setState({ isManuallyStopped: true, lockedArrowDirection: null });\n    this.lastArrowClick = { direction: null, time: 0 };\n    this.props.publish(config.DRIVE_MQTT_TOPIC, 'drstp');\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { lockedArrowDirection } = this.state;\n\n    return (\n      <div className={classes.dpadContainer}>\n        <Typography variant=\"caption\" color=\"inherit\">Drive (Arrows)</Typography>\n        <div className={classes.arrowButtonContainer}>\n          <div style={{ gridColumn: 2, gridRow: 1 }}><IconButton color={lockedArrowDirection === 'forw' ? 'secondary' : 'inherit'} className={classes.arrowButton} onClick={() => this.handleArrowClick('forw')}><ArrowUpward /></IconButton></div>\n          <div style={{ gridColumn: 2, gridRow: 2 }}><IconButton className={classes.stopButton} onClick={this.handleStopClick}><StopIcon /></IconButton></div>\n          <div style={{ gridColumn: 1, gridRow: 2 }}><IconButton color={lockedArrowDirection === 'left' ? 'secondary' : 'inherit'} className={classes.arrowButton} onClick={() => this.handleArrowClick('left')}><ArrowBack /></IconButton></div>\n          <div style={{ gridColumn: 3, gridRow: 2 }}><IconButton color={lockedArrowDirection === 'right' ? 'secondary' : 'inherit'} className={classes.arrowButton} onClick={() => this.handleArrowClick('right')}><ArrowForward /></IconButton></div>\n          <div style={{ gridColumn: 2, gridRow: 3 }}><IconButton color={lockedArrowDirection === 'back' ? 'secondary' : 'inherit'} className={classes.arrowButton} onClick={() => this.handleArrowClick('back')}><ArrowDownward /></IconButton></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDpadController.propTypes = {\n  classes: PropTypes.object.isRequired,\n  publish: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(DpadController);","import React from 'react';\nimport ReplayIcon from '@material-ui/icons/Replay';\n\n// SixDoFArm - React 16.5 compatible (class component, no hooks)\n// Simple SVG serial 6-DOF arm. Joints are draggable around their pivots.\n// - Rendered with SVG lines (links) and circles (joints/pivots)\n// - Click/touch a pivot and drag to rotate that joint; children move with it\n// - Keeps everything in component state (angles in radians)\n\nclass SixDoFArm extends React.Component {\n  static defaultProps = {\n    width: 600,\n    height: 400,\n    base: { x: 100, y: 300 },\n    lengths: [15, 60, 50, 40, 35, 30],\n    jointRadius: 10,\n  };\n\n  constructor(props) {\n    super(props);\n    // angles for 6 joints (radians)\n    this.state = {\n      angles: [0, 0.2, -0.3, 0.1, -0.2, 0.15],\n      dragging: null, // { type: 'joint', idx, startMouseAngle, startAngle } or { type: 'ee' }\n    };\n\n    this.svgRef = React.createRef();\n    this._onMouseMove = this._onMouseMove.bind(this);\n    this._onMouseUp = this._onMouseUp.bind(this);\n    this._onEEMouseMove = this._onEEMouseMove.bind(this);\n    this._onEEUp = this._onEEUp.bind(this);\n  }\n\n  componentWillUnmount() {\n    // Cleanup listeners\n    document.removeEventListener('mousemove', this._onMouseMove);\n    document.removeEventListener('mouseup', this._onMouseUp);\n    document.removeEventListener('touchmove', this._onMouseMove);\n    document.removeEventListener('touchend', this._onMouseUp);\n    document.removeEventListener('mousemove', this._onEEMouseMove);\n    document.removeEventListener('mouseup', this._onEEUp);\n    document.removeEventListener('touchmove', this._onEEMouseMove);\n    document.removeEventListener('touchend', this._onEEUp);\n  }\n\n  // compute world positions of each joint (base included)\n  // returns array of points: [{x,y}, ...] length 7 (base + 6 joints)\n  computePositions() {\n    const { base, lengths } = this.props;\n    const { angles } = this.state;\n    let points = [{ x: base.x, y: base.y }];\n    let ax = base.x;\n    let ay = base.y;\n    let cum = 0;\n    for (let i = 0; i < lengths.length; i++) {\n      cum += angles[i];\n      const nx = ax + Math.cos(cum) * lengths[i];\n      const ny = ay + Math.sin(cum) * lengths[i];\n      points.push({ x: nx, y: ny });\n      ax = nx;\n      ay = ny;\n    }\n    return points;\n  }\n\n  // start dragging a joint\n  startDrag(idx, clientX, clientY) {\n    const pts = this.computePositions();\n    const pivot = pts[idx]; // index: 0=base, 1..6 joints\n\n    // angle between pivot->mouse\n    const rect = this.svgRef.current.getBoundingClientRect();\n    const mouseX = clientX - rect.left;\n    const mouseY = clientY - rect.top;\n    const startMouseAngle = Math.atan2(mouseY - pivot.y, mouseX - pivot.x);\n\n    this.setState({\n      dragging: {\n        type: 'joint',\n        idx: idx, // which pivot (0..5) controls joint idx (0..5). base pivot rotates joint 0\n        startMouseAngle: startMouseAngle,\n        startAngle: this.state.angles[idx] || 0,\n        pivotClient: pivot,\n      },\n    });\n\n    document.addEventListener('mousemove', this._onMouseMove);\n    document.addEventListener('mouseup', this._onMouseUp);\n    document.addEventListener('touchmove', this._onMouseMove, { passive: false });\n    document.addEventListener('touchend', this._onMouseUp);\n  }\n\n  _onMouseMove(e) {\n    if (!this.state.dragging || this.state.dragging.type !== 'joint') return;\n    if (e.preventDefault) e.preventDefault();\n\n    const touch = e.touches && e.touches[0];\n    const clientX = touch ? touch.clientX : e.clientX;\n    const clientY = touch ? touch.clientY : e.clientY;\n\n    const rect = this.svgRef.current.getBoundingClientRect();\n    const mouseX = clientX - rect.left;\n    const mouseY = clientY - rect.top;\n\n    const { idx, startMouseAngle, startAngle, pivotClient } = this.state.dragging;\n    // recompute pivot in case layout changed\n    const pivot = pivotClient;\n    const curMouseAngle = Math.atan2(mouseY - pivot.y, mouseX - pivot.x);\n    const delta = curMouseAngle - startMouseAngle;\n\n    // update angles[idx] = startAngle + delta\n    this.setState(prev => {\n      const angles = prev.angles.slice();\n      angles[idx] = startAngle + delta;\n      return { angles };\n    });\n  }\n\n  _onMouseUp() {\n    if (!this.state.dragging || this.state.dragging.type !== 'joint') return;\n    this.setState({ dragging: null });\n    document.removeEventListener('mousemove', this._onMouseMove);\n    document.removeEventListener('mouseup', this._onMouseUp);\n    document.removeEventListener('touchmove', this._onMouseMove);\n    document.removeEventListener('touchend', this._onMouseUp);\n  }\n\n  // Inverse Kinematics (IK) drag handlers for the end-effector\n  handleEEDragStart = (e) => {\n    e.preventDefault();\n    this.setState({ dragging: { type: 'ee' } });\n\n    document.addEventListener('mousemove', this._onEEMouseMove);\n    document.addEventListener('mouseup', this._onEEUp);\n    document.addEventListener('touchmove', this._onEEMouseMove, { passive: false });\n    document.addEventListener('touchend', this._onEEUp);\n  };\n\n  _onEEMouseMove(e) {\n    if (!this.state.dragging || this.state.dragging.type !== 'ee') return;\n    if (e.preventDefault) e.preventDefault();\n\n    const touch = e.touches && e.touches[0];\n    const clientX = touch ? touch.clientX : e.clientX;\n    const clientY = touch ? touch.clientY : e.clientY;\n\n    const rect = this.svgRef.current.getBoundingClientRect();\n    const targetX = clientX - rect.left;\n    const targetY = clientY - rect.top;\n\n    this.solveIK(targetX, targetY);\n  }\n\n  _onEEUp() {\n    if (!this.state.dragging || this.state.dragging.type !== 'ee') return;\n    this.setState({ dragging: null });\n    document.removeEventListener('mousemove', this._onEEMouseMove);\n    document.removeEventListener('mouseup', this._onEEUp);\n    document.removeEventListener('touchmove', this._onEEMouseMove);\n    document.removeEventListener('touchend', this._onEEUp);\n  }\n\n  // Simple Cyclic Coordinate Descent (CCD) IK solver\n  solveIK(targetX, targetY) {\n    const numJoints = this.props.lengths.length;\n    let angles = this.state.angles.slice();\n    const iterations = 5; // More iterations = more accuracy\n\n    for (let iter = 0; iter < iterations; iter++) {\n      for (let i = numJoints - 2; i >= 0; i--) {\n        const positions = this.computePositions();\n        const pivot = positions[i];\n        const endEffector = positions[numJoints];\n\n        const vecToEE = { x: endEffector.x - pivot.x, y: endEffector.y - pivot.y };\n        const vecToTarget = { x: targetX - pivot.x, y: targetY - pivot.y };\n\n        const angleToEE = Math.atan2(vecToEE.y, vecToEE.x);\n        const angleToTarget = Math.atan2(vecToTarget.y, vecToTarget.x);\n\n        let delta = angleToTarget - angleToEE;\n\n        // Clamp the angle change to avoid wild swings\n        delta = Math.max(-0.5, Math.min(0.5, delta));\n\n        angles[i] += delta;\n        this.setState({ angles });\n      }\n    }\n  }\n\n  // handlers to adapt both mouse and touch\n  handlePointerDown = (idx, e) => {\n    const touch = e.touches && e.touches[0];\n    const clientX = touch ? touch.clientX : e.clientX;\n    const clientY = touch ? touch.clientY : e.clientY;\n    e.preventDefault();\n    this.startDrag(idx, clientX, clientY);\n  };\n\n  // reset\n  reset = () => {\n    this.setState({ angles: [0, 0, 0, 0, 0, 0] });\n  };\n\n  render() {\n    const { width, height, jointRadius } = this.props;\n    const pts = this.computePositions();\n\n    // lines: from pts[i] to pts[i+1]\n    const links = [];\n    for (let i = 0; i < pts.length - 1; i++) {\n      links.push(\n        <line\n          key={'link-' + i}\n          x1={pts[i].x}\n          y1={pts[i].y}\n          x2={pts[i + 1].x}\n          y2={pts[i + 1].y}\n          stroke=\"#222\"\n          strokeWidth={4}\n          strokeLinecap=\"round\"\n        />\n      );\n    }\n\n    // joints: circles at pts[1..6] (joint 0 is at pts[1], but we'll allow rotating joint 0 at pts[0])\n    const jointCircles = [];\n    // we'll render pivot controls for indices 0..5; each pivot controls angle of joint i\n    for (let i = 0; i < 6; i++) {\n      const pivotPoint = pts[i]; // pivot for joint i is at pts[i]\n      const jointPoint = pts[i + 1];\n\n      // small pivot circle that is draggable (pivot)\n      jointCircles.push(\n        <g key={'joint-' + i}>\n          <circle\n            cx={pivotPoint.x}\n            cy={pivotPoint.y}\n            r={jointRadius}\n            fill=\"#fff\"\n            stroke=\"#111\"\n            strokeWidth={1.5}\n            style={{ cursor: 'grab' }}\n            onMouseDown={e => this.handlePointerDown(i, e)}\n            onTouchStart={e => this.handlePointerDown(i, e)}\n          />\n\n          {/* little indicator line showing joint orientation */}\n          <line\n            x1={pivotPoint.x}\n            y1={pivotPoint.y}\n            x2={jointPoint.x}\n            y2={jointPoint.y}\n            stroke=\"#888\"\n            strokeWidth={2}\n            strokeDasharray=\"3 3\"\n          />\n        </g>\n      );\n    }\n\n    // end effector marker\n    const ee = pts[pts.length - 1];\n\n    return (\n      <svg\n        ref={this.svgRef}\n        width={width}\n        height={height}\n        style={{ background: 'transparent' }}\n      >\n        {/* Reset Icon */}\n        <foreignObject\n          x={pts[0].x - 12}\n          y={pts[0].y + jointRadius + 10}\n          width=\"24\"\n          height=\"24\"\n          onClick={this.reset}\n          style={{ cursor: 'pointer' }}\n        >\n          <ReplayIcon style={{ color: 'white', opacity: 0.7 }} />\n        </foreignObject>\n\n        {/* links behind */}\n        <g stroke=\"#fff\" stroke-opacity=\"0.7\">{links}</g>\n          {/* joint visuals and pivot handles */}\n          <g>{jointCircles}</g>\n\n          {/* end effector */}\n          <circle\n            cx={ee.x} cy={ee.y} r={8} fill=\"#ff5c5c\" stroke=\"#a33\" strokeWidth={1.5}\n            style={{ cursor: 'grab' }}\n            onMouseDown={this.handleEEDragStart}\n            onTouchStart={this.handleEEDragStart}\n          />\n\n          {/* base marker */}\n        <rect\n          x={pts[0].x - (jointRadius + 2)}\n          y={pts[0].y - (jointRadius + 2)}\n          width={(jointRadius + 2) * 2}\n          height={(jointRadius + 2) * 2}\n          rx=\"4\"\n          fill=\"#fff\"\n        />\n      </svg>\n    );\n  }\n}\n\nexport default SixDoFArm;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Switch from '@material-ui/core/Switch';\nimport IconButton from '@material-ui/core/IconButton';\nimport SettingsIcon from '@material-ui/icons/Settings';\n\nconst styles = theme => ({\n  managerButton: {\n    color: 'white',\n  },\n  dialogContent: {\n    minWidth: 300,\n  },\n});\n\nconst controlConfig = [\n  { id: 'armJoystick', name: 'Arm Joystick' },\n  { id: 'arm6DOF', name: '6-DOF Arm Sliders' },\n  { id: 'sixDoFArm', name: 'SVG Arm Control' },\n  { id: 'dpad', name: 'D-pad Controls' },\n  { id: 'driveControls', name: 'Drive Controls' },\n];\n\nclass ControlsManager extends React.Component {\n  state = {\n    open: false,\n  };\n\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleToggle = controlId => () => {\n    const { visibleControls, onVisibilityChange } = this.props;\n    onVisibilityChange(controlId, !visibleControls[controlId]);\n  };\n\n  render() {\n    const { classes, visibleControls } = this.props;\n    const { open } = this.state;\n\n    return (\n      <div>\n        <IconButton className={classes.managerButton} onClick={this.handleClickOpen}>\n          <SettingsIcon />\n        </IconButton>\n        <Dialog open={open} onClose={this.handleClose} aria-labelledby=\"controls-manager-title\">\n          <DialogTitle id=\"controls-manager-title\">Manage Controls</DialogTitle>\n          <DialogContent className={classes.dialogContent}>\n            <List>\n              {controlConfig.map(control => (\n                <ListItem key={control.id}>\n                  <ListItemText primary={control.name} />\n                  <ListItemSecondaryAction>\n                    <Switch onChange={this.handleToggle(control.id)} checked={!!visibleControls[control.id]} />\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">Close</Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nControlsManager.propTypes = {\n  classes: PropTypes.object.isRequired,\n  visibleControls: PropTypes.object.isRequired,\n  onVisibilityChange: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ControlsManager);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\n\nimport * as config from './config';\n\nimport Arm6DOFController from './Arm6DOFController';\n\nimport ArmJoystickController from './ArmJoystickController';\nimport DriveControls from './DriveControls';\nimport DpadController from './DpadController';\n// import VoiceControl from './VoiceControl';\n\nimport SixDoFArm from './SixDoFArm';\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\nimport ControlsManager from './ControlsManager';\n\n/**\n * Maps a value from one range to another.\n */\nconst map_range = (value, in_min, in_max, out_min, out_max) => {\n  return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n};\n\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    height: '100%',\n    width: '100%',\n    padding: 0,\n    boxSizing: 'border-box',\n  },\n  videos: {\n    display: 'flex',\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'black',\n  },\n  subscriber: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%',\n    zIndex: 1,\n    backgroundImage: 'url(/assets/poster.png)',\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  publisherContainer: {\n    position: 'absolute',\n    right: '10px',\n    bottom: '10px',\n    width: '120px',\n    height: '90px',\n    zIndex: 2,\n    border: '2px solid white',\n    borderRadius: '5px',\n    overflow: 'hidden',\n  },\n  publisher: {\n    width: '100%',\n    height: '100%',\n  },\n  connectContainer: {\n    position: 'absolute',\n    top: theme.spacing.unit,\n    left: theme.spacing.unit,\n    zIndex: 10,\n  },\n  sidePanel: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    height: '100%',\n    zIndex: 12,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    padding: `0 ${theme.spacing.unit}px`,\n    paddingBottom: theme.spacing.unit * 4,\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    transform: 'translateX(80%)', // Hide most of the panel\n    transition: 'transform 0.3s ease-in-out',\n    '&:hover': {\n      transform: 'translateX(0)', // Slide in on hover\n    },\n  },\n  sidePanelButton: {\n    margin: `${theme.spacing.unit}px 0`,\n  },\n\n  controlsContainer: {\n    position: 'absolute',\n    bottom: theme.spacing.unit * 4,\n    left: 0,\n    width: '100%',\n    zIndex: 10,\n    display: 'flex',\n    justifyContent: 'space-around',\n    color: 'white',\n  },\n  joystickContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  joystickBase: {\n    fill: 'rgba(224, 224, 224, 0.4)',\n    stroke: 'rgba(189, 189, 189, 0.6)',\n    strokeWidth: 2,\n  },\n  joystickAxis: {\n    stroke: 'rgba(255, 255, 255, 0.3)',\n    strokeWidth: 1,\n    strokeDasharray: '2 2',\n  },\n});\n\nclass VideoDeviceOpp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sessionStarted: false,\n      isPublishing: false, // Start with video off\n      showPublisher: false,\n      visibleControls: {\n        armJoystick: true,\n        arm6DOF: true,\n        sixDoFArm: false,\n        dpad: true,\n        driveControls: false,\n        // voiceControl: true,\n      },\n    };\n    this.session = null;\n    this.publisher = null;\n    this.mqttClient = null;\n  }\n\n  componentDidMount() {\n    this.initializeMqtt();\n  }\n\n  componentWillUnmount() {\n    // Disconnect from session and MQTT to prevent memory leaks\n    if (this.session) {\n      this.session.disconnect();\n    }\n    if (this.mqttClient) {\n      this.mqttClient.end();\n    }\n  }\n\n  handleError = (error) => {\n    if (error) {\n      console.error('[Vonage Video Error]:', error);\n      alert(`Video Error: ${error.message}`);\n    }\n  }\n\n  initializeSession = () => {\n    // This logic is converted from your app.js\n    if (!config.APPLICATION_ID || !config.SESSION_ID || !config.TOKEN) {\n      if (config.SAMPLE_SERVER_BASE_URL) {\n        // Logic to fetch credentials from server can be added here\n        alert('Vonage API credentials are not set in src/config.js. Server fetching not yet implemented in this component.');\n      } else {\n        alert('Vonage API credentials are not set in src/config.js. Cannot start video session.');\n      }\n      return;\n    }\n\n    if (typeof window.OT === 'undefined') {\n      alert('OpenTok.js library is not loaded. Please check public/index.html.');\n      return;\n    }\n\n    this.session = window.OT.initSession(config.APPLICATION_ID, config.SESSION_ID);\n\n    this.session.on('streamCreated', (event) => {\n      this.session.subscribe(event.stream, 'subscriber', {\n        insertMode: 'replace',\n        width: '100%',\n        height: '100%'\n      }, this.handleError);\n    });\n\n    this.publisher = window.OT.initPublisher('publisher', {\n      insertMode: 'replace',\n      width: '100%',\n      height: '100%',\n      resolution: '640x480',\n      frameRate: 15,\n      publishVideo: this.state.isPublishing,\n    }, this.handleError);\n\n    this.session.connect(config.TOKEN, (error) => {\n      if (error) {\n        this.handleError(error);\n      } else {\n        this.session.publish(this.publisher, this.handleError);\n        this.setState({ sessionStarted: true });\n      }\n    });\n\n  }\n\n  initializeMqtt = () => {\n    // Placeholder for MQTT connection logic from app.js\n\n    // Example:\n    if (typeof window.mqtt === 'undefined') {\n      alert('MQTT.js library is not loaded.');\n      return;\n    }\n    console.log('Initializing MQTT...');\n\n    // this.mqttClient = window.mqtt.connect('wss://your-mqtt-broker.com');\n    // this.mqttClient.on('connect', () => console.log('Connected to MQTT'));\n    this.mqttClient = window.mqtt.connect(config.MQTT_HOST, config.MQTT_OPTIONS);\n    this.mqttClient.on('connect', () => console.log('Connected to MQTT broker'));\n    this.mqttClient.on('error', (err) => console.error('MQTT Connection error: ', err));\n  };\n\n  publishMqtt = (topic, message) => {\n    if (this.mqttClient && this.mqttClient.connected) {\n      console.log(`MQTT OUT [${topic}]: ${message}`);\n      this.mqttClient.publish(topic, message, config.MQTT_PUBLISH_OPTIONS);\n    } else {\n      console.warn(`MQTT not connected. Cannot publish to ${topic}.`);\n    }\n  };\n\n  handlePublishVideo = (shouldPublish) => {\n    if (this.publisher) {\n      this.publisher.publishVideo(shouldPublish);\n      this.setState({ isPublishing: shouldPublish });\n    }\n  }\n\n  handleControlVisibilityChange = (controlId, isVisible) => {\n    this.setState(prevState => ({\n      visibleControls: {\n        ...prevState.visibleControls,\n        [controlId]: isVisible,\n      },\n    }));\n  };\n\n  togglePublisherWindow = () => {\n    this.setState(prevState => ({ showPublisher: !prevState.showPublisher }));\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { sessionStarted, isPublishing, visibleControls } = this.state;\n\n\n    return (\n      <div className={classes.root}>\n        <div id=\"videos\" className={classes.videos}>\n          <div id=\"subscriber\" className={classes.subscriber}></div>\n          {this.state.showPublisher && (\n            <div id=\"publisher-container\" className={classes.publisherContainer}>\n              <div id=\"publisher\" className={classes.publisher}></div>\n            </div>\n          )}\n          <div className={classes.sidePanel}>\n            <IconButton\n              className={classes.sidePanelButton}\n              onClick={!sessionStarted ? this.initializeSession : () => { }}\n              style={{ color: sessionStarted ? '#4caf50' : 'white' }}\n            >\n              <PowerSettingsNewIcon />\n            </IconButton>\n            <ControlsManager\n              visibleControls={visibleControls}\n              onVisibilityChange={this.handleControlVisibilityChange}\n            />\n          </div>\n          <div className={classes.controlsContainer}>\n            {visibleControls.armJoystick && <ArmJoystickController publish={this.publishMqtt} />}\n\n            {visibleControls.arm6DOF && <Arm6DOFController />}\n\n            {visibleControls.sixDoFArm && <SixDoFArm />}\n            {visibleControls.dpad && <DpadController publish={this.publishMqtt} />}\n\n            {visibleControls.driveControls && <DriveControls publish={this.publishMqtt} />}\n\n            {/* {visibleControls.voiceControl && <VoiceControl publish={this.publishMqtt} />} */}\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nVideoDeviceOpp.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(VideoDeviceOpp);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nconst styles = theme => ({\n  dialogContent: {\n    minWidth: 400,\n  },\n  textField: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n});\n\nconst deviceTypes = ['Robot', 'Drone', 'Vehicle'];\n\nclass DeviceForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialState(props.device);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.device !== prevProps.device) {\n      this.setState(this.getInitialState(this.props.device));\n    }\n  }\n\n  getInitialState = (device) => ({\n    id: device ? device.vehicleID : '',\n    name: device ? device.name || '' : '',\n    type: device ? device.type || 'Robot' : 'Robot',\n    location: device ? `${device.lat || ''}, ${device.long || ''}` : '',\n  });\n\n  handleChange = (field) => (event) => {\n    this.setState({ [field]: event.target.value });\n  };\n\n  handleSave = () => {\n    console.log('Saving device:', this.state);\n    // In a real app, you would dispatch an action to save to an API\n    alert(`Saving device: ${this.state.name || this.state.id}`);\n    this.props.onClose();\n  };\n\n  render() {\n    const { classes, open, onClose, device } = this.props;\n    const { id, name, type, location } = this.state;\n    const isEditing = !!device;\n\n    return (\n      <Dialog open={open} onClose={onClose} aria-labelledby=\"device-form-dialog-title\">\n        <DialogTitle id=\"device-form-dialog-title\">{isEditing ? 'Edit Device' : 'Add New Device'}</DialogTitle>\n        <DialogContent className={classes.dialogContent}>\n          <TextField\n            label=\"Device ID\"\n            value={id}\n            onChange={this.handleChange('id')}\n            fullWidth\n            className={classes.textField}\n            disabled={isEditing}\n            helperText={isEditing ? \"ID cannot be changed.\" : \"Unique identifier for the device.\"}\n          />\n          <TextField label=\"Name\" value={name} onChange={this.handleChange('name')} fullWidth className={classes.textField} />\n          <TextField select label=\"Type\" value={type} onChange={this.handleChange('type')} fullWidth className={classes.textField}>\n            {deviceTypes.map(option => (\n              <MenuItem key={option} value={option}>{option}</MenuItem>\n            ))}\n          </TextField>\n          <TextField label=\"Location (Lat, Lng)\" value={location} onChange={this.handleChange('location')} fullWidth className={classes.textField} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} color=\"secondary\">Cancel</Button>\n          <Button onClick={this.handleSave} color=\"primary\" variant=\"contained\">Save</Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nDeviceForm.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  device: PropTypes.object, // The device to edit, or null for a new one\n};\n\nDeviceForm.defaultProps = {\n  device: null,\n};\n\nexport default withStyles(styles)(DeviceForm);","import React from 'react';\nimport PropTypes, { nominalTypeHack } from 'prop-types';\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport VideoCam from '@material-ui/icons/Videocam';\nimport InsertChart from '@material-ui/icons/InsertChart';\nimport Chat from '@material-ui/icons/Chat';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport TextField from '@material-ui/core/TextField';\nimport { io } from \"socket.io-client\";\n\nimport StrengthChart from './strengthchart';\nimport SpeedChart from './speedchart';\nimport MapCard from './map';\nimport MediaControlCard from './mediaControl';\nimport DatePickers from './datepickers';\nimport AppBar from './appBar';\nimport * as vehicleActions from \"./actions/vehicles\";\nimport AnalyticsPage from './pagesAnalytics';\nimport MediaPage from './pagesMedia';\nimport ChatPage from './pagesChat'\nimport VideoDeviceOpp from './videoDeviceOpp';\nimport DeviceManager from './DeviceManager';\nimport ServerSettings from './ServerSettings';\n// import VehicleSocket from './containers/VehicleSocket'; \n\nconst styles = theme => ({\n  pageContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100vh',\n  },\n  root: {\n    flex: 1,\n    // padding: theme.spacing.unit * 1,\n    // padding: theme.spacing.unit * 3,\n    overflow: 'hidden',\n    width: '100%',\n  },\n  demo: {\n    height: '100%',\n    width: '100%',\n    padding: theme.spacing.unit,\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'auto',\n  },\n  mapContainer: {\n    flex: 1,\n    position: 'relative',\n    display: 'flex',\n    minHeight: 0,\n  },\n  videoContainer: {\n    flex: 1,\n    minHeight: 0,\n    overflowY: 'auto',\n    marginTop: theme.spacing.unit,\n  },\n  controlsContainer: {\n    flex: '0 0 auto',\n  },\n  rside: {\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  center: {\n    textAlign: 'center',\n  },\n  Paper: {\n    border: 0,\n    padding: theme.spacing.unit * 2,\n    height: '27%',\n    textAlign: 'left',\n    color: theme.palette.text.secondary,\n    margin: '0 2px 2px ',\n  },\n  control: {\n    padding: theme.spacing.unit * 2,\n  },\n  card: {\n    minWidth: 2,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 12,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n\n  chartContainer: {\n    marginLeft: -22,\n  },\n  tableContainer: {\n    width: '100%',\n    height: '70%',\n  },\n  tabs1: {\n    height: '30px'\n  },\n  h5: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  button: {\n    margin: theme.spacing.unit,\n    margin: '0 0 0 12px',\n  },\n});\n\nlet socket;\nclass Dashboard extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      realtime: false,\n      rtcolor: \"#000\",\n      dtFrom: new Date().toISOString(),\n      dtTo: new Date().toISOString(),\n      marker: 0,   // index in devices\n      vLength: 0,\n      didMount: false,\n      tabIndex: 0,\n      deviceManagerOpen: false,\n      serverSettingsOpen: false,\n    };\n  }\n\n\n  componentDidMount() {\n    this.setState({ didMount: true });\n\n    socket = io.connect('http://localhost:5000');\n\n    socket.on('connect', function (data) {\n      console.log(\"It worked\")\n    });\n\n    socket.on('vehicles_update', (data) => {\n      console.log(\"vehicles_update\", data)\n      let arr = [];\n      arr.push(data);\n      this.props.actions.updateVehicles(arr);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // if(nextProps.value !== this.props.value) {\n    //   this.setState({value: nextProps.value});\n    // } \n    console.log('compwill-receive props');\n    this.setState({ marker: 0 });\n  }\n\n  handleDrawerOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleDrawerClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleTabChange = (event, value) => {\n    this.setState({ tabIndex: value });\n  }\n\n\n  handleSubmit = (dtFrom, dtTo) => {\n    // console.log('from-to' + dtFrom.toTimeString() + '-' + dtTo);\n    if (this.state.realtime) {\n      this.setState({ realtime: false });\n    }\n\n    if (dtFrom && dtTo) {\n      console.log('from-to' + dtFrom + '-' + dtTo);\n      // alert('dtFrom - dtTo' +  dtFrom + '-' + dtTo);\n      dtFrom = this.getISODateString(dtFrom);\n      dtTo = this.getISODateString(dtTo);\n\n      console.log('from-to' + dtFrom + '-' + dtTo);\n      // this.setState({ realtime: false });\n      // var oneWeekAgo = new Date();\n      // oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\n      // dtFrom=new Date().getTime().toString();\n      // dtTo = \"1543788771484\";\n      if (dtFrom.trim() && dtTo.trim()) {\n        this.props.actions.fetchVehicles(dtFrom.trim(), dtTo.trim());\n        this.handleReset();\n        this.stopPlayMap();\n      }\n    }\n  }\n\n  pad(number) {\n    if (number < 10) {\n      return '0' + number;\n    }\n    return number;\n  };\n\n  getISODateString(dtnow) {\n    dtnow = new Date(dtnow);\n    return dtnow.getUTCFullYear() +\n      '-' + this.pad(dtnow.getUTCMonth() + 1) +\n      '-' + this.pad(dtnow.getUTCDate()) +\n      'T' + this.pad(dtnow.getHours()) +\n      ':' + this.pad(dtnow.getMinutes()) +\n      ':' + this.pad(dtnow.getSeconds());\n  }\n\n  handleReset = () => {\n    this.setState({\n      dtFrom: '',\n      dtTo: ''\n    });\n  };\n\n  handleRealTime = (isRealTime) => {\n    console.log('RT Toggled:', isRealTime);\n    this.setState({ realtime: isRealTime });\n  };\n\n  handleSlideClick = (pos) => {\n    console.log(`pos ${pos}`);\n    this.stopPlayMap();\n    this.setMarker(pos);\n  }\n\n  handleMediaControlChange = (step) => {\n    console.log('media', step);\n    this.stopPlayMap();\n    let num = this.state.marker;\n    let len = (this.props.vehicles.vehicles || []).length;\n    console.log(`mediamarker ${num} , len= ${len - 1}`);\n    switch (step) {\n      case 0:\n        num = 0;\n        break;\n      case -1:\n        num = ((num - 1) > 0) ? num - 1 : 0;\n        break;\n      case -5:\n        this.stopPlayMap();\n        return; // Stop playback and do nothing else\n      case 5:\n        this.playMap(num);\n        return; // playMap will handle marker updates\n      case 1:\n        num = ((num + 1) < len) ? num + 1 : len - 1;\n        break;\n      case 9:\n        num = len - 1;\n        break;\n      default:\n        return; // Do nothing for unknown steps\n    }\n    console.log(`num  ${num}`);\n    this.setMarker(num);\n  };\n\n  //  setLoop = setInterval(playMap, 1000);\n\n  playMap(value) {\n    if (this.state.didMount && (value >= 0)) {\n      const len = (this.props.vehicles.vehicles || []).length;\n      if (len === 0) return;\n\n      let currentValue = value;\n\n      const nextFrame = () => {\n        this.setMarker(currentValue);\n        currentValue = (currentValue + 1) % len;\n      };\n\n      this.stopPlayMap(); // Ensure no other loop is running\n      nextFrame(); // Show the current frame immediately\n      this.setLoop = setInterval(nextFrame, 1000);\n    }\n  }\n\n  stopPlayMap() {\n    if (this.setLoop)\n      clearInterval(this.setLoop);\n  }\n\n  setMarker(value) {\n    console.log('setMarker', value);\n    this.setState(() => ({\n      marker: value\n    }));\n  }\n\n  handleDeviceManagerOpen = () => {\n    this.setState({ deviceManagerOpen: true });\n  };\n\n  handleDeviceManagerClose = () => {\n    this.setState({ deviceManagerOpen: false });\n  };\n\n  handleServerSettingsOpen = () => {\n    this.setState({ serverSettingsOpen: true });\n  };\n\n  handleServerSettingsClose = () => {\n    this.setState({ serverSettingsOpen: false });\n  };\n\n\n  render() {\n    const { classes } = this.props;\n    const vehicles = this.props.vehicles.vehicles || [];\n    const { realtime, marker, tabIndex } = this.state;\n    let ts;\n    console.log('marker....', marker);\n    if (marker >= 0) {\n      if (vehicles.length > 0 && vehicles[marker]) {\n        ts = vehicles[marker][\"timestamp\"];\n      } else { ts = marker; }\n    } else {\n      // console.log('marker null');\n    }\n\n    return (\n      <div className={classes.pageContainer}>\n        <CssBaseline />\n        <AppBar submit={this.handleSubmit} realtimeclick={this.handleRealTime} realtime={realtime} onOpenServerSettings={this.handleServerSettingsOpen} />\n        <Grid container className={classes.root} spacing={0}>\n          {/* <VehicleSocket realtime={realtime}> */}\n          <Grid item xs={8} className={classes.demo}>\n            <Paper className={classes.mapContainer}>\n              <MapCard submit={this.handleSubmit} rtcolor={realtime ? { backgroundColor: \"#18ffff\" } : { backgroundColor: \"red\" }} realtime={this.handleRealTime} pos={marker} onOpenDeviceManager={this.handleDeviceManagerOpen} />\n            </Paper>\n            <Paper className={classes.videoContainer}>\n              <VideoDeviceOpp />\n            </Paper>\n            <div className={classes.controlsContainer}>\n              <MediaControlCard max={vehicles.length - 1} value={marker} click={this.handleSlideClick} MediaControlChange={this.handleMediaControlChange} />\n            </div>\n          </Grid>\n\n          <Grid container className={classes.rside} item xs={4}>\n            <Tabs className={classes.tabs1}\n              value={tabIndex}\n              onChange={this.handleTabChange}\n              variant=\"scrollable\"\n              scrollButtons=\"auto\"\n              centered=\"false\"\n              indicatorColor=\"primary\"\n              textColor=\"primary\">\n              <Tab key='tab1' icon={<InsertChart />} />\n              <Tab key='tab2' icon={<VideoCam />} />\n              <Tab key='tab3' icon={<Chat />} />\n            </Tabs>\n            <div style={{ flex: 1, overflowY: 'auto', width: '100%' }}>\n              {tabIndex === 0 && <AnalyticsPage pos={ts} handleSubmit={this.handleSubmit} />}\n              {tabIndex === 1 && <MediaPage />}\n              {tabIndex === 2 && <ChatPage pos={ts} handleSubmit={this.handleSubmit} />}\n            </div>\n          </Grid>\n          {/* </VehicleSocket> */}\n          <DeviceManager \n            open={this.state.deviceManagerOpen} \n            onClose={this.handleDeviceManagerClose}\n            devices={vehicles}\n          />\n          <ServerSettings\n            open={this.state.serverSettingsOpen}\n            onClose={this.handleServerSettingsClose}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = state => {\n  return {\n    vehicles: state.vehicles\n  }\n};\n// const mapStateToProps = (state) => state;\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    actions: bindActionCreators(vehicleActions, dispatch)\n  }\n}\n// const connectDash = connect(mapStateToProps)(Dashboard);\n// const withStyleDash = withStyles(styles)(connectDash);\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(Dashboard));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport Switch from '@material-ui/core/Switch';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeviceForm from './DeviceForm';\n\nconst styles = theme => ({\n  dialogContent: {\n    minWidth: 500,\n  },\n  addButton: {\n    margin: theme.spacing.unit,\n  }\n});\n\nclass DeviceManager extends React.Component {\n  state = {\n    formOpen: false,\n    deviceToEdit: null,\n  };\n\n  // In a real app, these handlers would dispatch Redux actions to an API\n  handleToggle = (deviceId) => () => {\n    console.log(`Toggle visibility for device ${deviceId}`);\n    // This would typically update which devices are being subscribed to or displayed.\n  };\n\n  handleEdit = (device) => () => {\n    console.log('Editing device:', device);\n    // This would open an edit form/dialog.\n    this.setState({ formOpen: true, deviceToEdit: device });\n  };\n\n  handleDelete = (deviceId) => () => {\n    console.log('Deleting device:', deviceId);\n    // This would show a confirmation and then dispatch a delete action.\n    if (window.confirm(`Are you sure you want to delete device ${deviceId}?`)) {\n      alert(`Deleting device: ${deviceId}`);\n    }\n  };\n\n  handleAdd = () => {\n    console.log('Adding new device');\n    // This would open a form to create a new device.\n    this.setState({ formOpen: true, deviceToEdit: null });\n  };\n\n  handleFormClose = () => {\n    this.setState({ formOpen: false, deviceToEdit: null });\n  };\n\n  render() {\n    const { classes, onClose, open, devices } = this.props;\n    const { formOpen, deviceToEdit } = this.state;\n\n    // This extracts unique devices from the time-series data.\n    // For a full implementation, you should fetch a dedicated list of all registered devices.\n    const deviceMap = new Map();\n    devices.forEach(device => {\n      if (device.vehicleID) { // Only consider items that have a vehicleID\n        deviceMap.set(device.vehicleID, device);\n      }\n    });\n    const uniqueDevices = Array.from(deviceMap.values());\n\n    return (\n      <React.Fragment>\n        <Dialog\n          open={open}\n          onClose={onClose}\n          aria-labelledby=\"device-manager-dialog-title\"\n        >\n          <DialogTitle id=\"device-manager-dialog-title\">Device Management</DialogTitle>\n          <DialogContent className={classes.dialogContent}>\n            <List>\n              {uniqueDevices.map(device => (\n                <ListItem key={device.vehicleID}>\n                  <ListItemText\n                    primary={`Device ID: ${device.vehicleID}`}\n                    secondary={`Last seen: ${new Date(device.timestamp).toLocaleString()}`}\n                  />\n                  <ListItemSecondaryAction>\n                    <Switch\n                      onChange={this.handleToggle(device.vehicleID)}\n                      defaultChecked\n                    />\n                    <IconButton aria-label=\"Edit\" onClick={this.handleEdit(device)}>\n                      <EditIcon />\n                    </IconButton>\n                    <IconButton aria-label=\"Delete\" onClick={this.handleDelete(device.vehicleID)}>\n                      <DeleteIcon />\n                    </IconButton>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              ))}\n            </List>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleAdd} color=\"primary\" variant=\"contained\" className={classes.addButton}>\n              <AddIcon />\n              Add New Device\n            </Button>\n            <Button onClick={onClose} color=\"primary\">\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <DeviceForm open={formOpen} onClose={this.handleFormClose} device={deviceToEdit} />\n      </React.Fragment>\n    );\n  }\n}\n\nDeviceManager.propTypes = {\n  classes: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired,\n  devices: PropTypes.array.isRequired,\n};\n\nexport default withStyles(styles)(DeviceManager);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport * as defaultConfig from './config';\n\nconst styles = theme => ({\n  dialogContent: {\n    minWidth: 500,\n  },\n  textField: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  sectionTitle: {\n    marginTop: theme.spacing.unit * 2,\n    marginBottom: theme.spacing.unit,\n  },\n});\n\nconst CONFIG_STORAGE_KEY = 'mars-geo-tracker-config';\n\nclass ServerSettings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = this.loadSettings();\n  }\n\n  loadSettings = () => {\n    try {\n      const storedSettings = localStorage.getItem(CONFIG_STORAGE_KEY);\n      if (storedSettings) {\n        return JSON.parse(storedSettings);\n      }\n    } catch (error) {\n      console.error('Error loading settings from local storage:', error);\n    }\n    // Fallback to default config if nothing is stored or if there's an error\n    return {\n      SAMPLE_SERVER_BASE_URL: defaultConfig.SAMPLE_SERVER_BASE_URL,\n      APPLICATION_ID: defaultConfig.APPLICATION_ID,\n      SESSION_ID: defaultConfig.SESSION_ID,\n      TOKEN: defaultConfig.TOKEN,\n      MQTT_HOST: defaultConfig.MQTT_HOST,\n      MQTT_USERNAME: defaultConfig.MQTT_OPTIONS.username,\n      MQTT_PASSWORD: defaultConfig.MQTT_OPTIONS.password,\n      MQTT_PATH: defaultConfig.MQTT_OPTIONS.path,\n      DRIVE_MQTT_TOPIC: defaultConfig.DRIVE_MQTT_TOPIC,\n      ARM_MQTT_TOPIC: defaultConfig.ARM_MQTT_TOPIC,\n      GRIPPER_MQTT_TOPIC: defaultConfig.GRIPPER_MQTT_TOPIC,\n    };\n  };\n\n  handleChange = (field) => (event) => {\n    this.setState({ [field]: event.target.value });\n  };\n\n  handleSave = () => {\n    try {\n      localStorage.setItem(CONFIG_STORAGE_KEY, JSON.stringify(this.state));\n      alert('Settings saved! Please refresh the page for them to take effect.');\n      this.props.onClose();\n    } catch (error) {\n      console.error('Error saving settings to local storage:', error);\n      alert('Failed to save settings.');\n    }\n  };\n\n  render() {\n    const { classes, open, onClose } = this.props;\n\n    return (\n      <Dialog open={open} onClose={onClose} aria-labelledby=\"server-settings-dialog-title\">\n        <DialogTitle id=\"server-settings-dialog-title\">Server Settings</DialogTitle>\n        <DialogContent className={classes.dialogContent}>\n          <Typography variant=\"h6\" className={classes.sectionTitle}>Video Server</Typography>\n          <TextField\n            label=\"Video Server URL\"\n            value={this.state.SAMPLE_SERVER_BASE_URL}\n            onChange={this.handleChange('SAMPLE_SERVER_BASE_URL')}\n            fullWidth\n            className={classes.textField}\n          />\n          <TextField label=\"Vonage App ID\" value={this.state.APPLICATION_ID} onChange={this.handleChange('APPLICATION_ID')} fullWidth className={classes.textField} />\n          <TextField label=\"Vonage Session ID\" value={this.state.SESSION_ID} onChange={this.handleChange('SESSION_ID')} fullWidth className={classes.textField} />\n          <TextField label=\"Vonage Token\" value={this.state.TOKEN} onChange={this.handleChange('TOKEN')} fullWidth className={classes.textField} multiline />\n\n          <Typography variant=\"h6\" className={classes.sectionTitle}>MQTT Server</Typography>\n          <TextField label=\"MQTT Host\" value={this.state.MQTT_HOST} onChange={this.handleChange('MQTT_HOST')} fullWidth className={classes.textField} />\n          <TextField label=\"MQTT Username\" value={this.state.MQTT_USERNAME} onChange={this.handleChange('MQTT_USERNAME')} fullWidth className={classes.textField} />\n          <TextField label=\"MQTT Password\" value={this.state.MQTT_PASSWORD} onChange={this.handleChange('MQTT_PASSWORD')} fullWidth className={classes.textField} type=\"password\" />\n          <TextField label=\"MQTT Path\" value={this.state.MQTT_PATH} onChange={this.handleChange('MQTT_PATH')} fullWidth className={classes.textField} />\n\n          <Typography variant=\"h6\" className={classes.sectionTitle}>MQTT Topics</Typography>\n          <TextField label=\"Drive Topic\" value={this.state.DRIVE_MQTT_TOPIC} onChange={this.handleChange('DRIVE_MQTT_TOPIC')} fullWidth className={classes.textField} />\n          <TextField label=\"Arm Topic\" value={this.state.ARM_MQTT_TOPIC} onChange={this.handleChange('ARM_MQTT_TOPIC')} fullWidth className={classes.textField} />\n          <TextField label=\"Gripper Topic\" value={this.state.GRIPPER_MQTT_TOPIC} onChange={this.handleChange('GRIPPER_MQTT_TOPIC')} fullWidth className={classes.textField} />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={onClose} color=\"secondary\">Cancel</Button>\n          <Button onClick={this.handleSave} color=\"primary\" variant=\"contained\">Save</Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nServerSettings.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ServerSettings);","import React, { Component } from \"react\";\n// import App from \"./app\";\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n// import MomentUtils from '@date-io/moment';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n// import lightGreen from '@material-ui/core/colors/lightGreen';\nimport teal from '@material-ui/core/colors/teal';\n\nimport reducers from \"./../reducers/index\";\nimport Geomaindashboard from '../geotrackmaindashboard';  \n\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: teal,\n    secondary: {\n      main: '#ffeb3b',\n    },\n  },\n});\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(thunk)\n);\n\nconst uname = 'user' + Math.floor((Math.random() * 10) + 1);\n// const socket = setupSocket(store.dispatch, uname);\n\nconst AppProvider = (\n  <MuiThemeProvider theme={theme}> \n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <Provider store={store}>\n        <Geomaindashboard/>\n      </Provider>\n    </MuiPickersUtilsProvider> \n  </MuiThemeProvider> \n)\n\n\nclass Main extends Component {\n  render() {\n    return (\n      AppProvider\n    )\n  }\n}\n\nexport default Main;","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Main from \"./containers/index\";\n\n\nReactDOM.render(<Main />, document.querySelector('#root'));\n"],"sourceRoot":""}