{"version":3,"sources":["assets/images/car-marker.png","actions/vehicles.js","reducers/vehicles.js","reducers/index.js","strengthchart.js","speedchart.js","map_legend.js","signalMeter.js","map.js","mediaControl.js","datepickers.js","containers/VehicleSocket.js","appBar.js","GeoTrackDashboard.js","containers/index.js","index.js"],"names":["module","exports","__webpack_require__","p","UPDATE_VEHICLES","RT_UPDATE_VEHICLES","token","vehicleId","fetchVehicles","dtFrom","dtTo","dispatch","axios","get","concat","params","since","until","headers","Authorization","then","response","console","log","data","updateVehicles","catch","error","fetchVehicles1","vehicles","type","rtUpdateVehicles","initialState","vehiclesReducer","state","arguments","length","undefined","action","rootReducer","combineReducers","StrengthChart","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","pos","nextProps","setState","react_default","a","createElement","ResponsiveContainer_default","width","height","LineChart_default","syncId","ReferenceLine_default","x","stroke","label","XAxis_default","dataKey","tick","YAxis_default","CartesianGrid_default","vertical","strokeDasharray","Tooltip_default","Line_default","Component","connect","str","MapControl","SignalMeter","barStyle","bar","borderRadius","background","strength","style","padding","marginLeft","display","alignItems","justifyContent","position","L","Icon","iconUrl","require","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","shadowUrl","shadowSize","shadowAnchor","cover","MapCard","handleZoom","event","_event$target$getCent","target","getCenter","lat","lng","zoom","getZoom","waypoints","positions","map","curMark","curSpeed","curSignal","Marker","Popup","Map","center","zoomControl","attributionControl","onzoom","TileLayer","url","attribution","ZoomControl","Polyline","color","weight","opacity","build_lib","backgroundColor","fontSize","signalMeter","vehicle","index","timestamp","_classes","classes","defineProperty","AppCss","marker","bus","divIcon","className","classnames","html","CircleMarker","circle","key","long","radius","speed","withStyles","theme","root","flexGrow","overflow","backgroud","MediaControlCard","handleSlideChange","value","clear","showPlay","click","handlePlayStop","boo","MediaControlChange","btn","_React$createElement","_this$props","max","step","Card_default","card","details","Slider_default","container","slider","min","aria-labelledby","onChange","thumbIconWrapper","PanoramaVertical_default","controls","IconButton_default","aria-label","onClick","handlePlaybuttons","bind","direction","SkipNext_default","SkipPrevious_default","FastForward_default","FastRewind_default","PlayArrow_default","playIcon","Stop_default","React","flexDirection","content","flex","thumbIcon","withTheme","DatePickers","handleChangedtFrom","date","handleChangedtTo","handleOpen","open","format","Date","selectedDate","assertThisInitialized","_this2","_this$state","noValidate","react","material_ui_pickers_esm","id","Button_default","submit","variant","button","spacing","unit","marginBottom","margin","leftIcon","marginRight","rightIcon","iconSmall","txtField","VehicleSocket","children","actions","bindActionCreators","vehicleActions","TopBar","anchorEl","mobileMoreAnchorEl","handleProfileMenuOpen","currentTarget","handleMenuClose","handleMobileMenuClose","handleMobileMenuOpen","toggleDrawer","isMenuOpen","Boolean","isMobileMenuOpen","sideList","list","List_default","text","ListItem_default","ListItemIcon_default","MoveToInbox_default","Mail_default","ListItemText_default","primary","Divider_default","renderMenu","Menu_default","anchorOrigin","horizontal","transformOrigin","onClose","MenuItem_default","renderMobileMenu","Badge_default","badgeContent","Notifications_default","AccountCircle_default","AppBar_default","Toolbar_default","menuButton","icons_Menu_default","Typography_default","title","noWrap","Drawer_default","tabIndex","role","onKeyDown","grow","sectionDesktop","aria-owns","aria-haspopup","sectionMobile","MoreVert_default","breakpoints","up","search","shape","fade","palette","common","white","&:hover","searchIcon","pointerEvents","inputRoot","inputInput","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","Dashboard","handleDrawerOpen","handleDrawerClose","handleSubmit","getISODateString","trim","handleReset","stopPlayMap","handleRealTimeClick","realtime","handleSlideClick","setMarker","handleMediaControlChange","num","len","playMap","toISOString","vLength","didMount","number","dtnow","getUTCFullYear","pad","getUTCMonth","getUTCDate","getHours","getMinutes","getSeconds","setLoop","setInterval","clearInterval","ts","CssBaseline_default","Grid_default","justify","alignments","containers_VehicleSocket","appBar","item","xs","demo","gutterBottom","src_map","mediaControl","Paper_default","datepickers","realtimeclick","paper","strengthchart","speedchart","textAlign","left","secondary","control","minWidth","bullet","transform","toolbar","toolbarIcon","objectSpread","mixins","chartContainer","tableContainer","h5","createMuiTheme","teal","main","store","createStore","reducers","applyMiddleware","thunk","AppProvider","core_styles","utils","DateFnsUtils","lib","GeoTrackDashboard","Main","ReactDOM","render","containers","document","querySelector"],"mappings":"mGAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,khBCI3BC,EAAkB,kBAElBC,EAAqB,qBAO5BC,EAAS,oYACTC,EAAY,uCAILC,EAAgB,SAACC,EAAOC,GAGnC,OAAO,SAACC,GACN,OAAOC,IAAMC,IAAN,GAAAC,OAVI,uFAUkB,CAC3BC,OAAQ,CACNC,MAAOP,EACPQ,MAAMP,GAERQ,QAAS,CAACC,cAAiB,UAAUb,KAEpCc,KAAK,SAAAC,GACJC,QAAQC,IAAI,yBAAyBF,EAASG,KAAT,QAAyBjB,IAC9DI,EAASc,EAAeJ,EAASG,KAAT,QAAyBjB,OAElDmB,MAAM,SAAAC,GACL,MAAMA,MAMDC,EAAmB,SAACnB,EAAOC,GAKtC,OAAO,SAACC,GACN,OAAOC,IAAMC,IAAN,GAAAC,OAnCU,iCAmCkB,CACjCC,OAAQ,CACNC,MAAOP,EACPQ,MAAMP,KAGPU,KAAK,SAAAC,GACAA,EAASG,MACbF,QAAQC,IAAI,yBAAyBF,EAASG,KAAT,QAAyBjB,IAC9DI,EAASc,EAAeJ,EAASG,KAAT,QAAyBjB,OAElDmB,MAAM,SAAAC,GAGL,MADAL,QAAQC,IAAII,GACNA,MAMDF,EAAkB,SAACI,GAE9B,OADAP,QAAQC,IAAI,gBAAiBM,GACtB,CACLC,KAAM1B,EACNyB,aAcSE,EAAmB,SAACF,GAE/B,MAAO,CACLC,KAAMzB,EACNwB,aCvFEG,EAAe,GAaNC,EAXS,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBH,EAAcM,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EACxD,OAAQC,EAAOR,MACb,KAAK1B,EAEL,KAAKC,EACH,OAAOiC,EAAOT,SAChB,QACE,OAAOK,ICFEK,EAJKC,0BAAgB,CAClCX,uSCcIY,eAEJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDR,MAAQ,CACXgB,IAAK,GAHUP,yFAOOQ,GACpBA,EAAUD,MAAQJ,KAAKJ,MAAMQ,KAC/BJ,KAAKM,SAAS,CAAEF,IAAKC,EAAUD,uCASjC,OAIEG,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAqBG,MAAM,MAAMC,OAAO,OAEtCL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAW9B,KAAMsB,KAAKJ,MAAMb,SAAU+B,OAAO,SAC3CP,EAAAC,EAAAC,cAACM,GAAAP,EAAD,CAAeQ,EAAGhB,KAAKJ,MAAMQ,IAAKa,OAAO,MAAMC,MAAM,KACrDX,EAAAC,EAAAC,cAACU,EAAAX,EAAD,CAAOY,QAAQ,YAAeC,MAAM,IACpCd,EAAAC,EAAAC,cAACa,EAAAd,EAAD,MACAD,EAAAC,EAAAC,cAACc,GAAAf,EAAD,CAAegB,UAAU,EAAOC,gBAAgB,QAChDlB,EAAAC,EAAAC,cAACiB,GAAAlB,EAAD,MAGAD,EAAAC,EAAAC,cAACkB,EAAAnB,EAAD,CAAMxB,KAAK,WAAWoC,QAAQ,OAAOH,OAAO,qBAlC1BW,aAgDbC,qBANS,SAACzC,GACvB,MAAO,CACLL,SAAUK,EAAML,WAIL8C,CAAyBlC,IClCxC,IAMekC,qBANS,SAACzC,GACvB,MAAO,CACLL,SAAUK,EAAML,WAIL8C,CA1Bf,SAAoBjC,GAClB,IAAIkC,EAAOlC,EAAMQ,IACjB,OAEEG,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CAAqBG,MAAM,MAAMC,OAAO,OAEtCL,EAAAC,EAAAC,cAACI,EAAAL,EAAD,CAAW9B,KAAMkB,EAAMb,SAAU+B,OAAO,SACtCP,EAAAC,EAAAC,cAACU,EAAAX,EAAD,CAAOU,MAAM,OAAOE,QAAQ,YAAYC,MAAM,IAC9Cd,EAAAC,EAAAC,cAACa,EAAAd,EAAD,MACAD,EAAAC,EAAAC,cAACc,GAAAf,EAAD,CAAegB,UAAU,EAAOC,gBAAgB,QAChDlB,EAAAC,EAAAC,cAACiB,GAAAlB,EAAD,MAEAD,EAAAC,EAAAC,cAACM,GAAAP,EAAD,CAAgBQ,EAAGc,EAAKb,OAAO,QAC/BV,EAAAC,EAAAC,cAACkB,EAAAnB,EAAD,CAAMxB,KAAK,WAAWoC,QAAQ,QAAQH,OAAO,mKCrBVc,ECkC5BC,OApCf,SAAsBpC,GAapB,SAASqC,EAASC,GAChB,MAAO,CACLC,aAAc,EACdxB,MAAO,MACPC,OAAM,GAAA5C,OAAK,GAAKkE,EAAV,KACNE,WAAYxC,EAAMyC,UAAY,IAAMH,EAAM,GAAK,GAAK,MAAQ,aAIhE,OACE3B,EAAAC,EAAAC,cAAA,OAAK6B,MAtBc,CACnB3B,MAAO,GACPC,OAAQ,GACR2B,QAAS,MACTC,WAAY,OACZC,QAAS,OACTC,WAAY,WACZC,eAAgB,gBAChBR,aAAc,IAeZ5B,EAAAC,EAAAC,cAAA,OAAK6B,MAAOL,EAAS,KACrB1B,EAAAC,EAAAC,cAAA,OAAK6B,MAAOL,EAAS,KACrB1B,EAAAC,EAAAC,cAAA,OAAK6B,MAAOL,EAAS,KACrB1B,EAAAC,EAAAC,cAAA,OAAK6B,MAAOL,EAAS,iBCkBvBW,IA9BqB,IAAIC,KAAEC,KAAK,CAClCC,QAASC,EAAQ,KACjBC,cAAeD,EAAQ,KACvBE,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,IAClBC,SAAU,CAAC,GAAI,IACfC,UAAW,oCACXC,WAAY,CAAC,GAAI,IACjBC,aAAc,CAAC,EAAG,MAsBL,CACb,WACC,aAEGC,GAAQ,CAAEZ,SAAU,WAAYjC,MAAO,OAAQC,OAAQ,OAEvD6C,eACJ,SAAAA,EAAY7D,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyD,IACjB5D,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2D,GAAAtD,KAAAH,KAAMJ,KAqBR8D,WAAa,SAACC,GAAU,IAAAC,EACDD,EAAME,OAAOC,YAA1BC,EADcH,EACdG,IAAKC,EADSJ,EACTI,IACbnE,EAAKS,SAAS,CAAEyD,MAAKC,MAAKC,KAAMN,EAAME,OAAOK,aAnB7CrE,EAAKT,MAAQ,CACX+E,UAAW,GACXC,UAAW,CACT,CAAC,UAAW,UACZ,CAAC,UAAW,WAEdH,KAAM,IAXSpE,wEA4BV,IACCd,EAAaiB,KAAKJ,MAAlBb,SACAkF,EAASjE,KAAKZ,MAAd6E,KAEJG,EAAYrF,EAASsF,IAAI,SAAUrD,GACrC,MAAO,CAACA,EAAC,IAASA,EAAC,QAMjBsD,EAAU,KACVC,EAAW,EACXC,EAAY,GA6BhB,OA5BIJ,EAAUpE,KAAKJ,MAAMQ,OACvBwC,GAAWwB,EAAUpE,KAAKJ,MAAMQ,KAEhCmE,EAAWxF,EAASiB,KAAKJ,MAAMQ,KAApB,MACXoE,EAAYzF,EAASiB,KAAKJ,MAAMQ,KAApB,KAEZkE,EAAU/D,EAAAC,EAAAC,cAACgE,GAAA,EAAD,CAAQ7B,SAAUwB,EAAUpE,KAAKJ,MAAMQ,MAC/CG,EAAAC,EAAAC,cAACiE,GAAA,EAAD,cAAcH,EAAShE,EAAAC,EAAAC,cAAA,WAAvB,WAAsC+D,KAuBxCjE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkE,GAAA,EAAD,CAAKC,OAAQhC,GAAUqB,KAAMA,EAAMY,aAAa,EAAOvC,MAAOkB,GAAOsB,oBAAoB,EAAOC,OAAQ/E,KAAK0D,YAC3GnD,EAAAC,EAAAC,cAACuE,GAAA,EAAD,CACEC,IAAI,0CACJC,YAAY,2EAEd3E,EAAAC,EAAAC,cAAC0E,GAAA,EAAD,CAAavC,SAAS,gBACtBrC,EAAAC,EAAAC,cAAC2E,GAAA,EAAD,CACEhB,UAAWA,EACXiB,MAAO,QACPC,OAAQ,GACRC,QAAS,KAEVjB,EACD/D,EAAAC,EAAAC,cAAC+E,GAAA,OAAD,CAAQlD,MAAO,CAAEH,aAAc,GAAMS,SAAS,YAC5CrC,EAAAC,EAAAC,cAAA,OAAK6B,MAAO,CAAEmD,gBAAiB,OAAQhD,QAAS,OAAQ9B,MAAO,QAAS+E,SAAU,GAAIL,MAAO,OAAQE,QAAS,GAAKhD,QAAS,IAC1HhC,EAAAC,EAAAC,cAAA,YAAS8D,EAAT,SADF,UAEEhE,EAAAC,EAAAC,cAACkF,GAAD,CAAatD,SAAsB,GAAZmC,IAFzB,IAE4CjE,EAAAC,EAAAC,cAAA,YAAS+D,EAAT,OAK5CH,KAAItF,EAAU,SAAC6G,EAASC,GACMD,EAApBE,UAAoBF,EAAT5G,KADa,IAAA+G,EAE5BC,GAAOD,EAAA,GAAAjG,OAAAmG,EAAA,EAAAnG,CAAAiG,EACRG,KAAOC,QAAS,GADRrG,OAAAmG,EAAA,EAAAnG,CAAAiG,EAERG,KAAOE,KAAM,GAFLL,GAUEM,mBAAQ,CAAEC,UAAWC,IAAWP,GAAUQ,KAAI,SAAAxI,OAAW6H,EAAX,aAO3D,OAEEtF,EAAAC,EAAAC,cAACgG,GAAA,EAAD,CAAcnE,MAAO,CAAE+C,MAAO,OAASiB,UAAWN,EAAQU,OAAQC,IAAKd,EAAOjB,OAAQ,CAACgB,EAAQ7B,IAAK6B,EAAQgB,MAAOC,OAAQ,EAAG3B,YAAaW,GACzItF,EAAAC,EAAAC,cAACiE,GAAA,EAAD,cAAckB,EAAQkB,MAAMvG,EAAAC,EAAAC,cAAA,WAA5B,QAAwCmF,EAAQE,uBArH5ClE,aAuIPmF,wBA/JA,SAAAC,GAAK,MAAK,CACvBC,KAAKnH,OAAAmG,EAAA,EAAAnG,CAAA,CACHoH,SAAU,EACVzE,QAAS,OAGT7B,OAAQ,QACRuG,SAAU,QANR,SAOM,QAGVT,OAAQ,CACNrB,MAAO,QACP+B,UAAW,WAkJAL,CAAmBlF,kBALV,SAACzC,GACvB,MAAO,CACLL,SAAUK,EAAML,WAGc8C,CAAyB4B,sNCnIrD4D,eAEJ,SAAAA,EAAYzH,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqH,IACjBxH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuH,GAAAlH,KAAAH,KAAMJ,KAgBR0H,kBAAoB,SAAC3D,EAAO4D,GAC1B/I,QAAQgJ,MAAM,eAAgBD,GAC9B1H,EAAKS,SAAS,CAAEmH,UAAU,IAC1B5H,EAAKD,MAAM8H,MAAMH,IApBA1H,EAmCnB8H,eAAiB,WACf,IAAIC,GAAM,EACN/H,EAAKT,MAAMqI,UACbG,GAAM,EACN/H,EAAKD,MAAMiI,mBAAmB,KAE9BD,GAAM,EACN/H,EAAKD,MAAMiI,oBAAoB,IAEjChI,EAAKS,SAAS,CAAEmH,SAAUG,KA1C1B/H,EAAKT,MAAQ,CACXmI,MAAO,EACPE,UAAU,GAJK5H,yFAYOQ,8CAWRyH,GAChB,OAAQA,GACN,KAAK,EACL,KAAM,EACN,KAAK,EACL,KAAK,EACH9H,KAAKJ,MAAMiI,mBAAmBC,GAC9B9H,KAAKM,SAAS,CAAEmH,UAAU,sCAqBvB,IAAAM,EAAAC,EACgChI,KAAKJ,MAApCoG,EADDgC,EACChC,QAASgB,EADVgB,EACUhB,MAAOiB,EADjBD,EACiBC,IAAKV,EADtBS,EACsBT,MAI7B,OAHAvH,KAAKkI,KAAO,EAKV3H,EAAAC,EAAAC,cAAC0H,GAAA3H,EAAD,CAAM8F,UAAWN,EAAQoC,MAEvB7H,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQqC,SACtB9H,EAAAC,EAAAC,cAAC6H,GAAA9H,GAADuH,EAAA,CACE/B,QAAS,CAAEuC,UAAWvC,EAAQwC,QAC9BjB,MAAOA,EACPkB,IAAK,EACLR,IAAKA,EACLC,KAAMlI,KAAKkI,KACXQ,kBAAgB,eAChBC,SAAU3I,KAAKsH,mBAPjBxH,OAAAmG,EAAA,EAAAnG,CAAAiI,EAAA,UAQW,CACPQ,UAAWvC,EAAQwC,OACnBI,iBAAkB5C,EAAQ4C,mBAV9B9I,OAAAmG,EAAA,EAAAnG,CAAAiI,EAAA,QAYSxH,EAAAC,EAAAC,cAACoI,GAAArI,EAAD,CAAkB8B,MAAO,CAAE+C,MAAO,cAZ3C0C,KAeFxH,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQ8C,UACtBvI,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,QAAQC,QAASjJ,KAAKkJ,kBAAkBC,KAAKnJ,KAAM,IACnD,QAApBgH,EAAMoC,UAAsB7I,EAAAC,EAAAC,cAAC4I,GAAA7I,EAAD,MAAmBD,EAAAC,EAAAC,cAAC6I,GAAA9I,EAAD,OAElDD,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,WAAWC,QAASjJ,KAAKkJ,kBAAkBC,KAAKnJ,MAAO,IACvD,QAApBgH,EAAMoC,UAAsB7I,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,MAAsBD,EAAAC,EAAAC,cAAC+I,GAAAhJ,EAAD,OAEnDR,KAAKZ,MAAMqI,SACXlH,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,aAAaC,QAASjJ,KAAK2H,gBAChDpH,EAAAC,EAAAC,cAACgJ,GAAAjJ,EAAD,CAAe8F,UAAWN,EAAQ0D,YAGlCnJ,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,OAAOC,QAASjJ,KAAK2H,gBAC1CpH,EAAAC,EAAAC,cAAEkJ,GAAAnJ,EAAF,CAAW8F,UAAWN,EAAQ0D,YAGpCnJ,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,OAAOC,QAASjJ,KAAKkJ,kBAAkBC,KAAKnJ,KAAM,IAClD,QAApBgH,EAAMoC,UAAsB7I,EAAAC,EAAAC,cAAC+I,GAAAhJ,EAAD,MAAqBD,EAAAC,EAAAC,cAAC8I,GAAA/I,EAAD,OAEpDD,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYwI,aAAW,OAAOC,QAASjJ,KAAKkJ,kBAAkBC,KAAKnJ,KAAM,IAClD,QAApBgH,EAAMoC,UAAsB7I,EAAAC,EAAAC,cAAC6I,GAAA9I,EAAD,MAAuBD,EAAAC,EAAAC,cAAC4I,GAAA7I,EAAD,gBAlGjCoJ,IAAMhI,WAgHtBmF,wBAvJA,SAAAC,GAAK,MAAK,CACvBoB,KAAM,CAEJzH,MAAO,QAET0H,QAAS,CACP5F,QAAS,OACToH,cAAe,UAGjBC,QAAS,CACPC,KAAM,YAERvG,MAAO,CACL7C,MAAO,QAETmI,SAAU,CACRnI,MAAO,OACP8B,QAAS,OAETE,eAAgB,UAIlB+G,SAAU,CACR9I,OAAQ,GACRD,MAAO,IAET6H,OAAQ,CACNjG,QAAS,YAEXyH,UAAW,CACT7H,aAAc,OAEhByG,iBAAkB,CAChBnD,gBAAiB,UAoHa,CAAEwE,WAAW,GAAhClD,CAAwCM,2CCjHjD6C,eAEJ,SAAAA,EAAYtK,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkK,IACjBrK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoK,GAAA/J,KAAAH,KAAMJ,KAYRuK,mBAAqB,SAAAC,GACnBvK,EAAKS,SAAS,CAAE3C,OAAQyM,KAdPvK,EAiBnBwK,iBAAmB,SAAAD,GACjBvK,EAAKS,SAAS,CAAE1C,KAAMwM,KAlBLvK,EA8BnByK,WAAa,WAEXzK,EAAKS,SAAS,CAAEiK,MAAM,KA9BtB1K,EAAKT,MAAQ,CACXmL,MAAM,EACN5M,OAAS6M,aAAO,IAAIC,KAAK,0BAA0B,sBACnD7M,KAAM4M,aAAO,IAAIC,KAAK,0BAA0B,sBAChDC,aAAc,IAAID,KAAK,6BAGzB5K,EAAKsK,mBAAqBtK,EAAKsK,mBAAmBhB,KAAxBrJ,OAAA6K,GAAA,EAAA7K,QAAA6K,GAAA,EAAA7K,CAAAD,KAC1BA,EAAKwK,iBAAmBxK,EAAKwK,iBAAiBlB,KAAtBrJ,OAAA6K,GAAA,EAAA7K,QAAA6K,GAAA,EAAA7K,CAAAD,KAVPA,wEAmCV,IAAA+K,EAAA5K,KAAA6K,EACgC7K,KAAKZ,MAAtBzB,GADfkN,EACCH,aADDG,EACelN,QAAQC,EADvBiN,EACuBjN,KACtBoI,EAAYhG,KAAKJ,MAAjBoG,QAuBR,OAEEzF,EAAAC,EAAAC,cAAA,QAAM6F,UAAWN,EAAQuC,UAAWuC,YAAU,GAC5CvK,EAAAC,EAAAC,cAACsK,EAAA,SAAD,KACExK,EAAAC,EAAAC,cAAA,OAAK6F,UAAU,UACb/F,EAAAC,EAAAC,cAACuK,EAAA,EAAD,CACEzD,MAAO5J,EACPgL,SAAU3I,KAAKmK,mBACfc,GAAG,OACH/J,MAAM,OACNsJ,OAAO,wBAGXjK,EAAAC,EAAAC,cAAA,OAAK6F,UAAU,UACb/F,EAAAC,EAAAC,cAACuK,EAAA,EAAD,CACEzD,MAAO3J,EACP+K,SAAU3I,KAAKqK,iBACfY,GAAG,KACH/J,MAAM,KACNsJ,OAAO,yBA2BbjK,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyK,GAAA1K,EAAD,CAAQ6E,MAAM,YAAY4D,QAAS,kBAAM2B,EAAKhL,MAAMuL,OAAOP,EAAKxL,MAAMzB,OAAQiN,EAAKxL,MAAMxB,OAAOwN,QAAQ,YAAY9E,UAAWN,EAAQqF,QAAvI,eA7GgBzB,IAAMhI,WA8HjBmF,wBA1KA,SAAAC,GAAK,MAAK,CACvBuB,UAAW,CACT9F,QAAS,OAETF,QAASyE,EAAMsE,QAAQC,KACvBC,aAAc,EAEd7K,MAAO,QAQT0K,OAAQ,CACNI,OAAQzE,EAAMsE,QAAQC,MAExBG,SAAU,CACRC,YAAa3E,EAAMsE,QAAQC,MAE7BK,UAAW,CACTpJ,WAAYwE,EAAMsE,QAAQC,MAE5BM,UAAW,CACTnG,SAAU,IAEZxE,MAAO,CACLqB,QAAS,EACTiJ,aAAcxE,EAAMsE,QAAQC,MAE9BO,SAAU,CAORtJ,WAAYwE,EAAMsE,QAAQC,KAC1BI,YAAa3E,EAAMsE,QAAQC,KAC3B5K,MAAO,OAkIIoG,CAAmBmD,IC1K5B6B,iRAuBF,OACE/L,KAAKJ,MAAMoM,gBAxBWpK,aAsCbC,qBATS,SAACzC,GAAD,OAAWA,GAER,SAACvB,EAAU+B,GACpC,MAAO,CACLqM,QAASC,6BAAmBC,EAAgBtO,KAKjCgE,CAA6CkK,kXCiDtDK,8MACJhN,MAAQ,CACNiN,SAAU,KACVC,mBAAoB,KACpB/B,MAAM,KAGRgC,sBAAwB,SAAA5I,GACtB9D,EAAKS,SAAS,CAAE+L,SAAU1I,EAAM6I,mBAGlCC,gBAAkB,WAChB5M,EAAKS,SAAS,CAAE+L,SAAU,OAC1BxM,EAAK6M,2BAGPC,qBAAuB,SAAAhJ,GACrB9D,EAAKS,SAAS,CAAEgM,mBAAoB3I,EAAM6I,mBAG5CE,sBAAwB,WACtB7M,EAAKS,SAAS,CAAEgM,mBAAoB,UAGtCM,aAAe,kBAAM,WACnB/M,EAAKS,SAAS,CACZiK,MAAO1K,EAAKT,MAAMmL,iFAKb,IAAAM,EACkC7K,KAAKZ,MAAtCiN,EADDxB,EACCwB,SAAUC,EADXzB,EACWyB,mBACVtG,EAAYhG,KAAKJ,MAAjBoG,QACF6G,EAAaC,QAAQT,GACrBU,EAAmBD,QAAQR,GAE3BU,EACJzM,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQiH,MACtB1M,EAAAC,EAAAC,cAACyM,GAAA1M,EAAD,KACG,CAAC,YAAa,UAAW,cAAe,WAAW6D,IAAI,SAAC8I,EAAMtH,GAAP,OACtDtF,EAAAC,EAAAC,cAAC2M,GAAA5M,EAAD,CAAU6K,QAAM,EAAC1E,IAAKwG,GACpB5M,EAAAC,EAAAC,cAAC4M,GAAA7M,EAAD,KAAeqF,EAAQ,IAAM,EAAItF,EAAAC,EAAAC,cAAC6M,GAAA9M,EAAD,MAAgBD,EAAAC,EAAAC,cAAC8M,GAAA/M,EAAD,OACjDD,EAAAC,EAAAC,cAAC+M,GAAAhN,EAAD,CAAciN,QAASN,QAI7B5M,EAAAC,EAAAC,cAACiN,GAAAlN,EAAD,MACAD,EAAAC,EAAAC,cAACyM,GAAA1M,EAAD,KACG,CAAC,UAAa,YAAY6D,IAAI,SAAC8I,EAAMtH,GAAP,OAC7BtF,EAAAC,EAAAC,cAAC2M,GAAA5M,EAAD,CAAU6K,QAAM,EAAC1E,IAAKwG,GACpB5M,EAAAC,EAAAC,cAAC4M,GAAA7M,EAAD,KAAeqF,EAAQ,IAAM,EAAItF,EAAAC,EAAAC,cAAC6M,GAAA9M,EAAD,MAAgBD,EAAAC,EAAAC,cAAC8M,GAAA/M,EAAD,OACjDD,EAAAC,EAAAC,cAAC+M,GAAAhN,EAAD,CAAciN,QAASN,SAO3BQ,EACJpN,EAAAC,EAAAC,cAACmN,GAAApN,EAAD,CACE6L,SAAUA,EACVwB,aAAc,CAAErM,SAAU,MAAOsM,WAAY,SAC7CC,gBAAiB,CAAEvM,SAAU,MAAOsM,WAAY,SAChDvD,KAAMsC,EACNmB,QAAShO,KAAKyM,iBAEdlM,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CAAUyI,QAASjJ,KAAKyM,iBAAxB,WACAlM,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CAAUyI,QAASjJ,KAAKyM,iBAAxB,eAIEyB,EACJ3N,EAAAC,EAAAC,cAACmN,GAAApN,EAAD,CACE6L,SAAUC,EACVuB,aAAc,CAAErM,SAAU,MAAOsM,WAAY,SAC7CC,gBAAiB,CAAEvM,SAAU,MAAOsM,WAAY,SAChDvD,KAAMwC,EACNiB,QAAShO,KAAK0M,uBAEdnM,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,KACED,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAY6E,MAAM,WAChB9E,EAAAC,EAAAC,cAAC0N,GAAA3N,EAAD,CAAO4N,aAAc,EAAG/I,MAAM,aAC5B9E,EAAAC,EAAAC,cAAC8M,GAAA/M,EAAD,QAGJD,EAAAC,EAAAC,cAAA,sBAEFF,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,KACED,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAY6E,MAAM,WAChB9E,EAAAC,EAAAC,cAAC0N,GAAA3N,EAAD,CAAO4N,aAAc,GAAI/I,MAAM,aAC7B9E,EAAAC,EAAAC,cAAC4N,GAAA7N,EAAD,QAGJD,EAAAC,EAAAC,cAAA,2BAEFF,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CAAUyI,QAASjJ,KAAKuM,uBACtBhM,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAY6E,MAAM,WAChB9E,EAAAC,EAAAC,cAAC6N,GAAA9N,EAAD,OAEFD,EAAAC,EAAAC,cAAA,sBAMN,OACEF,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQiB,MACtB1G,EAAAC,EAAAC,cAAC8N,GAAA/N,EAAD,CAAQoC,SAAS,UACfrC,EAAAC,EAAAC,cAAC+N,GAAAhO,EAAD,KACED,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAYyI,QAASjJ,KAAK4M,aAAa,QAAQ,GAAOtG,UAAWN,EAAQyI,WAAYpJ,MAAM,UAAU2D,aAAW,eAC9GzI,EAAAC,EAAAC,cAACiO,GAAAlO,EAAD,OAEFD,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY8F,UAAWN,EAAQ4I,MAAOxD,QAAQ,KAAK/F,MAAM,UAAUwJ,QAAM,GAAzE,oBAIAtO,EAAAC,EAAAC,cAACqO,GAAAtO,EAAD,CAAQ+J,KAAMvK,KAAKZ,MAAMmL,KAAMyD,QAAShO,KAAK4M,aAAa,QAAQ,IAChErM,EAAAC,EAAAC,cAAA,OACEsO,SAAU,EACVC,KAAK,SACL/F,QAASjJ,KAAK4M,aAAa,QAAQ,GACnCqC,UAAWjP,KAAK4M,aAAa,QAAQ,IAEvCrM,EAAAC,EAAAC,cAAC8N,GAAA/N,EAAD,CAAQoC,SAAS,UACfrC,EAAAC,EAAAC,cAAC+N,GAAAhO,EAAD,KACED,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY8F,UAAWN,EAAQ4I,MAAOxD,QAAQ,KAAK/F,MAAM,UAAUwJ,QAAM,GAAzE,sBAKD7B,IAeLzM,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQkJ,OACxB3O,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQmJ,gBAWpB5O,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAY6E,MAAM,WACtB9E,EAAAC,EAAAC,cAAC0N,GAAA3N,EAAD,CAAO4N,aAAc,GAAI/I,MAAM,aAC7B9E,EAAAC,EAAAC,cAAC4N,GAAA7N,EAAD,QAGAD,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CACE4O,YAAWvC,EAAa,uBAAoBtN,EAC5C8P,gBAAc,OACdpG,QAASjJ,KAAKuM,sBACdlH,MAAM,WAEN9E,EAAAC,EAAAC,cAAC6N,GAAA9N,EAAD,QAGJD,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQsJ,eACtB/O,EAAAC,EAAAC,cAACsI,GAAAvI,EAAD,CAAY6O,gBAAc,OAAOpG,QAASjJ,KAAK2M,qBAAsBtH,MAAM,WACzE9E,EAAAC,EAAAC,cAAC8O,GAAA/O,EAAD,UAKPmN,EACAO,UApLYtE,IAAMhI,WA8LZmF,wBApQA,SAAAC,GAAK,MAAK,CACvBC,KAAM,CACJtG,MAAO,QAETuO,KAAM,CACJhI,SAAU,GAEZuH,WAAY,CACVjM,YAAa,GACbmJ,YAAa,IAEfiD,MAAM9O,OAAAmG,EAAA,EAAAnG,CAAA,CACJ2C,QAAS,QACRuE,EAAMwI,YAAYC,GAAG,MAAQ,CAC5BhN,QAAS,UAGbiN,OAAO5P,OAAAmG,EAAA,EAAAnG,CAAA,CACL8C,SAAU,WACVT,aAAc6E,EAAM2I,MAAMxN,aAC1BsD,gBAAiBmK,gBAAK5I,EAAM6I,QAAQC,OAAOC,MAAO,KAClDC,UAAW,CACTvK,gBAAiBmK,gBAAK5I,EAAM6I,QAAQC,OAAOC,MAAO,MAEpDpE,YAAkC,EAArB3E,EAAMsE,QAAQC,KAC3B/I,WAAY,EACZ7B,MAAO,QACNqG,EAAMwI,YAAYC,GAAG,MAAQ,CAC5BjN,WAAiC,EAArBwE,EAAMsE,QAAQC,KAC1B5K,MAAO,SAGXsP,WAAY,CACVtP,MAA4B,EAArBqG,EAAMsE,QAAQC,KACrB3K,OAAQ,OACRgC,SAAU,WACVsN,cAAe,OACfzN,QAAS,OACTC,WAAY,SACZC,eAAgB,UAElBwN,UAAW,CACT9K,MAAO,UACP1E,MAAO,QAETyP,WAAWtQ,OAAAmG,EAAA,EAAAnG,CAAA,CACTuQ,WAAYrJ,EAAMsE,QAAQC,KAC1B+E,aAActJ,EAAMsE,QAAQC,KAC5BgF,cAAevJ,EAAMsE,QAAQC,KAC7BiF,YAAkC,GAArBxJ,EAAMsE,QAAQC,KAC3BkF,WAAYzJ,EAAM0J,YAAYC,OAAO,SACrChQ,MAAO,QACNqG,EAAMwI,YAAYC,GAAG,MAAQ,CAC5B9O,MAAO,MAGXwO,eAAerP,OAAAmG,EAAA,EAAAnG,CAAA,CACb2C,QAAS,QACRuE,EAAMwI,YAAYC,GAAG,MAAQ,CAC5BhN,QAAS,SAGb6M,cAAcxP,OAAAmG,EAAA,EAAAnG,CAAA,CACZ2C,QAAS,QACRuE,EAAMwI,YAAYC,GAAG,MAAQ,CAC5BhN,QAAS,WAmMAsE,CAAmBqF,ICtL5BwE,eAEJ,SAAAA,EAAYhR,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4Q,IACjB/Q,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8Q,GAAAzQ,KAAAH,KAAMJ,KAyBRiR,iBAAmB,WACjBhR,EAAKS,SAAS,CAAEiK,MAAM,KA3BL1K,EA8BnBiR,kBAAoB,WAClBjR,EAAKS,SAAS,CAAEiK,MAAM,KA/BL1K,EAmCnBkR,aAAe,SAACpT,EAAQC,GAElBD,GAAUC,IACZY,QAAQC,IAAI,UAAYd,EAAS,IAAMC,GAEvCD,EAASkC,EAAKmR,iBAAiBrT,GAC/BC,EAAOiC,EAAKmR,iBAAiBpT,GAE7BY,QAAQC,IAAI,UAAYd,EAAS,IAAMC,GAMnCD,EAAOsT,QAAUrT,EAAKqT,SACxBpR,EAAKD,MAAMqM,QAAQvO,cAAcC,EAAOsT,OAAQrT,EAAKqT,QACrDpR,EAAKqR,cACLrR,EAAKsR,iBApDQtR,EA0EnBqR,YAAc,WACZrR,EAAKS,SAAS,CACZ3C,OAAQ,GACRC,KAAM,MA7ESiC,EAgFnBuR,oBAAsB,WACpB5S,QAAQC,IAAI,KAAMoB,EAAKT,MAAMiS,UAC7BxR,EAAKS,SAAS,CAAE+Q,UAAU,KAlFTxR,EAqFnByR,iBAAmB,SAAClR,GAClB5B,QAAQC,IAAR,OAAAT,OAAmBoC,IACnBP,EAAKsR,cACLtR,EAAK0R,UAAUnR,IAxFEP,EA2FnB2R,yBAA2B,SAACtJ,GAC1B1J,QAAQC,IAAI,QAASyJ,GACrBrI,EAAKsR,cACL,IAAIM,EAAM5R,EAAKT,MAAM+G,OACjBuL,EAAM7R,EAAKD,MAAMb,SAASO,OAE9B,OADAd,QAAQC,IAAR,eAAAT,OAA2ByT,EAA3B,YAAAzT,OAAyC0T,EAAM,IACvCxJ,GACN,KAAK,EACHuJ,EAAM,EACN,MACF,KAAM,EACJA,EAAQA,EAAM,EAAK,EAAKA,EAAM,EAAI,EAClC,MACF,KAAM,EACJ5R,EAAKsR,cACL,MACF,KAAK,EACHtR,EAAK8R,QAAQF,GACb,MACF,KAAK,EACHA,EAAQA,EAAM,EAAKC,EAAOD,EAAM,EAAIC,EAAM,EAC1C,MACF,KAAK,EACHD,EAAMC,EAAM,EAGhBlT,QAAQC,IAAR,QAAAT,OAAoByT,IACpB5R,EAAK0R,UAAUE,IApHf5R,EAAKT,MAAQ,CACXmL,MAAM,EACN8G,UAAU,EACV1T,QAAQ,IAAI8M,MAAOmH,cACnBhU,MAAM,IAAI6M,MAAOmH,cACjBzL,OAAQ,EACR0L,QAAS,EACTC,UAAU,GATKjS,mFAejBG,KAAKM,SAAS,CAAEwR,UAAU,sDAGFzR,GAIxB7B,QAAQC,IAAI,0BACZuB,KAAKM,SAAS,CAAE6F,OAAQ,gCAkCtB4L,GACF,OAAIA,EAAS,GACJ,IAAMA,EAERA,2CAGQC,GAEf,OADAA,EAAQ,IAAIvH,KAAKuH,IACJC,iBACX,IAAMjS,KAAKkS,IAAIF,EAAMG,cAAgB,GACrC,IAAMnS,KAAKkS,IAAIF,EAAMI,cACrB,IAAMpS,KAAKkS,IAAIF,EAAMK,YACrB,IAAMrS,KAAKkS,IAAIF,EAAMM,cACrB,IAAMtS,KAAKkS,IAAIF,EAAMO,8CAsDjBhL,GAAO,IAAAqD,EAAA5K,KACb,GAAIA,KAAKZ,MAAM0S,UAAavK,GAAS,EAAI,CACvC,IAAImK,EAAM1R,KAAKJ,MAAMb,SAASO,OAC9BU,KAAKwS,QAAUC,YAAY,WACzB,IAAIvK,EAAQX,EAAQmK,EAAM,EAAKnK,GAAgBmK,EAAMnK,IACrDqD,EAAK2G,UAAUrJ,IACd,4CAMDlI,KAAKwS,SACPE,cAAc1S,KAAKwS,2CAGbjL,GACR/I,QAAQC,IAAI,YAAa8I,GACzBvH,KAAKM,SAAS,iBAAO,CACnB6F,OAAQoB,sCAKH,IAIHoL,EAHI3M,EAAYhG,KAAKJ,MAAjBoG,QACAjH,EAAaiB,KAAKJ,MAAlBb,SAFD8L,EAGsB7K,KAAKZ,MAA1BiS,EAHDxG,EAGCwG,SAAUlL,EAHX0E,EAGW1E,OAUlB,OARA3H,QAAQC,IAAI,aAAc0H,GACtBA,IAEAwM,EADsB,qBAAb5T,GAA4BA,EAASO,OAAS,EAClDP,EAASoH,GAAT,UACOA,GAKd5F,EAAAC,EAAAC,cAAA,OAAK6F,UAAWN,EAAQiB,MACtB1G,EAAAC,EAAAC,cAACmS,EAAApS,EAAD,MACAD,EAAAC,EAAAC,cAACoS,EAAArS,EAAD,CAAM+H,WAAS,EAACjC,UAAWN,EAAQiB,KACjCmC,UAAU,MAAM0J,QAAQ,SAASC,WAAW,WAC5CxS,EAAAC,EAAAC,cAACuS,GAAD,CAAe3B,SAAUA,GACvB9Q,EAAAC,EAAAC,cAACwS,GAAD,MACA1S,EAAAC,EAAAC,cAACoS,EAAArS,EAAD,CAAM0S,MAAI,EAACC,GAAI,EAAG7M,UAAWN,EAAQoN,MACnC7S,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY4K,QAAQ,KAAKiI,cAAY,GAArC,sBAGA9S,EAAAC,EAAAC,cAAC6S,GAAD,CAAShN,UAAWN,EAAQoN,KAAMhT,IAAK+F,IAEvC5F,EAAAC,EAAAC,cAACoS,EAAArS,EAAD,CAAM+H,WAAS,EAACuK,QAAQ,UACtBvS,EAAAC,EAAAC,cAAC8S,GAAD,CAAkBtL,IAAKlJ,EAASO,OAAS,EAAGiI,MAAOpB,EAAQuB,MAAO1H,KAAKsR,iBAAkBzJ,mBAAoB7H,KAAKwR,6BAItHjR,EAAAC,EAAAC,cAACoS,EAAArS,EAAD,CAAM+H,WAAS,EAACwK,WAAW,UAAUzM,UAAWN,EAAQoN,KAAMhK,UAAU,SAAS8J,MAAI,EAACC,GAAI,GACxF5S,EAAAC,EAAAC,cAAC+S,EAAAhT,EAAD,KACED,EAAAC,EAAAC,cAAC+S,EAAAhT,EAAD,KACED,EAAAC,EAAAC,cAACgT,GAAD,CAAatI,OAAQnL,KAAK+Q,aAAc2C,cAAe1T,KAAKoR,uBAE9D7Q,EAAAC,EAAAC,cAAC+S,EAAAhT,EAAD,CAAO8F,UAAWN,EAAQ2N,OACxBpT,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY4K,QAAQ,YAAYiI,cAAY,GAA5C,mBAGA9S,EAAAC,EAAAC,cAACmT,GAAD,CAAexT,IAAKuS,KAEtBpS,EAAAC,EAAAC,cAAC+S,EAAAhT,EAAD,CAAO8F,UAAWN,EAAQ2N,OACxBpT,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY4K,QAAQ,YAAYiI,cAAY,GAA5C,SAGA9S,EAAAC,EAAAC,cAACoT,GAAD,CAAYzT,IAAKuS,KAEnBpS,EAAAC,EAAAC,cAAC+S,EAAAhT,EAAD,CAAO8F,UAAWN,EAAQ2N,OACxBpT,EAAAC,EAAAC,cAACkO,EAAAnO,EAAD,CAAY4K,QAAQ,YAAYiI,cAAY,GAA5C,gBAGA9S,EAAAC,EAAAC,cAACoT,GAAD,CAAYzT,IAAKuS,iBA3MX/I,IAAMhI,WAyOfmF,wBA/SA,SAAAC,GAAK,MAAK,CACvBC,KAAM,CACJC,SAAU,EACVzE,QAAS,OAGT7B,OAAQ,QACRuG,SAAU,OACVxG,MAAO,QAETyS,KAAM,CAEJ7Q,QAASyE,EAAMsE,QAAQC,MAEzB3G,OAAQ,CACNkP,UAAW,UAEbC,KAAM,CAAED,UAAW,UACnBH,MAAO,CACLpR,QAA8B,EAArByE,EAAMsE,QAAQC,KACvB3K,OAAQ,MACRkT,UAAW,OACXzO,MAAO2B,EAAM6I,QAAQ1C,KAAK6G,UAC1BvI,OAAQ,cAEVwI,QAAS,CACP1R,QAA8B,EAArByE,EAAMsE,QAAQC,MAEzBnD,KAAM,CACJ8L,SAAU,GAEZC,OAAQ,CACN1R,QAAS,eACTgJ,OAAQ,QACR2I,UAAW,cAEbxF,MAAO,CACLlJ,SAAU,IAEZtF,IAAK,CACHoL,aAAc,IAEhB6I,QAAS,CACP/D,aAAc,IAEhBgE,YAAYxU,OAAAyU,EAAA,EAAAzU,CAAA,CACV2C,QAAS,OACTC,WAAY,SACZC,eAAgB,WAChBJ,QAAS,SACNyE,EAAMwN,OAAOH,SAGlBI,eAAgB,CACdjS,YAAa,IAEfkS,eAAgB,CACd/T,MAAO,OACPC,OAAQ,OAEV+T,GAAI,CACFnJ,aAAmC,EAArBxE,EAAMsE,QAAQC,MAE9BF,OAAOvL,OAAAmG,EAAA,EAAAnG,CAAA,CACL2L,OAAQzE,EAAMsE,QAAQC,MADlB,SAEI,gBA8OGxE,CAAmBlF,kBATV,SAACzC,GAAD,OAAWA,GACR,SAACvB,EAAU+B,GACpC,MAAO,CACLqM,QAASC,6BAAmBC,EAAgBtO,KAMdgE,CAA6C+O,0BCrUzE5J,GAAQ4N,yBAAe,CAC3B/E,QAAS,CACPpC,QAASoH,KACTb,UAAW,CACTc,KAAM,cAKNC,GAAQC,sBACZC,EACAC,0BAAgBC,MAGZC,GACJ7U,EAAAC,EAAAC,cAAC4U,EAAA,iBAAD,CAAkBrO,MAAOA,IACxBzG,EAAAC,EAAAC,cAACuK,EAAA,EAAD,CAAyBsK,MAAOC,KAEjChV,EAAAC,EAAAC,cAAC+U,EAAA,SAAD,CAAUT,MAAOA,IACfxU,EAAAC,EAAAC,cAACgV,GAAD,SAiBWC,oLANX,OACEN,UAHaxT,aCtCnB+T,IAASC,OAAOrV,EAAAC,EAAAC,cAACoV,GAAD,MAAUC,SAASC,cAAc","file":"static/js/main.a71bbff7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car-marker.c37c7a43.png\";","import axios from 'axios';\r\n// import authentication from './../setAuthToken';\r\n// import jwtdecode from 'jwt-decode';\r\n\r\nexport const UPDATE_VEHICLES = 'UPDATE_VEHICLES';\r\n// export const FETCH_VEHICLES = 'FETCH_VEHICLES';\r\nexport const RT_UPDATE_VEHICLES = 'RT_UPDATE_VEHICLES'; // RealTime\r\n// import { ADD_POST, DELETE_POST, FETCH_POST } from './types';\r\n\r\n// dtFrom='2018-11-10T04:01:43.000Z';\r\n//   dtTo='2018-11-11T12:02:43.000';\r\nconst apiUrl_local = 'http://localhost:5000/api/geo'; //geo.\r\nconst apiUrl = 'https://alpha.skylo.io/api/devices/history/ids/dd7295fa-6c65-484d-b38d-30df3bc31c0c';\r\nconst token =  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRqYXlAZm9yZC5jb20iLCJzeXN0ZW1Sb2xlIjoic3lzdGVtVXNlciIsImlhdCI6MTU0MTAwNzAzMiwiaXNzIjoiaHR0cDovL3dlYi1zZXJ2ZXJzLWRldi0xNDI1MzI1MDI4LnVzLXdlc3QtMi5lbGIuYW1hem9uYXdzLmNvbSIsInN1YiI6ImUyMmE2MjlkLWRlYTAtNDc0Yi04YzY5LTFlODQwYmZkMzRmYSIsImp0aSI6IjY0Nzk2YWIwLTlhYTItNGY3Ny04OTk4LWI1MzMzYzhlMmI5OCJ9.aIGEX_qigixaA17dcO0KNJay-R_704FDaugfkIAeVLA\" ;\r\nconst vehicleId = 'dd7295fa-6c65-484d-b38d-30df3bc31c0c';\r\nconst config = {\r\n  headers: {'Authorization': 'Bearer '+token}\r\n};\r\nexport const fetchVehicles = (dtFrom,dtTo) => { \r\n  // dtFrom='2018-11-10T04:01:43.000Z';\r\n  // dtTo='2018-11-11T12:02:43.000';\r\n  return (dispatch) => {\r\n    return axios.get(`${apiUrl}`,{\r\n      params: {\r\n        since: dtFrom,\r\n        until:dtTo\r\n      },\r\n      headers: {'Authorization': 'Bearer '+token} \r\n     } )\r\n      .then(response => {\r\n        console.log('-----------div id data',response.data[\"devices\"][vehicleId]);\r\n        dispatch(updateVehicles(response.data[\"devices\"][vehicleId]))\r\n      })\r\n      .catch(error => {\r\n        throw(error);\r\n      });\r\n  }; \r\n\r\n}\r\n// fetch local:\r\nexport const fetchVehicles1   = (dtFrom,dtTo) => { \r\n  // dtFrom='2018-11-10T04:01:43.000Z';\r\n  // dtTo='2018-11-11T12:02:43.000';\r\n  // dtFrom='2018-12-04T21:59:09.643Z';\r\n  // dtTo='2018-12-12T06:10:10.960Z';   \r\n  return (dispatch) => {\r\n    return axios.get(`${apiUrl_local}`,{\r\n      params: {\r\n        since: dtFrom,\r\n        until:dtTo\r\n      },\r\n        } )\r\n      .then(response => {\r\n        if (response.data)\r\n        console.log('-----------div id data',response.data[\"devices\"][vehicleId]);       \r\n        dispatch(updateVehicles(response.data[\"devices\"][vehicleId]))\r\n      })\r\n      .catch(error => {\r\n        // alert('Data not available. Pl. try different date range');\r\n        console.log(error);\r\n        throw(error);\r\n      });\r\n  }; \r\n\r\n}\r\n\r\nexport const updateVehicles =  (vehicles) => {\r\n  console.log(\"vehicles data\", vehicles);\r\n  return {\r\n    type: UPDATE_VEHICLES,\r\n    vehicles\r\n  }\r\n  // return {\r\n  //   type: ADD_POST,\r\n  //   payload: {\r\n  //     _id: data._id,\r\n  //     title: data.title,\r\n  //     body: data.body\r\n  //   }\r\n  // }\r\n};\r\n\r\n\r\n// RealTime\r\nexport const rtUpdateVehicles = (vehicles) => {\r\n  // console.log(\"vehicles data\", vehicles);\r\n  return {\r\n    type: RT_UPDATE_VEHICLES,\r\n    vehicles\r\n  }\r\n}\r\n\r\n// function fetchPosts(subreddit) {\r\n//   return dispatch => {\r\n//     dispatch(requestPosts(subreddit))\r\n//     return fetch(`https://www.reddit.com/r/${subreddit}.json`)\r\n//       .then(response => response.json())\r\n//       .then(json => dispatch(receivePosts(subreddit, json)))\r\n//   }\r\n// }\r\n\r\n\r\n\r\n// export const createPost = ({ title, body }) => {\r\n//   return (dispatch) => {\r\n//     return axios.post(`${apiUrl}/add`, {title, body})\r\n//       .then(response => {\r\n//         dispatch(createPostSuccess(response.data))\r\n//       })\r\n//       .catch(error => {\r\n//         throw(error);\r\n//       });\r\n//   };\r\n// };\r\n\r\n// export const createPostSuccess =  (data) => {\r\n//   return {\r\n//     type: ADD_POST,\r\n//     payload: {\r\n//       _id: data._id,\r\n//       title: data.title,\r\n//       body: data.body\r\n//     }\r\n//   }\r\n// };\r\n\r\n// export const deletePostSuccess = id => {\r\n//   return {\r\n//     type: DELETE_POST,\r\n//     payload: {\r\n//       id\r\n//     }\r\n//   }\r\n// }\r\n\r\n// export const deletePost = id => {\r\n//   return (dispatch) => {\r\n//     return axios.get(`${apiUrl}/delete/${id}`)\r\n//       .then(response => {\r\n//         dispatch(deletePostSuccess(response.data))\r\n//       })\r\n//       .catch(error => {\r\n//         throw(error);\r\n//       });\r\n//   };\r\n// };\r\n\r\n// export const fetchPost = (posts) => {\r\n//   return {\r\n//     type: FETCH_POST,\r\n//     posts\r\n//   }\r\n// };\r\n\r\n// export const fetchAllPosts = () => {\r\n//   return (dispatch) => {\r\n//     return axios.get(apiUrl)\r\n//       .then(response => {\r\n//         dispatch(fetchPosts(response.data))\r\n//       })\r\n//       .catch(error => {\r\n//         throw(error);\r\n//       });\r\n//   };\r\n// };","import { UPDATE_VEHICLES, RT_UPDATE_VEHICLES } from \"../actions/vehicles\";\r\nconst initialState = [];\r\n\r\nconst vehiclesReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_VEHICLES:\r\n      return action.vehicles;\r\n    case RT_UPDATE_VEHICLES:\r\n      return action.vehicles;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default vehiclesReducer;","import { combineReducers } from \"redux\";\r\n\r\nimport vehicles from \"./vehicles\";\r\n\r\nconst rootReducer = combineReducers({\r\n  vehicles\r\n})\r\n\r\nexport default rootReducer;","import React, { Component } from 'react';\r\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer';\r\nimport LineChart from 'recharts/lib/chart/LineChart';\r\nimport Line from 'recharts/lib/cartesian/Line';\r\nimport XAxis from 'recharts/lib/cartesian/XAxis';\r\nimport YAxis from 'recharts/lib/cartesian/YAxis';\r\nimport CartesianGrid from 'recharts/lib/cartesian/CartesianGrid';\r\nimport Tooltip from 'recharts/lib/component/Tooltip';\r\nimport Legend from 'recharts/lib/component/Legend';\r\nimport ReferenceLine from 'recharts/lib/cartesian/ReferenceLine';\r\n\r\n\r\nimport { connect } from \"react-redux\";\r\n// import { number } from 'prop-types';\r\n\r\n\r\n// import { scalePoint } from 'd3-scale';\r\n// const scale = scalePoint().base(Math.E);\r\n\r\nclass StrengthChart extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pos: 0.\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.pos !== this.props.pos) {\r\n      this.setState({ pos: nextProps.pos });\r\n    }\r\n\r\n  }\r\n\r\n  // let str =  props.pos;\r\n  render() {\r\n    // const {pos} = this.state.pos;\r\n\r\n    return (\r\n\r\n      // console.log('props.pos', this.props.pos);\r\n      // 99% per https://github.com/recharts/recharts/issues/172\r\n      <ResponsiveContainer width=\"99%\" height=\"80%\">\r\n\r\n        <LineChart data={this.props.vehicles} syncId=\"anyId\">\r\n          <ReferenceLine x={this.props.pos} stroke=\"red\" label=\"\" />\r\n          <XAxis dataKey=\"timestamp\"    tick={false} />\r\n          <YAxis />\r\n          <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\r\n          <Tooltip />\r\n          {/* <Legend  /> */}\r\n\r\n          <Line type=\"monotone\" dataKey=\"rssi\" stroke=\"#82ca9d\" />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    vehicles: state.vehicles\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(StrengthChart);\r\n","import React from 'react';\r\nimport ResponsiveContainer from 'recharts/lib/component/ResponsiveContainer';\r\nimport LineChart from 'recharts/lib/chart/LineChart';\r\nimport Line from 'recharts/lib/cartesian/Line';\r\nimport XAxis from 'recharts/lib/cartesian/XAxis';\r\nimport YAxis from 'recharts/lib/cartesian/YAxis';\r\nimport CartesianGrid from 'recharts/lib/cartesian/CartesianGrid';\r\nimport Tooltip from 'recharts/lib/component/Tooltip';\r\nimport Legend from 'recharts/lib/component/Legend';\r\nimport ReferenceLine from 'recharts/lib/cartesian/ReferenceLine';\r\n \r\nimport { connect } from \"react-redux\";\r\n \r\nfunction SpeedChart(props) {\r\n  let str =  props.pos;\r\n  return (\r\n    // 99% per https://github.com/recharts/recharts/issues/172\r\n    <ResponsiveContainer width=\"99%\" height=\"80%\">\r\n\r\n      <LineChart data={props.vehicles} syncId=\"anyId\">\r\n        <XAxis label=\"Time\" dataKey=\"timestamp\" tick={false} />\r\n        <YAxis />\r\n        <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\r\n        <Tooltip />\r\n        {/* <Legend  /> */}\r\n        <ReferenceLine  x={str} stroke=\"red\"  />\r\n        <Line type=\"monotone\" dataKey=\"speed\" stroke=\"#82ca9d\" />\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { \r\n    vehicles: state.vehicles\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SpeedChart);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport L from 'leaflet';\r\nimport { MapControl } from 'react-leaflet';\r\n\r\nexport default class LegendControl extends MapControl {\r\n\r\n  componentWillMount() {\r\n    const legend = L.control({position: 'bottomright'});\r\n    const jsx = (\r\n      <div {...this.props}>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n\r\n    legend.onAdd = function (map) {\r\n      let div = L.DomUtil.create('div', '');\r\n      ReactDOM.render(jsx, div);\r\n      return div;\r\n    };\r\n\r\n    this.leafletElement = legend;\r\n  }\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction SignalMeter (props) {\r\n  var containerStyle = {\r\n    width: 50,\r\n    height: 20,\r\n    padding: '5px',\r\n    marginLeft: '10px',\r\n    display: 'flex',\r\n    alignItems: 'flex-end',\r\n    justifyContent: 'space-between',\r\n    borderRadius: 2,\r\n    // background: '#eeeeee',\r\n  };\r\n\r\n  function barStyle(bar) {\r\n    return {\r\n      borderRadius: 2,\r\n      width: '20%',\r\n      height: `${25 * bar}%`,\r\n      background: props.strength >= 25 * (bar - 1) + 10 ? 'red' : 'lightgrey',\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={containerStyle}>\r\n      <div style={barStyle(1)} />\r\n      <div style={barStyle(2)} />\r\n      <div style={barStyle(3)} />\r\n      <div style={barStyle(4)} />\r\n    </div>\r\n  )\r\n}\r\n\r\nSignalMeter.propTypes = {\r\n  strength: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default SignalMeter","import React, { Component } from \"react\";\r\nimport classnames from \"classnames\";\r\nimport { connect } from \"react-redux\";\r\nimport { Map, CircleMarker, Polyline, Marker, TileLayer, Popup, ZoomControl } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport map from \"lodash/map\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport { divIcon, point } from \"leaflet\";\r\nimport AppCss from \"./containers/app.css\";\r\nimport LegendControl from \"./map_legend\";\r\nimport SignalMeter from \"./signalMeter\";\r\nimport { Portal } from \"react-leaflet-portal\";\r\n\r\n// const AnyReactComponent = ({ text }) => <div>{text}</div>;\r\n\r\n\r\nexport const carMarker = new L.Icon({\r\n  iconUrl: require('./assets/images/car-marker.png'),\r\n  iconRetinaUrl: require('./assets/images/car-marker.png'),\r\n  iconAnchor: [20, 40],\r\n  popupAnchor: [0, -35],\r\n  iconSize: [40, 40],\r\n  shadowUrl: './assets/images/marker-shadow.png',\r\n  shadowSize: [29, 40],\r\n  shadowAnchor: [7, 40],\r\n})\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    // padding: theme.spacing.unit * 1,\r\n    // padding: theme.spacing.unit * 3,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n    height: '100%',\r\n\r\n  },\r\n  circle: {\r\n    color: 'green',\r\n    backgroud: 'white',\r\n\r\n  },\r\n});\r\n\r\nlet position = [\r\n  37.774304,\r\n  -122.441951,\r\n];\r\nconst cover = { position: 'relative', width: '100%', height: '70%' };\r\n\r\nclass MapCard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // this.onWaypointsChange = this.onWaypointsChange.bind(this);\r\n\r\n    this.state = {\r\n      waypoints: [],\r\n      positions: [\r\n        [43.604403, 1.443373],\r\n        [43.613547, 1.308568]\r\n      ],\r\n      zoom: 16,\r\n    };\r\n  }\r\n  // static defaultProps = {\r\n  //   center: {\r\n  //     lat: 37.774304,\r\n  //     lng: -122.441951\r\n  //   },\r\n  //   zoom: 11,\r\n  // };\r\n\r\n  handleZoom = (event) => {\r\n    const { lat, lng } = event.target.getCenter();\r\n    this.setState({ lat, lng, zoom: event.target.getZoom() });\r\n    // alert(event.target.getZoom());\r\n  }\r\n\r\n  render() {\r\n    const { vehicles } = this.props;\r\n    const { zoom } = this.state;\r\n\r\n    let positions = vehicles.map(function (x) {\r\n      return [x['lat'], x['long']];\r\n    });\r\n    // console.log('positions', positions[0]);\r\n    // const bounds = L.latLngBounds(positions);\r\n    {/* <CircleMarker  style={{  backgroundColor:\"#fff\"}}   center={[vehicle.lat, vehicle.long]} radius={8} attribution={index}> <Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup>\r\n                </CircleMarker> */}\r\n    let curMark = null;\r\n    let curSpeed = 0;\r\n    let curSignal = \"\"\r\n    if (positions[this.props.pos]) {\r\n      position = positions[this.props.pos];\r\n\r\n      curSpeed = vehicles[this.props.pos][\"speed\"];\r\n      curSignal = vehicles[this.props.pos][\"rssi\"];\r\n      // curMark = <Marker position={positions[this.props.pos]}  icon={carMarker} ></Marker>\r\n      curMark = <Marker position={positions[this.props.pos]}   >\r\n        <Popup>speed:{curSpeed}<br /> Signal:{curSignal}</Popup>\r\n      </Marker>\r\n      // ts = new Date(  vehicles[this.props.pos][\"timestamp\"]);\r\n    }\r\n\r\n    //     var info = L.control();\r\n    // info.onAdd = function (Map) {\r\n    //     this._div = L.DomUtil.create('div', 'info'); // create a div with a class \"info\"\r\n    //     this.update();\r\n    //     return this._div;\r\n    // };\r\n\r\n    // // method that we will use to update the control based on feature properties passed\r\n    // info.update = function (props) {\r\n    //     this._div.innerHTML = '<h4>US Population Density</h4>' +  (props ?\r\n    //         '<b>' + props.name + '</b><br />' + props.density + ' people / mi<sup>2</sup>'\r\n    //         : 'Hover over a state');\r\n    // };\r\n\r\n    // info.addTo(Map);\r\n\r\n    return (\r\n\r\n      <div  >\r\n        <Map center={position} zoom={zoom} zoomControl={false} style={cover} attributionControl={false} onzoom={this.handleZoom}  >\r\n          <TileLayer\r\n            url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          />\r\n          <ZoomControl position=\"bottomright\" />\r\n          <Polyline\r\n            positions={positions}\r\n            color={'green'}\r\n            weight={10}\r\n            opacity={0.4}\r\n          />\r\n          {curMark}\r\n          <Portal style={{ borderRadius: 5, }} position=\"topright\">\r\n            <div style={{ backgroundColor: \"#000\", display: 'flex', width: \"150px\", fontSize: 14, color: \"#fff\", opacity: 0.7, padding: 6 }}>\r\n              <span  >{curSpeed} mph </span>       {/* <br /> */}\r\n              <SignalMeter strength={curSignal * 25} /> <span  >{curSignal} </span>\r\n              {/* <button onClick={this.handlePortalClick}>Click me!</button> */}\r\n            </div>\r\n          </Portal>\r\n          {\r\n            map(vehicles, (vehicle, index) => {\r\n              const { timestamp, type } = vehicle;\r\n              let classes = {\r\n                [AppCss.marker]: true,\r\n                [AppCss.bus]: true\r\n              }\r\n              // classes[AppCss.bus] = true;\r\n              // if (type == 'rail') {\r\n              //   classes[AppCss[`rail${timestamp}`]] = true;\r\n              // } else if (type == 'bus') {\r\n              //   classes[AppCss.bus] = true;\r\n              // }\r\n              const icon = divIcon({ className: classnames(classes), html: `<span>${index}</span>` });\r\n              //   const iconBtn=`<IconButton               \r\n\r\n              // > \r\n              //   <AccountCircle />${index}\r\n              // </IconButton>`\r\n              //   const icon = divIcon({ className: classnames(classes), html: {iconBtn} });\r\n              return (\r\n                // <Marker   key={index} position={[vehicle.lat, vehicle.long]} ><Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup> </Marker>\r\n                <CircleMarker style={{ color: \"red\" }} className={classes.circle} key={index} center={[vehicle.lat, vehicle.long]} radius={5} attribution={index}   >\r\n                  <Popup>speed:{vehicle.speed}<br />time:{vehicle.timestamp}</Popup>\r\n                </CircleMarker>\r\n              )\r\n            })\r\n          }\r\n\r\n        </Map>\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    vehicles: state.vehicles\r\n  }\r\n}\r\nexport default withStyles(styles)(connect(mapStateToProps)(MapCard));\r\n\r\n\r\n\r\n// --- With Google Maps \r\n// <div style={{ height: '100vh', width: '100%' }}>\r\n//           <GoogleMapReact\r\n//             bootstrapURLKeys={{ key: ' ' }}\r\n//             defaultCenter={position}\r\n//             defaultZoom={this.props.zoom}\r\n//           >\r\n//             <AnyReactComponent\r\n//               lat={59.955413}\r\n//               lng={30.337844}\r\n//               text={'Indo-mars.com/geotracker'}\r\n//             />\r\n//             {\r\n//               map(vehicles, (vehicle) => {\r\n//                 const { routeNumber, type } = vehicle;\r\n//                 let classes = {\r\n//                   [AppCss.marker]: true\r\n//                 }\r\n//                 if (type == 'rail') {\r\n//                   classes[AppCss[`rail${routeNumber}`]] = true;\r\n//                 } else if (type == 'bus') {\r\n//                   classes[AppCss.bus] = true;\r\n//                 }\r\n\r\n//                 const icon = divIcon({ className: classnames(classes), html: `<span>${routeNumber}</span>` });\r\n//                 return (\r\n//                   <Marker icon={icon} key={vehicle.vehicleID} position={[vehicle.latitude, vehicle.longitude]} />\r\n//                 )\r\n//               })\r\n//             }\r\n//           </GoogleMapReact>\r\n//         </div>","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\r\nimport FastForwardIcon from '@material-ui/icons/FastForward';\r\nimport FastRewindIcon from '@material-ui/icons/FastRewind';\r\n\r\nimport Slider from '@material-ui/lab/Slider';\r\n// import LensIcon from '@material-ui/icons/LensOutlined';\r\nimport PanoramaVertical from '@material-ui/icons/PanoramaVertical';\r\n\r\nconst styles = theme => ({\r\n  card: {\r\n    // display: 'flex',\r\n    width: \"100%\"\r\n  },\r\n  details: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    // width: \"100%\",\r\n  },\r\n  content: {\r\n    flex: '1 0 auto',\r\n  },\r\n  cover: {\r\n    width: '100%',\r\n  },\r\n  controls: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    // alignItems: 'center',\r\n    justifyContent: 'center',\r\n    // paddingLeft: theme.spacing.unit * 3 ,\r\n    // paddingBottom: theme.spacing.unit,\r\n  },\r\n  playIcon: {\r\n    height: 38,\r\n    width: 38,\r\n  },\r\n  slider: {\r\n    padding: '22px 0px',\r\n  },\r\n  thumbIcon: {\r\n    borderRadius: '50%',\r\n  },\r\n  thumbIconWrapper: {\r\n    backgroundColor: '#fff',\r\n  },\r\n});\r\n\r\nclass MediaControlCard extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: 0,\r\n      showPlay: true,\r\n    };\r\n    // this.handleChange = this.handleChange.bind(this);\r\n    // this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  \r\n   \r\n  componentWillReceiveProps(nextProps) {  \r\n    // if(nextProps.value == 0){\r\n    // this.setState({ showPlay: true });}\r\n  }\r\n\r\n  handleSlideChange = (event, value) => {\r\n    console.clear('media value:', value);\r\n    this.setState({ showPlay: true });\r\n    this.props.click(value);\r\n  };\r\n\r\n  handlePlaybuttons(btn) {\r\n    switch (btn) {\r\n      case 0:\r\n      case -1:\r\n      case 1:\r\n      case 9:\r\n        this.props.MediaControlChange(btn);\r\n        this.setState({ showPlay: true })\r\n        break;\r\n    }\r\n  }\r\n\r\n  handlePlayStop = () => {\r\n    let boo = false;\r\n    if (this.state.showPlay) {\r\n      boo = false;\r\n      this.props.MediaControlChange(5);\r\n    } else {\r\n      boo = true;\r\n      this.props.MediaControlChange(-5);\r\n    }\r\n    this.setState({ showPlay: boo })\r\n\r\n  }\r\n\r\n\r\n\r\n  // function MediaControlCard(props) {\r\n  render() {\r\n    const { classes, theme, max, value } = this.props;\r\n    this.step = 1;\r\n    // let isPlay = this.state.isPlay;\r\n\r\n    return (\r\n\r\n      <Card className={classes.card}>\r\n\r\n        <div className={classes.details}>\r\n          <Slider\r\n            classes={{ container: classes.slider }}\r\n            value={value}\r\n            min={0}\r\n            max={max}\r\n            step={this.step}\r\n            aria-labelledby=\"slider-image\"\r\n            onChange={this.handleSlideChange}\r\n            classes={{\r\n              container: classes.slider,\r\n              thumbIconWrapper: classes.thumbIconWrapper,\r\n            }}\r\n            thumb={<PanoramaVertical style={{ color: '#2196f3' }} />}\r\n          />\r\n        </div>\r\n        <div className={classes.controls}>\r\n          <IconButton aria-label=\"First\" onClick={this.handlePlaybuttons.bind(this, 0)}  >\r\n            {theme.direction === 'rtl' ? <SkipNextIcon /> : <SkipPreviousIcon />}\r\n          </IconButton>\r\n          <IconButton aria-label=\"Previous\" onClick={this.handlePlaybuttons.bind(this, -1)} >\r\n            {theme.direction === 'rtl' ? <FastForwardIcon /> : <FastRewindIcon />}\r\n          </IconButton>\r\n          {(this.state.showPlay) ? (\r\n            <IconButton aria-label=\"Play/pause\" onClick={this.handlePlayStop} >\r\n              <PlayArrowIcon className={classes.playIcon} />\r\n            </IconButton>\r\n          ) : (\r\n              <IconButton aria-label=\"stop\" onClick={this.handlePlayStop} >\r\n                < StopIcon className={classes.playIcon} />\r\n              </IconButton>\r\n            )}\r\n          <IconButton aria-label=\"Next\" onClick={this.handlePlaybuttons.bind(this, 1)} >\r\n            {theme.direction === 'rtl' ? <FastRewindIcon /> : <FastForwardIcon />}\r\n          </IconButton>\r\n          <IconButton aria-label=\"Last\" onClick={this.handlePlaybuttons.bind(this, 9)} >\r\n            {theme.direction === 'rtl' ? <SkipPreviousIcon /> : <SkipNextIcon />}\r\n          </IconButton>\r\n        </div>\r\n\r\n      </Card>\r\n    );\r\n  };\r\n}\r\n\r\nMediaControlCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(MediaControlCard);\r\n\r\n\r\n//  <Typography component=\"h5\" variant=\"h5\">\r\n//               Live From Vehicle\r\n//           </Typography>\r\n//             <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n\r\n//             </Typography>","import React, { Fragment, PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {format} from 'date-fns';\r\n// import {moment} from 'moment';\r\n\r\nimport { DateTimePicker, InlineDateTimePicker } from 'material-ui-pickers';\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    // flexWrap: 'wrap',\r\n    padding: theme.spacing.unit,\r\n    marginBottom: 1,\r\n    // justifyContent: 'center',\r\n    width: \"100%\"\r\n  },\r\n  // textField: {\r\n  //   marginLeft: theme.spacing.unit,\r\n  //   marginRight: theme.spacing.unit,\r\n  //   width: 220,\r\n  //   fontsize: 14,\r\n  // },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  leftIcon: {\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  rightIcon: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  iconSmall: {\r\n    fontSize: 20,\r\n  },\r\n  label: {\r\n    padding: 5,\r\n    marginBottom: theme.spacing.unit,\r\n  },\r\n  txtField: {\r\n    // padding: 5,\r\n    // fontSize: 14,\r\n    // // marginRight: theme.spacing.unit*2,\r\n    // margin: theme.spacing.unit,\r\n    // display: 'block',\r\n    // float: 'left',\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 200,\r\n  }\r\n});\r\n\r\nclass DatePickers extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      dtFrom:  format(new Date('2018-11-17T03:17-08:00'),\"MM/dd/yyyy hh:mm a\"),\r\n      dtTo: format(new Date('2018-11-17T03:45-08:00'),\"MM/dd/yyyy hh:mm a\"),\r\n      selectedDate: new Date('2018-01-01T00:00:00.000Z'),\r\n    };\r\n\r\n    this.handleChangedtFrom = this.handleChangedtFrom.bind(this);\r\n    this.handleChangedtTo = this.handleChangedtTo.bind(this);\r\n  }\r\n\r\n  handleChangedtFrom = date => {\r\n    this.setState({ dtFrom: date });\r\n  };\r\n\r\n  handleChangedtTo = date => {\r\n    this.setState({ dtTo: date });\r\n  }\r\n\r\n  // handleChangedtFrom = event => {\r\n  //   // event.preventDefault(); \r\n  //   this.setState({ dtFrom: event.target.value });\r\n  // };\r\n\r\n  // handleChangedtTo = event => {\r\n  //   this.setState({ dtTo: event.target.value });\r\n  // }\r\n\r\n  handleOpen = () => {\r\n    // (data) => this.props.actions.updateVehicles(data));\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  render() {\r\n    const { selectedDate, dtFrom, dtTo } = this.state;\r\n    const { classes } = this.props;\r\n    // let dt = new Date().toISOString();\r\n    function pad(number) {\r\n      if (number < 10) {\r\n        return '0' + number;\r\n      }\r\n      return number;\r\n    };\r\n\r\n\r\n    // let dtnow = new Date();\r\n    // let dt = dtnow.getUTCFullYear() +\r\n    //   '-' + pad(dtnow.getUTCMonth() + 1) +\r\n    //   '-' + pad(dtnow.getUTCDate()) +\r\n    //   'T' + pad(dtnow.getUTCHours()) +\r\n    //   ':' + pad(dtnow.getUTCMinutes()) +\r\n    //   ':' + pad(dtnow.getUTCSeconds());\r\n    // // '.' + (this.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) +\r\n    // // 'Z';\r\n\r\n    // // dt = dt.toISOString(); \r\n    // console.log('dt', dt);\r\n\r\n    return (\r\n      // <Fragment>\r\n      <form className={classes.container} noValidate>\r\n        <Fragment>\r\n          <div className=\"picker\">\r\n            <InlineDateTimePicker\r\n              value={dtFrom}\r\n              onChange={this.handleChangedtFrom}\r\n              id=\"from\"\r\n              label=\"From\"\r\n              format=\"MM/dd/yyyy hh:mm a\"\r\n            />\r\n          </div>\r\n          <div className=\"picker\">\r\n            <InlineDateTimePicker\r\n              value={dtTo}\r\n              onChange={this.handleChangedtTo}\r\n              id=\"to\"\r\n              label=\"To\"\r\n              format=\"MM/dd/yyyy hh:mm a\"\r\n            />\r\n          </div>\r\n        </Fragment>\r\n        {/* <TextField\r\n          id=\"from\"\r\n          label=\"From\"\r\n          type=\"datetime-local\"\r\n          defaultValue={dt}\r\n          className={classes.textField}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          onChange={this.handleChangedtFrom}\r\n        />\r\n        <TextField\r\n          id=\"to\"\r\n          label=\"To\"\r\n          type=\"datetime-local\"\r\n          defaultValue={dt}\r\n          className={classes.textField}\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          onChange={this.handleChangedtTo}\r\n        /> */}\r\n\r\n        <div>\r\n          <Button color=\"secondary\" onClick={() => this.props.submit(this.state.dtFrom, this.state.dtTo)} variant=\"contained\" className={classes.button}>\r\n            Go\r\n      </Button>\r\n          {/* <Button color=\"secondary\" onClick={this.props.realtimeclick} variant=\"contained\" className={classes.button}>\r\n                  RealTime\r\n      </Button> */}\r\n        </div>\r\n      </form>\r\n      // </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nDatePickers.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(DatePickers);","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as vehicleActions from \"../actions/vehicles\";\r\n\r\n\r\n// if (window.navigator && Object.keys(window.navigator).length == 0 && !window.document) {\r\n//   window = Object.assign(window, { navigator: { userAgent: 'ReactNative' } });\r\n// }\r\n\r\n// var io = require(\"socket.io-client/dist/socket.io\");\r\n// const apiUrl = 'http://localhost:5000/';\r\n\r\nclass VehicleSocket extends Component {\r\n\r\n  componentDidMount() {\r\n\r\n  //   this.socket = io('http://localhost:5000/', {\r\n  //     transports: ['websocket']\r\n  //   });\r\n  // // this.socket =io.connect('http://localhost:5000/' );\r\n  //   this.socket.on('vehicles_update', (data) => {\r\n  //     console.log( \"...vehicles_update\" );\r\n  //     if (this.props.realtime) {\r\n  //       console.log(this.props.realtime +\"...\"+ data);\r\n  //       this.props.actions.rtUpdateVehicles(data)\r\n  //     }\r\n  //   });\r\n\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //disconnect scoket\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.props.children\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => state;\r\n\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n  return {\r\n    actions: bindActionCreators(vehicleActions, dispatch)\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(VehicleSocket)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\n\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing.unit * 2,\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing.unit * 3,\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing.unit * 9,\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingRight: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit,\r\n    paddingLeft: theme.spacing.unit * 10,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n});\r\n\r\nclass TopBar extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    mobileMoreAnchorEl: null,\r\n    open: false,\r\n  };\r\n\r\n  handleProfileMenuOpen = event => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleMenuClose = () => {\r\n    this.setState({ anchorEl: null });\r\n    this.handleMobileMenuClose();\r\n  };\r\n\r\n  handleMobileMenuOpen = event => {\r\n    this.setState({ mobileMoreAnchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleMobileMenuClose = () => {\r\n    this.setState({ mobileMoreAnchorEl: null });\r\n  };\r\n\r\n  toggleDrawer = () => () => {\r\n    this.setState({\r\n      open: !this.state.open,\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n    const { anchorEl, mobileMoreAnchorEl } = this.state;\r\n    const { classes } = this.props;\r\n    const isMenuOpen = Boolean(anchorEl);\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n    const sideList = (\r\n      <div className={classes.list}>\r\n        <List>\r\n          {['Bookmarks', 'Filters', 'DataSources', 'Reports'].map((text, index) => (\r\n            <ListItem button key={text}>\r\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {['History',   'Settings'].map((text, index) => (\r\n            <ListItem button key={text}>\r\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    );\r\n\r\n    const renderMenu = (\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMenuOpen}\r\n        onClose={this.handleMenuClose}\r\n      >\r\n        <MenuItem onClick={this.handleMenuClose}>Profile</MenuItem>\r\n        <MenuItem onClick={this.handleMenuClose}>My account</MenuItem>\r\n      </Menu>\r\n    );\r\n\r\n    const renderMobileMenu = (\r\n      <Menu\r\n        anchorEl={mobileMoreAnchorEl}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        open={isMobileMenuOpen}\r\n        onClose={this.handleMobileMenuClose}\r\n      >\r\n        <MenuItem>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <MailIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Messages</p>\r\n        </MenuItem>\r\n        <MenuItem>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={11} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <p>Notifications</p>\r\n        </MenuItem>\r\n        <MenuItem onClick={this.handleProfileMenuOpen}>\r\n          <IconButton color=\"inherit\">\r\n            <AccountCircle />\r\n          </IconButton>\r\n          <p>Profile</p>\r\n        </MenuItem>\r\n      </Menu>\r\n    );\r\n\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\">\r\n          <Toolbar>\r\n            <IconButton onClick={this.toggleDrawer('left', true)} className={classes.menuButton} color=\"inherit\" aria-label=\"Open drawer\">\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography className={classes.title} variant=\"h6\" color=\"inherit\" noWrap>\r\n              Mars Geo Tracker\r\n            </Typography>\r\n\r\n            <Drawer open={this.state.open} onClose={this.toggleDrawer('left', false)}>\r\n              <div\r\n                tabIndex={0}\r\n                role=\"button\"\r\n                onClick={this.toggleDrawer('left', true)}\r\n                onKeyDown={this.toggleDrawer('left', false)}\r\n              > \r\n              <AppBar position=\"static\">\r\n                <Toolbar>\r\n                  <Typography className={classes.title} variant=\"h6\" color=\"inherit\" noWrap>\r\n                    Mars Geo Tracker\r\n            </Typography>\r\n                </Toolbar>\r\n                </AppBar>\r\n                {sideList}\r\n              </div>\r\n            </Drawer>\r\n            {/* <div className={classes.search}>\r\n              <div className={classes.searchIcon}>\r\n                <SearchIcon />\r\n              </div>\r\n              <InputBase\r\n                placeholder=\"Search…\"\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n              />\r\n            </div> */}\r\n            <div className={classes.grow} />\r\n            <div className={classes.sectionDesktop}>\r\n              {/* <IconButton color=\"inherit\">\r\n                <Badge badgeContent={4} color=\"secondary\">\r\n                  <MailIcon />\r\n                </Badge>\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <Badge badgeContent={17} color=\"secondary\">\r\n                  <NotificationsIcon />\r\n                </Badge>\r\n              </IconButton> */}\r\n                <IconButton color=\"inherit\">\r\n            <Badge badgeContent={11} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n              <IconButton\r\n                aria-owns={isMenuOpen ? 'material-appbar' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={this.handleProfileMenuOpen}\r\n                color=\"inherit\"\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n            </div>\r\n            <div className={classes.sectionMobile}>\r\n              <IconButton aria-haspopup=\"true\" onClick={this.handleMobileMenuOpen} color=\"inherit\">\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n        {renderMenu}\r\n        {renderMobileMenu}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTopBar.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(TopBar);\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n// import Drawer from '@material-ui/core/Drawer';\r\n// import AppBar from '@material-ui/core/AppBar';\r\n// import Toolbar from '@material-ui/core/Toolbar';\r\n// import List from '@material-ui/core/List';\r\n\r\n// import Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\n// import Divider from '@material-ui/core/Divider';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import Badge from '@material-ui/core/Badge';\r\n// import MenuIcon from '@material-ui/icons/Menu';\r\n// import ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n// import NotificationsIcon from '@material-ui/icons/Notifications';\r\n// import { mainListItems, secondaryListItems } from './listItems';\r\nimport StrengthChart from './strengthchart';\r\nimport SpeedChart from './speedchart';\r\nimport MapCard from './map';\r\nimport MediaControlCard from './mediaControl';\r\nimport DatePickers from './datepickers';\r\nimport VehicleSocket from './containers/VehicleSocket';\r\nimport TopBar from './appBar';\r\nimport { connect } from 'react-redux'\r\nimport * as vehicleActions from \"./actions/vehicles\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    // padding: theme.spacing.unit * 1,\r\n    // padding: theme.spacing.unit * 3,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n    width: '100%',\r\n  },\r\n  demo: {\r\n    // height: '100%',\r\n    padding: theme.spacing.unit,\r\n  },\r\n  center: {\r\n    textAlign: 'center',\r\n  },\r\n  left: { textAlign: 'center', },\r\n  paper: {\r\n    padding: theme.spacing.unit * 2,\r\n    height: '27%',\r\n    textAlign: 'left',\r\n    color: theme.palette.text.secondary,\r\n    margin: '0 2px 2px ',\r\n  },\r\n  control: {\r\n    padding: theme.spacing.unit * 2,\r\n  },\r\n  card: {\r\n    minWidth: 2,\r\n  },\r\n  bullet: {\r\n    display: 'inline-block',\r\n    margin: '0 2px',\r\n    transform: 'scale(0.8)',\r\n  },\r\n  title: {\r\n    fontSize: 12,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n\r\n  chartContainer: {\r\n    marginLeft: -22,\r\n  },\r\n  tableContainer: {\r\n    width: '100%',\r\n    height: '70%',\r\n  },\r\n  h5: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    margin: '0 0 0 12px',\r\n  },\r\n});\r\n\r\n\r\nclass Dashboard extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      realtime: false,\r\n      dtFrom: new Date().toISOString(),\r\n      dtTo: new Date().toISOString(),\r\n      marker: 0,\r\n      vLength: 0,\r\n      didMount: false,\r\n    };\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ didMount: true });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    // if(nextProps.value !== this.props.value) {\r\n    //   this.setState({value: nextProps.value});\r\n    // }\r\n    console.log('compwill-receive props');\r\n    this.setState({ marker: 0 });\r\n  }\r\n\r\n  handleDrawerOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleDrawerClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n\r\n  handleSubmit = (dtFrom, dtTo) => {\r\n    // console.log('from-to' + dtFrom.toTimeString() + '-' + dtTo);\r\n    if (dtFrom && dtTo) {\r\n      console.log('from-to' + dtFrom + '-' + dtTo);\r\n      // alert('dtFrom - dtTo' +  dtFrom + '-' + dtTo);\r\n      dtFrom = this.getISODateString(dtFrom);\r\n      dtTo = this.getISODateString(dtTo);\r\n      \r\n      console.log('from-to' + dtFrom + '-' + dtTo);\r\n      // this.setState({ realtime: false });\r\n      // var oneWeekAgo = new Date();\r\n      // oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);\r\n      // dtFrom=new Date().getTime().toString();\r\n      // dtTo = \"1543788771484\";\r\n      if (dtFrom.trim() && dtTo.trim()) {\r\n        this.props.actions.fetchVehicles(dtFrom.trim(), dtTo.trim());\r\n        this.handleReset();\r\n        this.stopPlayMap();\r\n      }\r\n    }\r\n  }\r\n\r\n  pad(number) {\r\n    if (number < 10) {\r\n      return '0' + number;\r\n    }\r\n    return number;\r\n  };\r\n\r\n  getISODateString(dtnow) {\r\n    dtnow = new Date(dtnow);\r\n    return dtnow.getUTCFullYear() +\r\n      '-' + this.pad(dtnow.getUTCMonth() + 1) +\r\n      '-' + this.pad(dtnow.getUTCDate()) +\r\n      'T' + this.pad(dtnow.getHours()) +\r\n      ':' + this.pad(dtnow.getMinutes()) +\r\n      ':' + this.pad(dtnow.getSeconds()) ;\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      dtFrom: '',\r\n      dtTo: ''\r\n    });\r\n  };\r\n  handleRealTimeClick = () => {\r\n    console.log('RT', this.state.realtime)\r\n    this.setState({ realtime: true });\r\n  };\r\n\r\n  handleSlideClick = (pos) => {\r\n    console.log(`pos ${pos}`);\r\n    this.stopPlayMap();\r\n    this.setMarker(pos);\r\n  }\r\n\r\n  handleMediaControlChange = (step) => {\r\n    console.log('media', step);\r\n    this.stopPlayMap();\r\n    let num = this.state.marker;\r\n    let len = this.props.vehicles.length;\r\n    console.log(`mediamarker ${num} , len= ${len - 1}`);\r\n    switch (step) {\r\n      case 0:\r\n        num = 0;\r\n        break;\r\n      case -1:\r\n        num = ((num - 1) > 0) ? num - 1 : 0;\r\n        break;\r\n      case -5:\r\n        this.stopPlayMap();\r\n        break;\r\n      case 5:\r\n        this.playMap(num);\r\n        break;\r\n      case 1:\r\n        num = ((num + 1) < len) ? num + 1 : len - 1;\r\n        break;\r\n      case 9:\r\n        num = len - 1;\r\n        break;\r\n    }\r\n    console.log(`num  ${num}`);\r\n    this.setMarker(num);\r\n    // this.setState({ value: num });\r\n    // this.props.click(this.state.value);\r\n  };\r\n\r\n  //  setLoop = setInterval(playMap, 1000);\r\n\r\n  playMap(value) {\r\n    if (this.state.didMount && (value >= 0)) {\r\n      let len = this.props.vehicles.length;\r\n      this.setLoop = setInterval(() => {\r\n        let step = (value > len - 1) ? value = value - len : value++;\r\n        this.setMarker(step);\r\n      }, 1000);\r\n\r\n    }\r\n  }\r\n\r\n  stopPlayMap() {\r\n    if (this.setLoop)\r\n      clearInterval(this.setLoop);\r\n  }\r\n\r\n  setMarker(value) {\r\n    console.log('setMarker', value);\r\n    this.setState(() => ({\r\n      marker: value\r\n    }));\r\n  }\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { vehicles } = this.props;\r\n    const { realtime, marker } = this.state;\r\n    let ts;\r\n    console.log('marker....', marker);\r\n    if (marker) {\r\n      if (typeof vehicles !== 'undefined' && vehicles.length > 0) {\r\n        ts = vehicles[marker][\"timestamp\"];\r\n      } else { ts = marker; }\r\n    } else {\r\n      // alert ('marker null');\r\n    }\r\n    return (\r\n      <div className={classes.root}>\r\n        <CssBaseline />\r\n        <Grid container className={classes.root}\r\n          direction=\"row\" justify=\"center\" alignments=\"stretch\">\r\n          <VehicleSocket realtime={realtime}>\r\n            <TopBar />\r\n            <Grid item xs={8} className={classes.demo}   >\r\n              <Typography variant=\"h4\" gutterBottom   >\r\n                Vehicle Statestics\r\n          </Typography>\r\n              <MapCard className={classes.demo} pos={marker} />\r\n              {/* <Paper  > */}\r\n              <Grid container justify=\"center\"     >\r\n                <MediaControlCard max={vehicles.length - 1} value={marker} click={this.handleSlideClick} MediaControlChange={this.handleMediaControlChange} />\r\n              </Grid>\r\n              {/* </Paper> */}\r\n            </Grid>\r\n            <Grid container alignments=\"stretch\" className={classes.demo} direction=\"column\" item xs={4}  >\r\n              <Paper  >\r\n                <Paper  >\r\n                  <DatePickers submit={this.handleSubmit} realtimeclick={this.handleRealTimeClick} />\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom   >\r\n                    Signal Strength\r\n          </Typography>\r\n                  <StrengthChart pos={ts} />\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom  >\r\n                    Speed\r\n          </Typography>\r\n                  <SpeedChart pos={ts} />\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                  <Typography variant=\"subtitle2\" gutterBottom  >\r\n                    Acceleration\r\n                </Typography>\r\n                  <SpeedChart pos={ts} />\r\n                </Paper>\r\n              </Paper>\r\n            </Grid>\r\n          </VehicleSocket>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nDashboard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\n// const mapStateToProps = (state) => {\r\n//   return {\r\n//     vehicles: state.vehicles\r\n//   }\r\n// };\r\n\r\nconst mapStateToProps = (state) => state;\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n  return {\r\n    actions: bindActionCreators(vehicleActions, dispatch)\r\n  }\r\n}\r\n// const connectDash = connect(mapStateToProps)(Dashboard);\r\n// const withStyleDash = withStyles(styles)(connectDash);\r\n\r\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(Dashboard));\r\n","import React, { Component } from \"react\";\r\n// import App from \"./app\";\r\n\r\nimport thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport reducers from \"./../reducers/index\";\r\n\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n// import MomentUtils from '@date-io/moment';\r\nimport GeoT from './../GeoTrackDashboard'; \r\n\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\n// import lightGreen from '@material-ui/core/colors/lightGreen';\r\nimport teal from '@material-ui/core/colors/teal';\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: teal,\r\n    secondary: {\r\n      main: '#ffeb3b',\r\n    },\r\n  },\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nconst AppProvider = (\r\n  <MuiThemeProvider theme={theme}> \r\n   <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\r\n  <Provider store={store}>\r\n    <GeoT />\r\n  </Provider>\r\n  </MuiPickersUtilsProvider>\r\n\r\n   </MuiThemeProvider>\r\n\r\n)\r\n\r\n\r\nclass Main extends Component {\r\n  render() {\r\n    return (\r\n      AppProvider\r\n    )\r\n  }\r\n}\r\n\r\nexport default Main;","\nimport React from 'react';\nimport ReactDOM from 'react-dom'; \n import Main from \"./containers/index\";\n\n\nReactDOM.render(<Main />, document.querySelector('#root'));\n       "],"sourceRoot":""}