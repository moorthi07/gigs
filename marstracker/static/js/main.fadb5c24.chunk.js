(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){},169:function(e,t,a){e.exports=a.p+"static/media/car-marker.c37c7a43.png"},399:function(e,t,a){e.exports=a(767)},767:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"UPDATE_VEHICLES",function(){return E}),a.d(n,"RT_UPDATE_VEHICLES",function(){return y}),a.d(n,"fetchVehicles",function(){return O}),a.d(n,"updateVehicles",function(){return C}),a.d(n,"rtUpdateVehicles",function(){return j});var r=a(0),i=a.n(r),l=a(23),o=a.n(l),c=a(25),s=a(26),m=a(29),u=a(27),h=a(30),p=a(369),d=a(64),g=a(45),b=a(371),f=a.n(b),E="UPDATE_VEHICLES",y="RT_UPDATE_VEHICLES",v="dd7295fa-6c65-484d-b38d-30df3bc31c0c",O=function(e,t){return function(a){return f.a.get("".concat("./data.json"),{params:{since:e,until:t}}).then(function(e){e.data&&console.log("-----------div id data",e.data.devices[v]),a(C(e.data.devices[v]))}).catch(function(e){throw console.log(e),e})}},C=function(e){return console.log("vehicles data",e),{type:E,vehicles:e}},j=function(e){return{type:y,vehicles:e}},w=[],k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case y:return t.vehicles;default:return e}},S=Object(d.combineReducers)({vehicles:k}),x=a(123),M=a(396),T=a(34),I=a(113),P=a(3),N=a.n(P),D=a(28),R=a(391),A=a.n(R),z=a(63),L=a.n(z),B=a(217),F=a.n(B),U=a(218),W=a.n(U),V=a(186),_=a.n(V),H=a(130),G=a.n(H),K=a(131),Y=a.n(K),Z=a(132),J=a.n(Z),q=a(184),Q=a.n(q),X=a(185),$=a.n(X),ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pos:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.pos!==this.props.pos&&this.setState({pos:e.pos})}},{key:"render",value:function(){return i.a.createElement(F.a,{width:"99%",height:"80%"},i.a.createElement(W.a,{data:this.props.vehicles,syncId:"anyId"},i.a.createElement($.a,{x:this.props.pos,stroke:"red",label:""}),i.a.createElement(G.a,{dataKey:"timestamp",tick:!1}),i.a.createElement(Y.a,null),i.a.createElement(J.a,{vertical:!1,strokeDasharray:"3 3"}),i.a.createElement(Q.a,null),i.a.createElement(_.a,{type:"monotone",dataKey:"rssi",stroke:"#82ca9d"})))}}]),t}(r.Component),te=Object(g.connect)(function(e){return{vehicles:e.vehicles}})(ee);var ae=Object(g.connect)(function(e){return{vehicles:e.vehicles}})(function(e){var t=e.pos;return i.a.createElement(F.a,{width:"99%",height:"80%"},i.a.createElement(W.a,{data:e.vehicles,syncId:"anyId"},i.a.createElement(G.a,{label:"Time",dataKey:"timestamp",tick:!1}),i.a.createElement(Y.a,null),i.a.createElement(J.a,{vertical:!1,strokeDasharray:"3 3"}),i.a.createElement(Q.a,null),i.a.createElement($.a,{x:t,stroke:"red"}),i.a.createElement(_.a,{type:"monotone",dataKey:"speed",stroke:"#82ca9d"})))}),ne=a(133),re=a(170),ie=a(171),le=a(320),oe=a(321),ce=a(322),se=a(337),me=a(10),ue=a.n(me),he=(a(580),a(270)),pe=a.n(he),de=a(142),ge=a.n(de);var be=function(e){function t(t){return{borderRadius:2,width:"20%",height:"".concat(25*t,"%"),background:e.strength>=25*(t-1)+10?"red":"lightgrey"}}return i.a.createElement("div",{style:{width:50,height:20,padding:"5px",marginLeft:"10px",display:"flex",alignItems:"flex-end",justifyContent:"space-between",borderRadius:2}},i.a.createElement("div",{style:t(1)}),i.a.createElement("div",{style:t(2)}),i.a.createElement("div",{style:t(3)}),i.a.createElement("div",{style:t(4)}))},fe=a(376),Ee=(a(143),a(127)),ye=(new ue.a.Icon({iconUrl:a(169),iconRetinaUrl:a(169),iconAnchor:[20,40],popupAnchor:[0,-35],iconSize:[40,40],shadowUrl:"./assets/images/marker-shadow.png",shadowSize:[29,40],shadowAnchor:[7,40]}),[37.774304,-122.441951]),ve={position:"relative",width:"100%",height:"80%"},Oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleZoom=function(e){var t=e.target.getCenter(),n=t.lat,r=t.lng;a.setState({lat:n,lng:r,zoom:e.target.getZoom()})},a.onTogglePlay=function(){alert("play"),a.setState({play:!a.state.play})},a.state={waypoints:[],positions:[[43.604403,1.443373],[43.613547,1.308568]],zoom:16,play:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.vehicles,t=this.state.zoom,a=this.props.classes,n=e.map(function(e){return[e.lat,e.long]}),r=null,l=0,o="";return n[this.props.pos]&&(ye=n[this.props.pos],l=e[this.props.pos].speed,o=e[this.props.pos].rssi,r=i.a.createElement(ne.a,{position:n[this.props.pos]},i.a.createElement(re.a,{className:a.popupsize},"speed: ",l,i.a.createElement("br",null)," Signal: ",o,i.a.createElement(Ee.Player,{style:{width:"400px",height:"300px"},playsInline:!0,poster:"/assets/poster.png",src:"https://www.mapbox.com/bites/00188/patricia_nasa.mp4"})))),i.a.createElement("div",null,i.a.createElement(ie.a,{center:ye,zoom:t,zoomControl:!1,style:ve,attributionControl:!1,onzoom:this.handleZoom},i.a.createElement(le.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),i.a.createElement(oe.a,{position:"bottomright"}),i.a.createElement(ce.a,{positions:n,color:"green",weight:10,opacity:.4}),r,i.a.createElement(fe.Portal,{style:{borderRadius:5},position:"topright"},i.a.createElement("div",{style:{backgroundColor:"#000",display:"flex",width:"150px",fontSize:14,color:"#fff",opacity:.7,padding:6}},i.a.createElement("span",null,l," mph "),"       ",i.a.createElement(be,{strength:25*o})," ",i.a.createElement("span",null,o," ")),i.a.createElement(Ee.Player,{style:{width:"200px",height:"200px"},playsInline:!0,poster:"/assets/poster.png",src:"https://www.mapbox.com/bites/00188/patricia_nasa.mp4"})),pe()(e,function(e,t){e.timestamp,e.type;var a,n=(a={},Object(T.a)(a,ge.a.marker,!0),Object(T.a)(a,ge.a.bus,!0),a);Object(me.divIcon)({className:N()(n),html:"<span>".concat(t,"</span>")});return i.a.createElement(se.a,{style:{color:"red"},className:n.circle,key:t,center:[e.lat,e.long],radius:5,attribution:t},i.a.createElement(re.a,null,"speed:",e.speed,i.a.createElement("br",null),"time:",e.timestamp))})))}}]),t}(r.Component),Ce=Object(D.withStyles)(function(e){return{root:Object(T.a)({flexGrow:1,display:"flex",height:"100vh",overflow:"auto"},"height","100%"),circle:{color:"green",backgroud:"white"},popupsize:{maxWidth:"300px",minWidth:"200px"}}})(Object(g.connect)(function(e){return{vehicles:e.vehicles}})(Oe)),je=a(377),we=a.n(je),ke=a(37),Se=a.n(ke),xe=a(325),Me=a.n(xe),Te=a(380),Ie=a.n(Te),Pe=a(381),Ne=a.n(Pe),De=a(324),Re=a.n(De),Ae=a(326),ze=a.n(Ae),Le=a(327),Be=a.n(Le),Fe=a(378),Ue=a.n(Fe),We=a(379),Ve=a.n(We),_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleSlideChange=function(e,t){console.clear("media value:",t),a.setState({showPlay:!0}),a.props.click(t)},a.handlePlayStop=function(){var e=!1;a.state.showPlay?(e=!1,a.props.MediaControlChange(5)):(e=!0,a.props.MediaControlChange(-5)),a.setState({showPlay:e})},a.state={value:0,showPlay:!0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"handlePlaybuttons",value:function(e){switch(e){case 0:case-1:case 1:case 9:this.props.MediaControlChange(e),this.setState({showPlay:!0})}}},{key:"render",value:function(){var e,t=this.props,a=t.classes,n=t.theme,r=t.max,l=t.value;return this.step=1,i.a.createElement(we.a,{className:a.card},i.a.createElement("div",{className:a.details},i.a.createElement(Ue.a,(e={classes:{container:a.slider},value:l,min:0,max:r,step:this.step,"aria-labelledby":"slider-image",onChange:this.handleSlideChange},Object(T.a)(e,"classes",{container:a.slider,thumbIconWrapper:a.thumbIconWrapper}),Object(T.a)(e,"thumb",i.a.createElement(Ve.a,{style:{color:"#2196f3"}})),e))),i.a.createElement("div",{className:a.controls},i.a.createElement(Se.a,{"aria-label":"First",onClick:this.handlePlaybuttons.bind(this,0)},"rtl"===n.direction?i.a.createElement(Re.a,null):i.a.createElement(Me.a,null)),i.a.createElement(Se.a,{"aria-label":"Previous",onClick:this.handlePlaybuttons.bind(this,-1)},"rtl"===n.direction?i.a.createElement(ze.a,null):i.a.createElement(Be.a,null)),this.state.showPlay?i.a.createElement(Se.a,{"aria-label":"Play/pause",onClick:this.handlePlayStop},i.a.createElement(Ie.a,{className:a.playIcon})):i.a.createElement(Se.a,{"aria-label":"stop",onClick:this.handlePlayStop},i.a.createElement(Ne.a,{className:a.playIcon})),i.a.createElement(Se.a,{"aria-label":"Next",onClick:this.handlePlaybuttons.bind(this,1)},"rtl"===n.direction?i.a.createElement(Be.a,null):i.a.createElement(ze.a,null)),i.a.createElement(Se.a,{"aria-label":"Last",onClick:this.handlePlaybuttons.bind(this,9)},"rtl"===n.direction?i.a.createElement(Me.a,null):i.a.createElement(Re.a,null))))}}]),t}(i.a.Component),He=Object(D.withStyles)(function(e){return{card:{width:"100%",height:"20%"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},cover:{width:"100%"},controls:{width:"100%",display:"flex",justifyContent:"center"},playIcon:{height:38,width:38},slider:{padding:"22px 0px"},thumbIcon:{borderRadius:"50%"},thumbIconWrapper:{backgroundColor:"#fff"}}},{withTheme:!0})(_e),Ge=a(94),Ke=a(55),Ye=a.n(Ke),Ze=a(768),Je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChangedtFrom=function(e){a.setState({dtFrom:e})},a.handleChangedtTo=function(e){a.setState({dtTo:e})},a.state={open:!1,dtFrom:Object(Ze.a)(new Date("2018-12-05T03:17-08:00"),"MM/dd/yyyy hh:mm a"),dtTo:Object(Ze.a)(new Date("2018-12-17T03:45-08:00"),"MM/dd/yyyy hh:mm a"),selectedDate:new Date("2018-01-01T00:00:00.000Z")},a.handleChangedtFrom=a.handleChangedtFrom.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChangedtTo=a.handleChangedtTo.bind(Object(Ge.a)(Object(Ge.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=(t.selectedDate,t.dtFrom),n=t.dtTo,l=this.props.classes;return i.a.createElement("form",{className:l.container,noValidate:!0},i.a.createElement(r.Fragment,null,i.a.createElement("div",{className:"picker"},i.a.createElement(x.a,{value:a,onChange:this.handleChangedtFrom,className:l.textField,id:"from",label:"From",format:"MM/dd/yyyy hh:mm a"})),i.a.createElement("div",{className:"picker"},i.a.createElement(x.a,{value:n,onChange:this.handleChangedtTo,id:"to",label:"To",format:"MM/dd/yyyy hh:mm a"}))),i.a.createElement("div",null,i.a.createElement(Ye.a,{color:"secondary",onClick:function(){return e.props.submit(e.state.dtFrom,e.state.dtTo)},variant:"contained",className:l.button},"Go")))}}]),t}(i.a.Component),qe=Object(D.withStyles)(function(e){return{container:{display:"flex",padding:e.spacing.unit,marginBottom:1,width:"100%"},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},label:{padding:5,marginBottom:e.spacing.unit},txtField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200,color:"white"}}})(Je),Qe=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),Xe=Object(g.connect)(function(e){return e},function(e,t){return{actions:Object(d.bindActionCreators)(n,e)}})(Qe),$e=a(334),et=a.n($e),tt=a(188),at=a.n(tt),nt=a(42),rt=a.n(nt),it=a(237),lt=a.n(it),ot=a(176),ct=a.n(ot),st=a(331),mt=a.n(st),ut=a(78),ht=a(388),pt=a.n(ht),dt=a(333),gt=a.n(dt),bt=a(236),ft=a.n(bt),Et=a(332),yt=a.n(Et),vt=a(390),Ot=a.n(vt),Ct=a(389),jt=a.n(Ct),wt=a(224),kt=a.n(wt),St=a(387),xt=a.n(St),Mt=a(226),Tt=a.n(Mt),It=a(328),Pt=a.n(It),Nt=a(330),Dt=a.n(Nt),Rt=a(329),At=a.n(Rt),zt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,mobileMoreAnchorEl:null,open:!1},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null}),a.handleMobileMenuClose()},a.handleMobileMenuOpen=function(e){a.setState({mobileMoreAnchorEl:e.currentTarget})},a.handleMobileMenuClose=function(){a.setState({mobileMoreAnchorEl:null})},a.toggleDrawer=function(){return function(){a.setState({open:!a.state.open})}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.anchorEl,a=e.mobileMoreAnchorEl,n=this.props.classes,r=Boolean(t),l=Boolean(a),o=i.a.createElement("div",{className:n.list},i.a.createElement(kt.a,null,["Bookmarks","Filters","DataSources","Reports"].map(function(e,t){return i.a.createElement(Tt.a,{button:!0,key:e},i.a.createElement(Pt.a,null,t%2===0?i.a.createElement(At.a,null):i.a.createElement(ft.a,null)),i.a.createElement(Dt.a,{primary:e}))})),i.a.createElement(xt.a,null),i.a.createElement(kt.a,null,["History","Settings"].map(function(e,t){return i.a.createElement(Tt.a,{button:!0,key:e},i.a.createElement(Pt.a,null,t%2===0?i.a.createElement(At.a,null):i.a.createElement(ft.a,null)),i.a.createElement(Dt.a,{primary:e}))}))),c=i.a.createElement(mt.a,{anchorEl:t,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:r,onClose:this.handleMenuClose},i.a.createElement(ct.a,{onClick:this.handleMenuClose},"Profile"),i.a.createElement(ct.a,{onClick:this.handleMenuClose},"My account")),s=i.a.createElement(mt.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:this.handleMobileMenuClose},i.a.createElement(ct.a,null,i.a.createElement(Se.a,{color:"inherit"},i.a.createElement(lt.a,{badgeContent:4,color:"secondary"},i.a.createElement(ft.a,null))),i.a.createElement("p",null,"Messages")),i.a.createElement(ct.a,null,i.a.createElement(Se.a,{color:"inherit"},i.a.createElement(lt.a,{badgeContent:11,color:"secondary"},i.a.createElement(yt.a,null))),i.a.createElement("p",null,"Notifications")),i.a.createElement(ct.a,{onClick:this.handleProfileMenuOpen},i.a.createElement(Se.a,{color:"inherit"},i.a.createElement(gt.a,null)),i.a.createElement("p",null,"Profile")));return i.a.createElement("div",{className:n.root},i.a.createElement(et.a,{position:"static"},i.a.createElement(at.a,null,i.a.createElement(Se.a,{onClick:this.toggleDrawer("left",!0),className:n.menuButton,color:"inherit","aria-label":"Open drawer"},i.a.createElement(pt.a,null)),i.a.createElement(rt.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Mars Geo Tracker"),i.a.createElement(jt.a,{open:this.state.open,onClose:this.toggleDrawer("left",!1)},i.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!0),onKeyDown:this.toggleDrawer("left",!1)},i.a.createElement(et.a,{position:"static"},i.a.createElement(at.a,null,i.a.createElement(rt.a,{className:n.title,variant:"h6",color:"inherit",noWrap:!0},"Mars Geo Tracker"))),o)),i.a.createElement("div",{className:n.grow}),i.a.createElement("div",{className:n.sectionDesktop},i.a.createElement(qe,{submit:this.props.submit,realtimeclick:this.handleRealTimeClick}),i.a.createElement(Se.a,{color:"inherit"},i.a.createElement(lt.a,{badgeContent:11,color:"secondary"},i.a.createElement(yt.a,null))),i.a.createElement(Se.a,{"aria-owns":r?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},i.a.createElement(gt.a,null))),i.a.createElement("div",{className:n.sectionMobile},i.a.createElement(Se.a,{"aria-haspopup":"true",onClick:this.handleMobileMenuOpen,color:"inherit"},i.a.createElement(Ot.a,null))))),c,s)}}]),t}(i.a.Component),Lt=Object(D.withStyles)(function(e){return{root:{width:"100%"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(T.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(T.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ut.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ut.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(T.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(T.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(T.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})(zt),Bt=a(38),Ft=a.n(Bt),Ut=function(e){function t(e){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pos,a=e.classes,n=t;return i.a.createElement(L.a,{container:!0,alignments:"stretch",className:a.demo,direction:"column",item:!0},i.a.createElement(Ft.a,{className:a.paper},i.a.createElement(rt.a,{variant:"subtitle2",gutterBottom:!0},"Signal Strength"),i.a.createElement(te,{pos:n})),i.a.createElement(Ft.a,{className:a.paper},i.a.createElement(rt.a,{variant:"subtitle2",gutterBottom:!0},"Speed"),i.a.createElement(ae,{pos:n})),i.a.createElement(Ft.a,{className:a.paper},i.a.createElement(rt.a,{variant:"subtitle2",gutterBottom:!0},"Acceleration"),i.a.createElement(ae,{pos:n})))}}]),t}(i.a.Component),Wt=Object(D.withStyles)(function(e){return{demo:{height:"92%",padding:e.spacing.unit},center:{textAlign:"center"},left:{textAlign:"center"},paper:{padding:2*e.spacing.unit,height:"27%",textAlign:"left",color:e.palette.text.secondary,margin:"0 2px 2px "},control:{padding:2*e.spacing.unit},card:{minWidth:2},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:12},pos:{marginBottom:12},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),chartContainer:{marginLeft:-22},tableContainer:{width:"100%",height:"70%"},h5:{marginBottom:2*e.spacing.unit},button:Object(T.a)({margin:e.spacing.unit},"margin","0 0 0 12px")}})(Object(g.connect)(function(e){return{vehicles:e.vehicles}})(Ut)),Vt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={pos:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.pos!==this.props.pos&&this.setState({pos:e.pos})}},{key:"render",value:function(){var e=this.props;e.pos,e.classes;return i.a.createElement(Ft.a,{style:{width:"100%",padding:10}},i.a.createElement(Ee.Player,{style:{width:"100%",height:"100%"},playsInline:!0,poster:"/assets/poster.png",src:"https://www.mapbox.com/bites/00188/patricia_nasa.mp4"},i.a.createElement(Ee.BigPlayButton,{position:"center"})))}}]),t}(i.a.Component),_t=Object(g.connect)(function(e){return{vehicles:e.vehicles}})(Vt),Ht=a(397),Gt=a(109),Kt=a.n(Gt),Yt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChangeMessage=function(e){a.setState({message:{msg:e.target.value,dt:a.getTime()}})},a.handleSendMessage=function(e){a.setState({messages:[].concat(Object(Ht.a)(a.state.messages),[a.state.message])})},a.state={open:!1,messages:[],message:{msg:"",dt:""}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getTime",value:function(){function e(e){return e<10?"0"+e:e}var t=new Date;return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())}},{key:"render",value:function(){var e=this.state,t=e.messages,a=e.message,n=this.props.classes,r=t.map(function(e,t){return i.a.createElement("div",{key:t}," ",i.a.createElement("span",null,e.dt),i.a.createElement("br",null),i.a.createElement("span",{className:n.name},"You:")," ",i.a.createElement("br",null)," ",i.a.createElement("span",{className:n.message},e.msg)," ")});return i.a.createElement("form",{className:n.container,noValidate:!0},i.a.createElement("div",{className:n.demo},i.a.createElement(Ft.a,{className:n.cheight},r),i.a.createElement(Ft.a,null,i.a.createElement("div",{className:n.msgDiv},i.a.createElement(Kt.a,{id:"Message",label:"Message",style:{margin:8},value:a.msg,placeholder:"Halo",helperText:"",fullWidth:!0,margin:"normal",onChange:this.handleChangeMessage,InputLabelProps:{shrink:!0}}),i.a.createElement(Ye.a,{color:"secondary",onClick:this.handleSendMessage,variant:"contained",className:n.button},"  Send ")))))}}]),t}(i.a.Component),Zt=Object(D.withStyles)(function(e){return{container:{display:"flex",padding:e.spacing.unit,marginBottom:1,width:"100%",height:"80%"},demo:{width:"100%",padding:e.spacing.unit},button:{margin:e.spacing.unit},leftIcon:{marginRight:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},iconSmall:{fontSize:20},label:{padding:5,marginBottom:e.spacing.unit},msgDiv:{width:"100%",display:"flex"},txtField:{},paper:{},cheight:{height:"80%",overflowY:"scroll"},name:{color:"blue"},message:{color:"red"}}})(Yt),Jt=a(225),qt=a.n(Jt),Qt=a(95),Xt=a.n(Qt),$t=a(393),ea=a.n($t),ta=a(392),aa=a.n(ta),na=a(394),ra=a.n(na),ia=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleTabChange=function(e,t){a.setState({tabIndex:t})},a.handleSubmit=function(e,t){e&&t&&(console.log("from-to"+e+"-"+t),e=a.getISODateString(e),t=a.getISODateString(t),console.log("from-to"+e+"-"+t),e.trim()&&t.trim()&&(a.props.actions.fetchVehicles(e.trim(),t.trim()),a.handleReset(),a.stopPlayMap()))},a.handleReset=function(){a.setState({dtFrom:"",dtTo:""})},a.handleRealTimeClick=function(){console.log("RT",a.state.realtime),a.setState({realtime:!0})},a.handleSlideClick=function(e){console.log("pos ".concat(e)),a.stopPlayMap(),a.setMarker(e)},a.handleMediaControlChange=function(e){console.log("media",e),a.stopPlayMap();var t=a.state.marker,n=a.props.vehicles.length;switch(console.log("mediamarker ".concat(t," , len= ").concat(n-1)),e){case 0:t=0;break;case-1:t=t-1>0?t-1:0;break;case-5:a.stopPlayMap();break;case 5:a.playMap(t);break;case 1:t=t+1<n?t+1:n-1;break;case 9:t=n-1}console.log("num  ".concat(t)),a.setMarker(t)},a.state={open:!1,realtime:!1,dtFrom:(new Date).toISOString(),dtTo:(new Date).toISOString(),marker:0,vLength:0,didMount:!1,tabIndex:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({didMount:!0})}},{key:"componentWillReceiveProps",value:function(e){console.log("compwill-receive props"),this.setState({marker:0})}},{key:"pad",value:function(e){return e<10?"0"+e:e}},{key:"getISODateString",value:function(e){return(e=new Date(e)).getUTCFullYear()+"-"+this.pad(e.getUTCMonth()+1)+"-"+this.pad(e.getUTCDate())+"T"+this.pad(e.getHours())+":"+this.pad(e.getMinutes())+":"+this.pad(e.getSeconds())}},{key:"playMap",value:function(e){var t=this;if(this.state.didMount&&e>=0){var a=this.props.vehicles.length;this.setLoop=setInterval(function(){var n=e>a-1?e-=a:e++;t.setMarker(n)},1e3)}}},{key:"stopPlayMap",value:function(){this.setLoop&&clearInterval(this.setLoop)}},{key:"setMarker",value:function(e){console.log("setMarker",e),this.setState(function(){return{marker:e}})}},{key:"render",value:function(){var e,t=this.props.classes,a=this.props.vehicles,n=this.state,r=n.realtime,l=n.marker,o=n.tabIndex;return console.log("marker....",l),l&&(e="undefined"!==typeof a&&a.length>0?a[l].timestamp:l),i.a.createElement("div",null,i.a.createElement(A.a,null),i.a.createElement(L.a,{container:!0,className:t.root,direction:"row",justify:"center",alignments:"stretch"},i.a.createElement(Xe,{realtime:r},i.a.createElement(Lt,{submit:this.handleSubmit,realtimeclick:this.handleRealTimeClick}),i.a.createElement(L.a,{item:!0,xs:8,className:t.demo},i.a.createElement(Ce,{className:t.map,pos:l}),i.a.createElement(L.a,{container:!0,justify:"center"},i.a.createElement(He,{max:a.length-1,value:l,click:this.handleSlideClick,MediaControlChange:this.handleMediaControlChange}))),i.a.createElement(L.a,{container:!0,alignments:"stretch",className:t.map,direction:"row",item:!0,xs:4},i.a.createElement(qt.a,{value:o,onChange:this.handleTabChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary"},i.a.createElement(Xt.a,{icon:i.a.createElement(aa.a,null)}),i.a.createElement(Xt.a,{icon:i.a.createElement(ea.a,null)}),i.a.createElement(Xt.a,{icon:i.a.createElement(ra.a,null)})),0===o&&i.a.createElement(Wt,{pos:e,handleSubmit:this.handleSubmit}),1===o&&i.a.createElement(_t,null),2===o&&i.a.createElement(Zt,{pos:e,handleSubmit:this.handleSubmit})))))}}]),t}(i.a.Component),la=Object(D.withStyles)(function(e){return{root:{flexGrow:1,display:"flex",height:"100%",overflow:"auto",width:"100%"},demo:{height:"89%",width:"100%",padding:e.spacing.unit},map:{height:"100%",width:"100%",padding:e.spacing.unit},center:{textAlign:"center"},left:{textAlign:"center"},Paper:{border:0,padding:2*e.spacing.unit,height:"27%",textAlign:"left",color:e.palette.text.secondary,margin:"0 2px 2px "},control:{padding:2*e.spacing.unit},card:{minWidth:2},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:12},pos:{marginBottom:12},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),chartContainer:{marginLeft:-22},tableContainer:{width:"100%",height:"70%"},h5:{marginBottom:2*e.spacing.unit},button:Object(T.a)({margin:e.spacing.unit},"margin","0 0 0 12px")}})(Object(g.connect)(function(e){return e},function(e,t){return{actions:Object(d.bindActionCreators)(n,e)}})(ia)),oa=a(395),ca=a.n(oa),sa=Object(D.createMuiTheme)({palette:{primary:ca.a,secondary:{main:"#ffeb3b"}}}),ma=Object(d.createStore)(S,Object(d.applyMiddleware)(p.a)),ua=i.a.createElement(D.MuiThemeProvider,{theme:sa},i.a.createElement(x.b,{utils:M.a},i.a.createElement(g.Provider,{store:ma},i.a.createElement(la,null)))),ha=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return ua}}]),t}(r.Component);o.a.render(i.a.createElement(ha,null),document.querySelector("#root"))}},[[399,2,1]]]);
//# sourceMappingURL=main.fadb5c24.chunk.js.map